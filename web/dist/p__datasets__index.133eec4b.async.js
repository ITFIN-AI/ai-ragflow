'use strict';
(self.webpackChunk = self.webpackChunk || []).push([
  [1200],
  {
    5715: function (e, a, t) {
      t.d(a, {
        F$: function () {
          return p;
        },
        Q5: function () {
          return h;
        },
        qE: function () {
          return m;
        },
      });
      var n = t(97857),
        s = t.n(n),
        c = t(13769),
        o = t.n(c),
        r = t(10952),
        i = t(62435),
        l = t(27080),
        d = t(86074),
        u = ['className'],
        f = ['className'],
        g = ['className'],
        m = i.forwardRef(function (e, a) {
          var t = e.className,
            n = o()(e, u);
          return (0, d.jsx)(
            r.fC,
            s()(
              {
                ref: a,
                className: (0, l.cn)(
                  'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',
                  t,
                ),
              },
              n,
            ),
          );
        });
      m.displayName = r.fC.displayName;
      var p = i.forwardRef(function (e, a) {
        var t = e.className,
          n = o()(e, f);
        return (0, d.jsx)(
          r.Ee,
          s()(
            { ref: a, className: (0, l.cn)('aspect-square h-full w-full', t) },
            n,
          ),
        );
      });
      p.displayName = r.Ee.displayName;
      var h = i.forwardRef(function (e, a) {
        var t = e.className,
          n = o()(e, g);
        return (0, d.jsx)(
          r.NY,
          s()(
            {
              ref: a,
              className: (0, l.cn)(
                'flex h-full w-full items-center justify-center rounded-full bg-muted',
                t,
              ),
            },
            n,
          ),
        );
      });
      h.displayName = r.NY.displayName;
    },
    87030: function (e, a, t) {
      t.d(a, {
        Ol: function () {
          return x;
        },
        SZ: function () {
          return v;
        },
        Zb: function () {
          return h;
        },
        aY: function () {
          return k;
        },
        ll: function () {
          return N;
        },
      });
      var n = t(97857),
        s = t.n(n),
        c = t(13769),
        o = t.n(c),
        r = t(62435),
        i = t(27080),
        l = t(86074),
        d = ['className'],
        u = ['className'],
        f = ['className'],
        g = ['className'],
        m = ['className'],
        p = ['className'],
        h = r.forwardRef(function (e, a) {
          var t = e.className,
            n = o()(e, d);
          return (0, l.jsx)(
            'div',
            s()(
              {
                ref: a,
                className: (0, i.cn)(
                  'rounded-lg  bg-background-card  text-card-foreground shadow-sm',
                  t,
                ),
              },
              n,
            ),
          );
        });
      h.displayName = 'Card';
      var x = r.forwardRef(function (e, a) {
        var t = e.className,
          n = o()(e, u);
        return (0, l.jsx)(
          'div',
          s()(
            {
              ref: a,
              className: (0, i.cn)('flex flex-col space-y-1.5 p-6', t),
            },
            n,
          ),
        );
      });
      x.displayName = 'CardHeader';
      var N = r.forwardRef(function (e, a) {
        var t = e.className,
          n = o()(e, f);
        return (0, l.jsx)(
          'div',
          s()(
            {
              ref: a,
              className: (0, i.cn)(
                'text-2xl font-semibold leading-none tracking-tight',
                t,
              ),
            },
            n,
          ),
        );
      });
      N.displayName = 'CardTitle';
      var v = r.forwardRef(function (e, a) {
        var t = e.className,
          n = o()(e, g);
        return (0, l.jsx)(
          'div',
          s()(
            {
              ref: a,
              className: (0, i.cn)('text-sm text-muted-foreground', t),
            },
            n,
          ),
        );
      });
      v.displayName = 'CardDescription';
      var k = r.forwardRef(function (e, a) {
        var t = e.className,
          n = o()(e, m);
        return (0, l.jsx)(
          'div',
          s()({ ref: a, className: (0, i.cn)('p-6 pt-0', t) }, n),
        );
      });
      (k.displayName = 'CardContent'),
        (r.forwardRef(function (e, a) {
          var t = e.className,
            n = o()(e, p);
          return (0, l.jsx)(
            'div',
            s()(
              { ref: a, className: (0, i.cn)('flex items-center p-6 pt-0', t) },
              n,
            ),
          );
        }).displayName = 'CardFooter');
    },
    28993: function (e, a, t) {
      t.d(a, {
        $N: function () {
          return D;
        },
        Vq: function () {
          return N;
        },
        cN: function () {
          return b;
        },
        cZ: function () {
          return w;
        },
        fK: function () {
          return j;
        },
        hg: function () {
          return v;
        },
      });
      var n = t(97857),
        s = t.n(n),
        c = t(13769),
        o = t.n(c),
        r = t(28828),
        i = t(41352),
        l = t(62435),
        d = t(27080),
        u = t(86074),
        f = ['className'],
        g = ['className', 'children'],
        m = ['className'],
        p = ['className'],
        h = ['className'],
        x = ['className'],
        N = r.fC,
        v = r.xz,
        k = r.h_,
        C =
          (r.x8,
          l.forwardRef(function (e, a) {
            var t = e.className,
              n = o()(e, f);
            return (0, u.jsx)(
              r.aV,
              s()(
                {
                  ref: a,
                  className: (0, d.cn)(
                    'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
                    t,
                  ),
                },
                n,
              ),
            );
          }));
      C.displayName = r.aV.displayName;
      var w = l.forwardRef(function (e, a) {
        var t = e.className,
          n = e.children,
          c = o()(e, g);
        return (0, u.jsxs)(k, {
          children: [
            (0, u.jsx)(C, {}),
            (0, u.jsxs)(
              r.VY,
              s()(
                s()(
                  {
                    ref: a,
                    className: (0, d.cn)(
                      'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-colors-background-neutral-standard p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',
                      t,
                    ),
                  },
                  c,
                ),
                {},
                {
                  children: [
                    n,
                    (0, u.jsxs)(r.x8, {
                      className:
                        'absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground',
                      children: [
                        (0, u.jsx)(i.Z, { className: 'h-4 w-4' }),
                        (0, u.jsx)('span', {
                          className: 'sr-only',
                          children: 'Close',
                        }),
                      ],
                    }),
                  ],
                },
              ),
            ),
          ],
        });
      });
      w.displayName = r.VY.displayName;
      var j = function (e) {
        var a = e.className,
          t = o()(e, m);
        return (0, u.jsx)(
          'div',
          s()(
            {
              className: (0, d.cn)(
                'flex flex-col space-y-1.5 text-center sm:text-left',
                a,
              ),
            },
            t,
          ),
        );
      };
      j.displayName = 'DialogHeader';
      var b = function (e) {
        var a = e.className,
          t = o()(e, p);
        return (0, u.jsx)(
          'div',
          s()(
            {
              className: (0, d.cn)(
                'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
                a,
              ),
            },
            t,
          ),
        );
      };
      b.displayName = 'DialogFooter';
      var D = l.forwardRef(function (e, a) {
        var t = e.className,
          n = o()(e, h);
        return (0, u.jsx)(
          r.Dx,
          s()(
            {
              ref: a,
              className: (0, d.cn)(
                'text-lg font-semibold leading-none tracking-tight',
                t,
              ),
            },
            n,
          ),
        );
      });
      (D.displayName = r.Dx.displayName),
        (l.forwardRef(function (e, a) {
          var t = e.className,
            n = o()(e, x);
          return (0, u.jsx)(
            r.dk,
            s()(
              {
                ref: a,
                className: (0, d.cn)('text-sm text-muted-foreground', t),
              },
              n,
            ),
          );
        }).displayName = r.dk.displayName);
    },
    704: function (e, a, t) {
      t.d(a, {
        $: function () {
          return u;
        },
        t: function () {
          return d;
        },
      });
      var n = t(9783),
        s = t.n(n),
        c = t(5574),
        o = t.n(c),
        r = t(23454),
        i = t(62435),
        l = t(42028),
        d = (function (e) {
          return (e.KnowledgeId = 'knowledgeId'), e;
        })({}),
        u = function () {
          var e = (0, l.s0)(),
            a = (0, l.lr)(),
            t = o()(a, 1)[0],
            n = (0, l.UO)().id,
            c = (0, i.useCallback)(
              function () {
                e(r.Z.Datasets);
              },
              [e],
            ),
            u = (0, i.useCallback)(
              function (a) {
                return function () {
                  e(''.concat(r.Z.Dataset, '/').concat(a));
                };
              },
              [e],
            ),
            f = (0, i.useCallback)(
              function () {
                e(r.Z.Home);
              },
              [e],
            ),
            g = (0, i.useCallback)(
              function () {
                e(r.Z.ProfileSetting);
              },
              [e],
            ),
            m = (0, i.useCallback)(
              function () {
                e(r.Z.Chats);
              },
              [e],
            ),
            p = (0, i.useCallback)(
              function () {
                e(r.Z.Chat);
              },
              [e],
            ),
            h = (0, i.useCallback)(
              function () {
                e(r.Z.Agents);
              },
              [e],
            ),
            x = (0, i.useCallback)(
              function (a) {
                return function () {
                  e(''.concat(r.Z.Agent, '/').concat(a));
                };
              },
              [e],
            ),
            N = (0, i.useCallback)(
              function () {
                e(r.Z.AgentTemplates);
              },
              [e],
            ),
            v = (0, i.useCallback)(
              function () {
                e(r.Z.Searches);
              },
              [e],
            ),
            k = (0, i.useCallback)(
              function () {
                e(r.Z.Search);
              },
              [e],
            ),
            C = (0, i.useCallback)(
              function (a, t) {
                return function () {
                  e(
                    ''
                      .concat(r.Z.ParsedResult, '/chunks?id=')
                      .concat(t, '&doc_id=')
                      .concat(a),
                  );
                };
              },
              [e],
            ),
            w = (0, i.useCallback)(
              function (e) {
                var a = s()({}, d.KnowledgeId, t.get(d.KnowledgeId));
                return e ? a[e] : a;
              },
              [t],
            ),
            j = (0, i.useCallback)(
              function (a) {
                e(
                  ''
                    .concat(a, '/')
                    .concat(n, '?')
                    .concat(d.KnowledgeId, '=')
                    .concat(w(d.KnowledgeId)),
                );
              },
              [w, n, e],
            ),
            b = (0, i.useCallback)(
              function (a) {
                e(''.concat(r.Z.Files, '?folderId=').concat(a));
              },
              [e],
            );
          return {
            navigateToDatasetList: c,
            navigateToDataset: u,
            navigateToHome: f,
            navigateToProfile: g,
            navigateToChatList: m,
            navigateToChat: p,
            navigateToChunkParsedResult: C,
            getQueryString: w,
            navigateToChunk: j,
            navigateToAgentList: h,
            navigateToAgent: x,
            navigateToAgentTemplates: N,
            navigateToSearchList: v,
            navigateToSearch: k,
            navigateToFiles: b,
          };
        };
    },
    73312: function (e, a, t) {
      t.r(a),
        t.d(a, {
          default: function () {
            return z;
          },
        });
      var n = t(97857),
        s = t.n(n),
        c = t(87926),
        o = t(61363),
        r = t(57636),
        i = t(57509),
        l = t(8002),
        d = t(96486),
        u = t(31012),
        f = t(62435),
        g = t(67421),
        m = t(10799),
        p = t(28993),
        h = t(80499),
        x = t(27591),
        N = t(56312),
        v = t(87536),
        k = t(1604),
        C = t(86074),
        w = 'dataset-creating-form';
      function j(e) {
        var a = e.onOk,
          t = (0, g.$G)().t,
          n = k.z.object({
            name: k.z
              .string()
              .min(1, { message: t('knowledgeList.namePlaceholder') })
              .trim(),
          }),
          c = (0, v.cI)({ resolver: (0, N.F)(n), defaultValues: { name: '' } });
        return (0, C.jsx)(
          h.l0,
          s()(
            s()({}, c),
            {},
            {
              children: (0, C.jsx)('form', {
                onSubmit: c.handleSubmit(function (e) {
                  null == a || a(e.name);
                }),
                className: 'space-y-6',
                id: w,
                children: (0, C.jsx)(h.Wi, {
                  control: c.control,
                  name: 'name',
                  render: function (e) {
                    var a = e.field;
                    return (0, C.jsxs)(h.xJ, {
                      children: [
                        (0, C.jsx)(h.lX, { children: t('knowledgeList.name') }),
                        (0, C.jsx)(h.NI, {
                          children: (0, C.jsx)(
                            x.II,
                            s()(
                              {
                                placeholder: t('knowledgeList.namePlaceholder'),
                              },
                              a,
                            ),
                          ),
                        }),
                        (0, C.jsx)(h.zG, {}),
                      ],
                    });
                  },
                }),
              }),
            },
          ),
        );
      }
      function b(e) {
        var a = e.hideModal,
          t = e.onOk,
          n = (0, g.$G)().t;
        return (0, C.jsx)(p.Vq, {
          open: !0,
          onOpenChange: a,
          children: (0, C.jsxs)(p.cZ, {
            className: 'sm:max-w-[425px]',
            children: [
              (0, C.jsx)(p.fK, {
                children: (0, C.jsx)(p.$N, {
                  children: n('knowledgeList.createKnowledgeBase'),
                }),
              }),
              (0, C.jsx)(j, { onOk: t }),
              (0, C.jsx)(p.cN, {
                children: (0, C.jsx)(r.zx, {
                  type: 'submit',
                  form: w,
                  children: n('common.save'),
                }),
              }),
            ],
          }),
        });
      }
      var D = t(15009),
        S = t.n(D),
        y = t(99289),
        R = t.n(y),
        P = (t(5574), t(86968)),
        T = t(704),
        Z = function () {
          var e = (0, P.pG)(),
            a = e.visible,
            t = e.hideModal,
            n = e.showModal,
            s = (0, l.ME)(),
            c = s.loading,
            o = s.createKnowledge,
            r = (0, T.$)().navigateToDataset,
            i = (0, f.useCallback)(
              (function () {
                var e = R()(
                  S()().mark(function e(a) {
                    var n;
                    return S()().wrap(function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (e.next = 2), o({ name: a });
                          case 2:
                            0 === (null == (n = e.sent) ? void 0 : n.code) &&
                              (t(), r(n.data.kb_id)());
                          case 4:
                          case 'end':
                            return e.stop();
                        }
                    }, e);
                  }),
                );
                return function (a) {
                  return e.apply(this, arguments);
                };
              })(),
              [o, t, r],
            );
          return {
            loading: c,
            onCreateOk: i,
            visible: a,
            hideModal: t,
            showModal: n,
          };
        },
        A = t(6368),
        B = t(10541),
        M = t(83933);
      function z() {
        var e,
          a = (0, g.$G)().t,
          t = Z(),
          n = t.visible,
          p = t.hideModal,
          h = t.showModal,
          x = t.onCreateOk,
          N = t.loading,
          v = (0, l.Yi)(),
          k = v.kbs,
          w = v.total,
          j = v.pagination,
          D = v.setPagination,
          S = v.handleInputChange,
          y = v.searchString,
          R = v.filterValue,
          P = v.handleFilterSubmit,
          T =
            ((e = (0, B.VJ)().list),
            [
              {
                field: 'owner',
                list: (0, f.useMemo)(
                  function () {
                    return (0, M.n7)(e, 'tenant_id', 'nickname');
                  },
                  [e],
                ),
                label: 'Owner',
              },
            ]),
          z = (0, A.y)(),
          I = z.datasetRenameLoading,
          L = z.initialDatasetName,
          O = z.onDatasetRenameOk,
          V = z.datasetRenameVisible,
          F = z.hideDatasetRenameModal,
          K = z.showDatasetRenameModal,
          H = (0, f.useCallback)(
            function (e, a) {
              D({ page: e, pageSize: a });
            },
            [D],
          );
        return (0, C.jsxs)('section', {
          className: 'py-4 text-foreground',
          children: [
            (0, C.jsx)(c.Z, {
              title: a('header.knowledgeBase'),
              searchString: y,
              onSearchChange: S,
              value: R,
              filters: T,
              onChange: P,
              className: 'px-8',
              icon: 'data',
              children: (0, C.jsxs)(r.zx, {
                onClick: h,
                children: [
                  (0, C.jsx)(u.Z, { className: ' size-2.5' }),
                  a('knowledgeList.createKnowledgeBase'),
                ],
              }),
            }),
            (0, C.jsx)('div', {
              className: 'flex flex-wrap gap-4 max-h-[78vh] overflow-auto px-8',
              children: k.map(function (e) {
                return (0, C.jsx)(
                  m.p,
                  { dataset: e, showDatasetRenameModal: K },
                  e.id,
                );
              }),
            }),
            (0, C.jsx)('div', {
              className: 'mt-8 px-8',
              children: (0, C.jsx)(
                i.g,
                s()(
                  s()({}, (0, d.pick)(j, 'current', 'pageSize')),
                  {},
                  { total: w, onChange: H },
                ),
              ),
            }),
            n && (0, C.jsx)(b, { hideModal: p, onOk: x, loading: N }),
            V &&
              (0, C.jsx)(o.L, {
                hideModal: F,
                onOk: O,
                initialName: L,
                loading: I,
              }),
          ],
        });
      }
    },
    23454: function (e, a, t) {
      t.d(a, {
        Z: function () {
          return n;
        },
      });
      var n = (function (e) {
        return (
          (e.Login = '/login'),
          (e.Home = '/home'),
          (e.Datasets = '/datasets'),
          (e.DatasetBase = '/dataset'),
          (e[(e.Dataset = ''.concat(e.DatasetBase).concat(e.DatasetBase))] =
            'Dataset'),
          (e.Agent = '/agent'),
          (e.AgentTemplates = '/agent-templates'),
          (e.Agents = '/agents'),
          (e.Searches = '/next-searches'),
          (e.Search = '/next-search'),
          (e.Chats = '/next-chats'),
          (e.Chat = '/next-chat'),
          (e.Files = '/files'),
          (e.ProfileSetting = '/profile-setting'),
          (e.DatasetTesting = '/testing'),
          (e.DatasetSetting = '/setting'),
          (e.Chunk = '/chunk'),
          (e.ChunkResult = '/chunk/chunk'),
          (e.Parsed = '/parsed'),
          (e.ParsedResult = '/chunk/parsed'),
          (e.Result = '/result'),
          (e.ResultView = '/chunk/result'),
          e
        );
      })({});
      n.Home,
        n.Home,
        '@/pages'.concat(n.Home),
        n.Datasets,
        n.Datasets,
        '@/pages'.concat(n.Datasets),
        n.Chats,
        n.Chats,
        '@/pages'.concat(n.Chats),
        n.Chat,
        '@/pages'.concat(n.Chats, '/chat'),
        n.Searches,
        n.Searches,
        '@/pages'.concat(n.Searches),
        n.Search,
        '@/pages'.concat(n.Search),
        n.Agents,
        n.Agents,
        '@/pages'.concat(n.Agents),
        ''.concat(n.Agent, '/:id'),
        '@/pages'.concat(n.Agent),
        n.AgentTemplates,
        '@/pages'.concat(n.Agents).concat(n.AgentTemplates),
        n.Files,
        n.Files,
        '@/pages'.concat(n.Files),
        n.DatasetBase,
        n.DatasetBase,
        n.Dataset,
        n.DatasetBase,
        '@/pages'.concat(n.DatasetBase),
        ''.concat(n.Dataset, '/:id'),
        '@/pages'.concat(n.Dataset),
        ''.concat(n.DatasetBase).concat(n.DatasetSetting, '/:id'),
        '@/pages'.concat(n.DatasetBase).concat(n.DatasetSetting),
        ''.concat(n.DatasetBase).concat(n.DatasetTesting, '/:id'),
        '@/pages'.concat(n.DatasetBase).concat(n.DatasetTesting),
        ''.concat(n.ParsedResult, '/chunks'),
        '@/pages'.concat(
          n.Chunk,
          '/parsed-result/add-knowledge/components/knowledge-chunk',
        ),
        n.Chunk,
        n.Chunk,
        '@/pages'.concat(n.Chunk),
        ''.concat(n.ChunkResult, '/:id'),
        '@/pages'.concat(n.Chunk, '/chunk-result'),
        ''.concat(n.ResultView, '/:id'),
        '@/pages'.concat(n.Chunk, '/result-view'),
        n.Chunk,
        '@/pages'.concat(n.Chunk),
        n.ProfileSetting,
        '@/pages'.concat(n.ProfileSetting),
        n.ProfileSetting,
        ''.concat(n.ProfileSetting, '/profile'),
        ''.concat(n.ProfileSetting, '/profile'),
        '@/pages'.concat(n.ProfileSetting, '/profile'),
        ''.concat(n.ProfileSetting, '/team'),
        '@/pages'.concat(n.ProfileSetting, '/team'),
        ''.concat(n.ProfileSetting, '/plan'),
        '@/pages'.concat(n.ProfileSetting, '/plan'),
        ''.concat(n.ProfileSetting, '/model'),
        '@/pages'.concat(n.ProfileSetting, '/model'),
        ''.concat(n.ProfileSetting, '/prompt'),
        '@/pages'.concat(n.ProfileSetting, '/prompt');
    },
    83933: function (e, a, t) {
      t.d(a, {
        n7: function () {
          return n;
        },
      });
      t(96330);
      function n(e, a, t) {
        var n = [];
        return (
          e.forEach(function (e) {
            var s = n.find(function (t) {
              return t.id === e[a];
            });
            s ? (s.count += 1) : n.push({ id: e[a], label: e[t], count: 1 });
          }),
          n
        );
      }
    },
  },
]);
//# sourceMappingURL=p__datasets__index.133eec4b.async.js.map
