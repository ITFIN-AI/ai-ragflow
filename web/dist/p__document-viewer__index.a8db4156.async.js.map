{"version":3,"file":"p__document-viewer__index.a8db4156.async.js","mappings":"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","sources":["webpack:///./src/hooks/common-hooks.tsx","webpack:///./src/pages/document-viewer/file-error/index.less?9a0d","webpack:///./src/pages/document-viewer/file-error/index.tsx","webpack:///./src/pages/document-viewer/hooks.ts","webpack:///./src/pages/document-viewer/docx/index.less?800f","webpack:///./src/pages/document-viewer/docx/index.tsx","webpack:///./src/pages/document-viewer/excel/index.tsx","webpack:///./src/pages/document-viewer/image/index.tsx","webpack:///./src/pages/document-viewer/pdf/index.tsx","webpack:///./src/pages/document-viewer/index.less?1e43","webpack:///./src/pages/document-viewer/index.tsx","webpack:///./src/services/file-manager-service.ts","webpack:///./src/utils/api.ts","webpack:///./src/utils/file-util.ts","webpack:///./src/utils/register-server.ts","webpack:///./src/utils/request.ts","webpack:///./src/hooks/ lazy namespace object"],"sourcesContent":["import { ExclamationCircleFilled } from '@ant-design/icons';\nimport { App } from 'antd';\nimport isEqual from 'lodash/isEqual';\nimport { ReactNode, useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const useSetModalState = () => {\n  const [visible, setVisible] = useState(false);\n\n  const showModal = useCallback(() => {\n    setVisible(true);\n  }, []);\n  const hideModal = useCallback(() => {\n    setVisible(false);\n  }, []);\n\n  const switchVisible = useCallback(() => {\n    setVisible(!visible);\n  }, [visible]);\n\n  return { visible, showModal, hideModal, switchVisible };\n};\n\nexport const useDeepCompareEffect = (\n  effect: React.EffectCallback,\n  deps: React.DependencyList,\n) => {\n  const ref = useRef<React.DependencyList>();\n  let callback: ReturnType<React.EffectCallback> = () => {};\n  if (!isEqual(deps, ref.current)) {\n    callback = effect();\n    ref.current = deps;\n  }\n  useEffect(() => {\n    return () => {\n      if (callback) {\n        callback();\n      }\n    };\n  }, []);\n};\n\nexport interface UseDynamicSVGImportOptions {\n  onCompleted?: (\n    name: string,\n    SvgIcon: React.FC<React.SVGProps<SVGSVGElement>> | undefined,\n  ) => void;\n  onError?: (err: Error) => void;\n}\n\nexport function useDynamicSVGImport(\n  name: string,\n  options: UseDynamicSVGImportOptions = {},\n) {\n  const ImportedIconRef = useRef<React.FC<React.SVGProps<SVGSVGElement>>>();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<Error>();\n\n  const { onCompleted, onError } = options;\n  useEffect(() => {\n    setLoading(true);\n    const importIcon = async (): Promise<void> => {\n      try {\n        ImportedIconRef.current = (await import(name)).ReactComponent;\n        onCompleted?.(name, ImportedIconRef.current);\n      } catch (err: any) {\n        onError?.(err);\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    importIcon();\n  }, [name, onCompleted, onError]);\n\n  return { error, loading, SvgIcon: ImportedIconRef.current };\n}\n\ninterface IProps {\n  title?: string;\n  content?: ReactNode;\n  onOk?: (...args: any[]) => any;\n  onCancel?: (...args: any[]) => any;\n}\n\nexport const useShowDeleteConfirm = () => {\n  const { modal } = App.useApp();\n  const { t } = useTranslation();\n\n  const showDeleteConfirm = useCallback(\n    ({ title, content, onOk, onCancel }: IProps): Promise<number> => {\n      return new Promise((resolve, reject) => {\n        modal.confirm({\n          title: title ?? t('common.deleteModalTitle'),\n          icon: <ExclamationCircleFilled />,\n          content,\n          okText: t('common.ok'),\n          okType: 'danger',\n          cancelText: t('common.cancel'),\n          async onOk() {\n            try {\n              const ret = await onOk?.();\n              resolve(ret);\n              console.info(ret);\n            } catch (error) {\n              reject(error);\n            }\n          },\n          onCancel() {\n            onCancel?.();\n          },\n        });\n      });\n    },\n    [t, modal],\n  );\n\n  return showDeleteConfirm;\n};\n\nexport const useTranslate = (keyPrefix: string) => {\n  return useTranslation('translation', { keyPrefix });\n};\n\nexport const useCommonTranslation = () => {\n  return useTranslation('translation', { keyPrefix: 'common' });\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"errorWrapper\":\"errorWrapper___QfVXQ\"};","import { Alert, Flex } from 'antd';\n\nimport { useTranslate } from '@/hooks/common-hooks';\nimport React from 'react';\nimport styles from './index.less';\n\nconst FileError = ({ children }: React.PropsWithChildren) => {\n  const { t } = useTranslate('fileManager');\n  return (\n    <Flex align=\"center\" justify=\"center\" className={styles.errorWrapper}>\n      <Alert\n        type=\"error\"\n        message={<h2>{children || t('fileError')}</h2>}\n      ></Alert>\n    </Flex>\n  );\n};\n\nexport default FileError;\n","import { Authorization } from '@/constants/authorization';\nimport { getAuthorization } from '@/utils/authorization-util';\nimport jsPreviewExcel from '@js-preview/excel';\nimport axios from 'axios';\nimport mammoth from 'mammoth';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nexport const useCatchError = (api: string) => {\n  const [error, setError] = useState('');\n  const fetchDocument = useCallback(async () => {\n    const ret = await axios.get(api);\n    const { data } = ret;\n    if (!(data instanceof ArrayBuffer) && data.code !== 0) {\n      setError(data.message);\n    }\n    return ret;\n  }, [api]);\n\n  useEffect(() => {\n    fetchDocument();\n  }, [fetchDocument]);\n\n  return { fetchDocument, error };\n};\n\nexport const useFetchDocument = () => {\n  const fetchDocument = useCallback(async (api: string) => {\n    const ret = await axios.get(api, {\n      headers: {\n        [Authorization]: getAuthorization(),\n      },\n      responseType: 'arraybuffer',\n    });\n    return ret;\n  }, []);\n\n  return { fetchDocument };\n};\n\nexport const useFetchExcel = (filePath: string) => {\n  const [status, setStatus] = useState(true);\n  const { fetchDocument } = useFetchDocument();\n  const containerRef = useRef<HTMLDivElement>(null);\n  const { error } = useCatchError(filePath);\n\n  const fetchDocumentAsync = useCallback(async () => {\n    let myExcelPreviewer;\n    if (containerRef.current) {\n      myExcelPreviewer = jsPreviewExcel.init(containerRef.current);\n    }\n    const jsonFile = await fetchDocument(filePath);\n    myExcelPreviewer\n      ?.preview(jsonFile.data)\n      .then(() => {\n        console.log('succeed');\n        setStatus(true);\n      })\n      .catch((e) => {\n        console.warn('failed', e);\n        myExcelPreviewer.destroy();\n        setStatus(false);\n      });\n  }, [filePath, fetchDocument]);\n\n  useEffect(() => {\n    fetchDocumentAsync();\n  }, [fetchDocumentAsync]);\n\n  return { status, containerRef, error };\n};\n\nexport const useFetchDocx = (filePath: string) => {\n  const [succeed, setSucceed] = useState(true);\n  const [error, setError] = useState<string>();\n  const { fetchDocument } = useFetchDocument();\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const fetchDocumentAsync = useCallback(async () => {\n    try {\n      const jsonFile = await fetchDocument(filePath);\n      mammoth\n        .convertToHtml(\n          { arrayBuffer: jsonFile.data },\n          { includeDefaultStyleMap: true },\n        )\n        .then((result) => {\n          setSucceed(true);\n          const docEl = document.createElement('div');\n          docEl.className = 'document-container';\n          docEl.innerHTML = result.value;\n          const container = containerRef.current;\n          if (container) {\n            container.innerHTML = docEl.outerHTML;\n          }\n        })\n        .catch(() => {\n          setSucceed(false);\n        });\n    } catch (error: any) {\n      setError(error.toString());\n    }\n  }, [filePath, fetchDocument]);\n\n  useEffect(() => {\n    fetchDocumentAsync();\n  }, [fetchDocumentAsync]);\n\n  return { succeed, containerRef, error };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"docxViewerWrapper\":\"docxViewerWrapper___bSxaq\",\"box\":\"box___sXFPE\"};","import { Spin } from 'antd';\nimport FileError from '../file-error';\n\nimport { useFetchDocx } from '../hooks';\nimport styles from './index.less';\n\nconst Docx = ({ filePath }: { filePath: string }) => {\n  const { succeed, containerRef, error } = useFetchDocx(filePath);\n\n  return (\n    <>\n      {succeed ? (\n        <section className={styles.docxViewerWrapper}>\n          <div id=\"docx\" ref={containerRef} className={styles.box}>\n            <Spin />\n          </div>\n        </section>\n      ) : (\n        <FileError>{error}</FileError>\n      )}\n    </>\n  );\n};\n\nexport default Docx;\n","import '@js-preview/excel/lib/index.css';\nimport FileError from '../file-error';\nimport { useFetchExcel } from '../hooks';\n\nconst Excel = ({ filePath }: { filePath: string }) => {\n  const { status, containerRef, error } = useFetchExcel(filePath);\n\n  return (\n    <div\n      id=\"excel\"\n      ref={containerRef}\n      style={{ height: '100%', width: '100%' }}\n    >\n      {status || <FileError>{error}</FileError>}\n    </div>\n  );\n};\n\nexport default Excel;\n","import { Image as AntImage } from 'antd';\nimport { useEffect, useState } from 'react';\n\nimport { Authorization } from '@/constants/authorization';\nimport { getAuthorization } from '@/utils/authorization-util';\n\ninterface ImageProps {\n  src: string;\n  preview?: boolean;\n}\n\nconst Image = ({ src, preview = false }: ImageProps) => {\n  const [imageSrc, setImageSrc] = useState<string>('');\n\n  useEffect(() => {\n    const loadImage = async () => {\n      try {\n        const response = await fetch(src, {\n          headers: {\n            [Authorization]: getAuthorization(),\n          },\n        });\n        const blob = await response.blob();\n        const objectUrl = URL.createObjectURL(blob);\n        setImageSrc(objectUrl);\n      } catch (error) {\n        console.error('Failed to load image:', error);\n      }\n    };\n\n    loadImage();\n\n    return () => {\n      if (imageSrc) {\n        URL.revokeObjectURL(imageSrc);\n      }\n    };\n  }, [src]);\n\n  return imageSrc ? <AntImage src={imageSrc} preview={preview} /> : null;\n};\n\nexport default Image;\n","import { Authorization } from '@/constants/authorization';\nimport { getAuthorization } from '@/utils/authorization-util';\nimport { Skeleton } from 'antd';\nimport { PdfHighlighter, PdfLoader } from 'react-pdf-highlighter';\nimport FileError from '../file-error';\nimport { useCatchError } from '../hooks';\ntype PdfLoaderProps = React.ComponentProps<typeof PdfLoader> & {\n  httpHeaders?: Record<string, string>;\n};\n\nconst Loader = PdfLoader as React.ComponentType<PdfLoaderProps>;\n\ninterface IProps {\n  url: string;\n}\n\nconst PdfPreviewer = ({ url }: IProps) => {\n  const { error } = useCatchError(url);\n  const resetHash = () => {};\n  const httpHeaders = {\n    [Authorization]: getAuthorization(),\n  };\n  return (\n    <div style={{ width: '100%', height: '100%' }}>\n      <Loader\n        url={url}\n        httpHeaders={httpHeaders}\n        beforeLoad={<Skeleton active />}\n        workerSrc=\"/pdfjs-dist/pdf.worker.min.js\"\n        errorMessage={<FileError>{error}</FileError>}\n        onError={(e) => {\n          console.warn(e);\n        }}\n      >\n        {(pdfDocument) => {\n          return (\n            <PdfHighlighter\n              pdfDocument={pdfDocument}\n              enableAreaSelection={(event) => event.altKey}\n              onScrollChange={resetHash}\n              scrollRef={() => {}}\n              onSelectionFinished={() => null}\n              highlightTransform={() => {\n                return <div></div>;\n              }}\n              highlights={[]}\n            />\n          );\n        }}\n      </Loader>\n    </div>\n  );\n};\n\nexport default PdfPreviewer;\n","// extracted by mini-css-extract-plugin\nexport default {\"viewerWrapper\":\"viewerWrapper___Hh0uK\",\"image\":\"image___OwcS1\"};","import { Images } from '@/constants/common';\nimport { api_host } from '@/utils/api';\nimport { Flex } from 'antd';\nimport { useParams, useSearchParams } from 'umi';\nimport Docx from './docx';\nimport Excel from './excel';\nimport Image from './image';\nimport Pdf from './pdf';\n\nimport { previewHtmlFile } from '@/utils/file-util';\nimport styles from './index.less';\n\n// TODO: The interface returns an incorrect content-type for the SVG.\n\nconst DocumentViewer = () => {\n  const { id: documentId } = useParams();\n  const [currentQueryParameters] = useSearchParams();\n  const ext = currentQueryParameters.get('ext');\n  const prefix = currentQueryParameters.get('prefix');\n  const api = `${api_host}/${prefix || 'file'}/get/${documentId}`;\n\n  if (ext === 'html' && documentId) {\n    previewHtmlFile(documentId);\n    return;\n  }\n\n  return (\n    <section className={styles.viewerWrapper}>\n      {Images.includes(ext!) && (\n        <Flex className={styles.image} align=\"center\" justify=\"center\">\n          <Image src={api} preview={false}></Image>\n        </Flex>\n      )}\n      {ext === 'pdf' && <Pdf url={api}></Pdf>}\n      {(ext === 'xlsx' || ext === 'xls') && <Excel filePath={api}></Excel>}\n\n      {ext === 'docx' && <Docx filePath={api}></Docx>}\n    </section>\n  );\n};\n\nexport default DocumentViewer;\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request from '@/utils/request';\n\nconst {\n  listFile,\n  removeFile,\n  uploadFile,\n  renameFile,\n  getAllParentFolder,\n  createFolder,\n  connectFileToKnowledge,\n  get_document_file,\n  getFile,\n  moveFile,\n} = api;\n\nconst methods = {\n  listFile: {\n    url: listFile,\n    method: 'get',\n  },\n  removeFile: {\n    url: removeFile,\n    method: 'post',\n  },\n  uploadFile: {\n    url: uploadFile,\n    method: 'post',\n  },\n  renameFile: {\n    url: renameFile,\n    method: 'post',\n  },\n  getAllParentFolder: {\n    url: getAllParentFolder,\n    method: 'get',\n  },\n  createFolder: {\n    url: createFolder,\n    method: 'post',\n  },\n  connectFileToKnowledge: {\n    url: connectFileToKnowledge,\n    method: 'post',\n  },\n  getFile: {\n    url: getFile,\n    method: 'get',\n    responseType: 'blob',\n  },\n  getDocumentFile: {\n    url: get_document_file,\n    method: 'get',\n    responseType: 'blob',\n  },\n  moveFile: {\n    url: moveFile,\n    method: 'post',\n  },\n} as const;\n\nconst fileManagerService = registerServer<keyof typeof methods>(\n  methods,\n  request,\n);\n\nexport default fileManagerService;\n","let api_host = `/v1`;\n\nexport { api_host };\n\nexport default {\n  // user\n  login: `${api_host}/user/login`,\n  logout: `${api_host}/user/logout`,\n  register: `${api_host}/user/register`,\n  setting: `${api_host}/user/setting`,\n  user_info: `${api_host}/user/info`,\n  tenant_info: `${api_host}/user/tenant_info`,\n  set_tenant_info: `${api_host}/user/set_tenant_info`,\n  login_channels: `${api_host}/user/login/channels`,\n  login_channel: (channel: string) => `${api_host}/user/login/${channel}`,\n\n  // team\n  addTenantUser: (tenantId: string) => `${api_host}/tenant/${tenantId}/user`,\n  listTenantUser: (tenantId: string) =>\n    `${api_host}/tenant/${tenantId}/user/list`,\n  deleteTenantUser: (tenantId: string, userId: string) =>\n    `${api_host}/tenant/${tenantId}/user/${userId}`,\n  listTenant: `${api_host}/tenant/list`,\n  agreeTenant: (tenantId: string) => `${api_host}/tenant/agree/${tenantId}`,\n\n  // llm model\n  factories_list: `${api_host}/llm/factories`,\n  llm_list: `${api_host}/llm/list`,\n  my_llm: `${api_host}/llm/my_llms`,\n  set_api_key: `${api_host}/llm/set_api_key`,\n  add_llm: `${api_host}/llm/add_llm`,\n  delete_llm: `${api_host}/llm/delete_llm`,\n  deleteFactory: `${api_host}/llm/delete_factory`,\n\n  // plugin\n  llm_tools: `${api_host}/plugin/llm_tools`,\n\n  // knowledge base\n  kb_list: `${api_host}/kb/list`,\n  create_kb: `${api_host}/kb/create`,\n  update_kb: `${api_host}/kb/update`,\n  rm_kb: `${api_host}/kb/rm`,\n  get_kb_detail: `${api_host}/kb/detail`,\n  getKnowledgeGraph: (knowledgeId: string) =>\n    `${api_host}/kb/${knowledgeId}/knowledge_graph`,\n\n  // tags\n  listTag: (knowledgeId: string) => `${api_host}/kb/${knowledgeId}/tags`,\n  listTagByKnowledgeIds: `${api_host}/kb/tags`,\n  removeTag: (knowledgeId: string) => `${api_host}/kb/${knowledgeId}/rm_tags`,\n  renameTag: (knowledgeId: string) =>\n    `${api_host}/kb/${knowledgeId}/rename_tag`,\n\n  // chunk\n  chunk_list: `${api_host}/chunk/list`,\n  create_chunk: `${api_host}/chunk/create`,\n  set_chunk: `${api_host}/chunk/set`,\n  get_chunk: `${api_host}/chunk/get`,\n  switch_chunk: `${api_host}/chunk/switch`,\n  rm_chunk: `${api_host}/chunk/rm`,\n  retrieval_test: `${api_host}/chunk/retrieval_test`,\n  knowledge_graph: `${api_host}/chunk/knowledge_graph`,\n\n  // document\n  get_document_list: `${api_host}/document/list`,\n  document_change_status: `${api_host}/document/change_status`,\n  document_rm: `${api_host}/document/rm`,\n  document_delete: `${api_host}/api/document`,\n  document_rename: `${api_host}/document/rename`,\n  document_create: `${api_host}/document/create`,\n  document_run: `${api_host}/document/run`,\n  document_change_parser: `${api_host}/document/change_parser`,\n  document_thumbnails: `${api_host}/document/thumbnails`,\n  get_document_file: `${api_host}/document/get`,\n  document_upload: `${api_host}/document/upload`,\n  web_crawl: `${api_host}/document/web_crawl`,\n  document_infos: `${api_host}/document/infos`,\n  upload_and_parse: `${api_host}/document/upload_and_parse`,\n  parse: `${api_host}/document/parse`,\n  setMeta: `${api_host}/document/set_meta`,\n\n  // chat\n  setDialog: `${api_host}/dialog/set`,\n  getDialog: `${api_host}/dialog/get`,\n  removeDialog: `${api_host}/dialog/rm`,\n  listDialog: `${api_host}/dialog/list`,\n  setConversation: `${api_host}/conversation/set`,\n  getConversation: `${api_host}/conversation/get`,\n  getConversationSSE: `${api_host}/conversation/getsse`,\n  listConversation: `${api_host}/conversation/list`,\n  removeConversation: `${api_host}/conversation/rm`,\n  completeConversation: `${api_host}/conversation/completion`,\n  deleteMessage: `${api_host}/conversation/delete_msg`,\n  thumbup: `${api_host}/conversation/thumbup`,\n  tts: `${api_host}/conversation/tts`,\n  ask: `${api_host}/conversation/ask`,\n  mindmap: `${api_host}/conversation/mindmap`,\n  getRelatedQuestions: `${api_host}/conversation/related_questions`,\n  // chat for external\n  createToken: `${api_host}/api/new_token`,\n  listToken: `${api_host}/api/token_list`,\n  removeToken: `${api_host}/api/rm`,\n  getStats: `${api_host}/api/stats`,\n  createExternalConversation: `${api_host}/api/new_conversation`,\n  getExternalConversation: `${api_host}/api/conversation`,\n  completeExternalConversation: `${api_host}/api/completion`,\n  uploadAndParseExternal: `${api_host}/api/document/upload_and_parse`,\n\n  // file manager\n  listFile: `${api_host}/file/list`,\n  uploadFile: `${api_host}/file/upload`,\n  removeFile: `${api_host}/file/rm`,\n  renameFile: `${api_host}/file/rename`,\n  getAllParentFolder: `${api_host}/file/all_parent_folder`,\n  createFolder: `${api_host}/file/create`,\n  connectFileToKnowledge: `${api_host}/file2document/convert`,\n  getFile: `${api_host}/file/get`,\n  moveFile: `${api_host}/file/mv`,\n\n  // system\n  getSystemVersion: `${api_host}/system/version`,\n  getSystemStatus: `${api_host}/system/status`,\n  getSystemTokenList: `${api_host}/system/token_list`,\n  createSystemToken: `${api_host}/system/new_token`,\n  listSystemToken: `${api_host}/system/token_list`,\n  removeSystemToken: `${api_host}/system/token`,\n  getSystemConfig: `${api_host}/system/config`,\n  setLangfuseConfig: `${api_host}/langfuse/api_key`,\n\n  // flow\n  listTemplates: `${api_host}/canvas/templates`,\n  listCanvas: `${api_host}/canvas/list`,\n  listCanvasTeam: `${api_host}/canvas/listteam`,\n  getCanvas: `${api_host}/canvas/get`,\n  getCanvasSSE: `${api_host}/canvas/getsse`,\n  removeCanvas: `${api_host}/canvas/rm`,\n  setCanvas: `${api_host}/canvas/set`,\n  settingCanvas: `${api_host}/canvas/setting`,\n  getListVersion: `${api_host}/canvas/getlistversion`,\n  getVersion: `${api_host}/canvas/getversion`,\n  resetCanvas: `${api_host}/canvas/reset`,\n  runCanvas: `${api_host}/canvas/completion`,\n  testDbConnect: `${api_host}/canvas/test_db_connect`,\n  getInputElements: `${api_host}/canvas/input_elements`,\n  debug: `${api_host}/canvas/debug`,\n\n  // mcp server\n  getMcpServerList: `${api_host}/mcp_server/list`,\n  getMultipleMcpServers: `${api_host}/mcp_server/get_multiple`,\n  getMcpServer: (serverId: string) => `${api_host}/mcp_server/get/${serverId}`,\n  createMcpServer: `${api_host}/mcp_server/create`,\n  updateMcpServer: `${api_host}/mcp_server/update`,\n  deleteMcpServer: `${api_host}/mcp_server/rm`,\n};\n","import { FileMimeType } from '@/constants/common';\nimport fileManagerService from '@/services/file-manager-service';\nimport { UploadFile } from 'antd';\n\nexport const transformFile2Base64 = (val: any): Promise<any> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(val);\n    reader.onload = (): void => {\n      // Create image object\n      const img = new Image();\n      img.src = reader.result as string;\n\n      img.onload = () => {\n        // Create canvas\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n\n        // Calculate compressed dimensions, set max width/height to 800px\n        let width = img.width;\n        let height = img.height;\n        const maxSize = 100;\n\n        if (width > height && width > maxSize) {\n          height = (height * maxSize) / width;\n          width = maxSize;\n        } else if (height > maxSize) {\n          width = (width * maxSize) / height;\n          height = maxSize;\n        }\n\n        // Set canvas dimensions\n        canvas.width = width;\n        canvas.height = height;\n\n        // Draw image\n        ctx?.drawImage(img, 0, 0, width, height);\n\n        // Convert to base64, maintain original format and transparency\n        const compressedBase64 = canvas.toDataURL('image/png');\n        resolve(compressedBase64);\n      };\n\n      img.onerror = reject;\n    };\n    reader.onerror = reject;\n  });\n};\n\nexport const transformBase64ToFile = (\n  dataUrl: string,\n  filename: string = 'file',\n) => {\n  let arr = dataUrl.split(','),\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n\n  const mime = arr[0].match(/:(.*?);/);\n  const mimeType = mime ? mime[1] : 'image/png';\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], filename, { type: mimeType });\n};\n\nexport const normFile = (e: any) => {\n  if (Array.isArray(e)) {\n    return e;\n  }\n  return e?.fileList;\n};\n\nexport const getUploadFileListFromBase64 = (avatar: string) => {\n  let fileList: UploadFile[] = [];\n\n  if (avatar) {\n    fileList = [{ uid: '1', name: 'file', thumbUrl: avatar, status: 'done' }];\n  }\n\n  return fileList;\n};\n\nexport const getBase64FromUploadFileList = async (fileList?: UploadFile[]) => {\n  if (Array.isArray(fileList) && fileList.length > 0) {\n    const file = fileList[0];\n    const originFileObj = file.originFileObj;\n    if (originFileObj) {\n      const base64 = await transformFile2Base64(originFileObj);\n      return base64;\n    } else {\n      return file.thumbUrl;\n    }\n    // return fileList[0].thumbUrl; TODO: Even JPG files will be converted to base64 parameters in png format\n  }\n\n  return '';\n};\n\nasync function fetchDocumentBlob(id: string, mimeType?: FileMimeType) {\n  const response = await fileManagerService.getDocumentFile({}, id);\n  const blob = new Blob([response.data], {\n    type: mimeType || response.data.type,\n  });\n\n  return blob;\n}\n\nexport async function previewHtmlFile(id: string) {\n  const blob = await fetchDocumentBlob(id, FileMimeType.Html);\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.click();\n  URL.revokeObjectURL(url);\n}\n\nexport const downloadFileFromBlob = (blob: Blob, name?: string) => {\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  if (name) {\n    a.download = name;\n  }\n  a.click();\n  window.URL.revokeObjectURL(url);\n};\n\nexport const downloadDocument = async ({\n  id,\n  filename,\n}: {\n  id: string;\n  filename?: string;\n}) => {\n  const blob = await fetchDocumentBlob(id);\n  downloadFileFromBlob(blob, filename);\n};\n\nconst Units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport const formatBytes = (x: string | number) => {\n  let l = 0,\n    n = (typeof x === 'string' ? parseInt(x, 10) : x) || 0;\n\n  while (n >= 1024 && ++l) {\n    n = n / 1024;\n  }\n\n  return n.toFixed(n < 10 && l > 0 ? 1 : 0) + ' ' + Units[l];\n};\n\nexport const downloadJsonFile = async (\n  data: Record<string, any>,\n  fileName: string,\n) => {\n  const blob = new Blob([JSON.stringify(data)], { type: FileMimeType.Json });\n  downloadFileFromBlob(blob, fileName);\n};\n\nexport function transformBase64ToFileWithPreview(\n  dataUrl: string,\n  filename: string = 'file',\n) {\n  const file = transformBase64ToFile(dataUrl, filename);\n\n  (file as any).preview = dataUrl;\n\n  return file;\n}\n\nexport const getBase64FromFileList = async (fileList?: File[]) => {\n  if (Array.isArray(fileList) && fileList.length > 0) {\n    const file = fileList[0];\n    if (file) {\n      const base64 = await transformFile2Base64(file);\n      return base64;\n    }\n  }\n\n  return '';\n};\n","import omit from 'lodash/omit';\nimport { RequestMethod } from 'umi-request';\n\ntype Service<T extends string> = Record<\n  T,\n  (params?: any, urlAppendix?: string) => any\n>;\n\nconst Methods = ['post', 'delete', 'put'];\n\nconst registerServer = <T extends string>(\n  opt: Record<T, { url: string; method: string }>,\n  request: RequestMethod,\n) => {\n  const server: Service<T> = {} as Service<T>;\n  for (let key in opt) {\n    server[key] = (params?: any, urlAppendix?: string) => {\n      let url = opt[key].url;\n      const requestOptions = opt[key];\n      if (urlAppendix) {\n        url = url + '/' + urlAppendix;\n      }\n      if (Methods.some((x) => x === opt[key].method.toLowerCase())) {\n        return request(url, {\n          method: opt[key].method,\n          data: params,\n        });\n      }\n\n      if (opt[key].method === 'get' || opt[key].method === 'GET') {\n        return request.get(url, {\n          ...omit(requestOptions, ['method', 'url']),\n          params,\n        });\n      }\n    };\n  }\n  return server;\n};\n\nexport default registerServer;\n","import { Authorization } from '@/constants/authorization';\nimport { ResponseType } from '@/interfaces/database/base';\nimport i18n from '@/locales/config';\nimport authorizationUtil, {\n  getAuthorization,\n  redirectToLogin,\n} from '@/utils/authorization-util';\nimport { message, notification } from 'antd';\nimport { RequestMethod, extend } from 'umi-request';\nimport { convertTheKeysOfTheObjectToSnake } from './common-util';\n\nconst FAILED_TO_FETCH = 'Failed to fetch';\n\nconst RetcodeMessage = {\n  200: i18n.t('message.200'),\n  201: i18n.t('message.201'),\n  202: i18n.t('message.202'),\n  204: i18n.t('message.204'),\n  400: i18n.t('message.400'),\n  401: i18n.t('message.401'),\n  403: i18n.t('message.403'),\n  404: i18n.t('message.404'),\n  406: i18n.t('message.406'),\n  410: i18n.t('message.410'),\n  413: i18n.t('message.413'),\n  422: i18n.t('message.422'),\n  500: i18n.t('message.500'),\n  502: i18n.t('message.502'),\n  503: i18n.t('message.503'),\n  504: i18n.t('message.504'),\n};\ntype ResultCode =\n  | 200\n  | 201\n  | 202\n  | 204\n  | 400\n  | 401\n  | 403\n  | 404\n  | 406\n  | 410\n  | 413\n  | 422\n  | 500\n  | 502\n  | 503\n  | 504;\n\nconst errorHandler = (error: {\n  response: Response;\n  message: string;\n}): Response => {\n  const { response } = error;\n  if (error.message === FAILED_TO_FETCH) {\n    notification.error({\n      description: i18n.t('message.networkAnomalyDescription'),\n      message: i18n.t('message.networkAnomaly'),\n    });\n  } else {\n    if (response && response.status) {\n      const errorText =\n        RetcodeMessage[response.status as ResultCode] || response.statusText;\n      const { status, url } = response;\n      notification.error({\n        message: `${i18n.t('message.requestError')} ${status}: ${url}`,\n        description: errorText,\n      });\n    }\n  }\n  return response ?? { data: { code: 1999 } };\n};\n\nconst request: RequestMethod = extend({\n  errorHandler,\n  timeout: 300000,\n  getResponse: true,\n});\n\nrequest.interceptors.request.use((url: string, options: any) => {\n  const data = convertTheKeysOfTheObjectToSnake(options.data);\n  const params = convertTheKeysOfTheObjectToSnake(options.params);\n\n  return {\n    url,\n    options: {\n      ...options,\n      data,\n      params,\n      headers: {\n        ...(options.skipToken\n          ? undefined\n          : { [Authorization]: getAuthorization() }),\n        ...options.headers,\n      },\n      interceptors: true,\n    },\n  };\n});\n\nrequest.interceptors.response.use(async (response: Response, options) => {\n  if (response?.status === 413 || response?.status === 504) {\n    message.error(RetcodeMessage[response?.status as ResultCode]);\n  }\n\n  if (options.responseType === 'blob') {\n    return response;\n  }\n\n  const data: ResponseType = await response?.clone()?.json();\n  if (data?.code === 100) {\n    message.error(data?.message);\n  } else if (data?.code === 401) {\n    notification.error({\n      message: data?.message,\n      description: data?.message,\n      duration: 3,\n    });\n    authorizationUtil.removeAll();\n    redirectToLogin();\n  } else if (data?.code !== 0) {\n    notification.error({\n      message: `${i18n.t('message.hint')} : ${data?.code}`,\n      description: data?.message,\n      duration: 3,\n    });\n  }\n  return response;\n});\n\nexport default request;\n\nexport const get = (url: string) => {\n  return request.get(url);\n};\n\nexport const post = (url: string, body: any) => {\n  return request.post(url, { data: body });\n};\n\nexport const drop = () => {};\n\nexport const put = () => {};\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 86635;\nmodule.exports = webpackEmptyAsyncContext;"],"names":["useSetModalState","_useState","useState","_useState2","_slicedToArray","visible","setVisible","showModal","useCallback","hideModal","switchVisible","useShowDeleteConfirm","modal","App","useApp","t","useTranslation","_ref2","title","content","onOk","onCancel","Promise","resolve","reject","confirm","icon","_jsx","ExclamationCircleFilled","okText","okType","cancelText","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","ret","wrap","_context2","prev","next","sent","console","info","t0","stop","useTranslate","keyPrefix","_ref","children","Flex","align","justify","className","styles","Alert","type","message","useCatchError","api","error","setError","fetchDocument","_callee","data","_context","axios","get","ArrayBuffer","code","abrupt","useEffect","useFetchDocument","headers","_defineProperty","Authorization","getAuthorization","responseType","_x","apply","arguments","_useFetchDocx","filePath","_useState5","_useState6","succeed","setSucceed","_useState7","_useState8","containerRef","useRef","fetchDocumentAsync","_callee4","jsonFile","_context4","mammoth","arrayBuffer","includeDefaultStyleMap","then","result","docEl","document","createElement","innerHTML","value","container","current","outerHTML","toString","useFetchDocx","_Fragment","id","ref","Spin","FileError","_useFetchExcel","_useState3","_useState4","status","setStatus","_callee3","_myExcelPreviewer","myExcelPreviewer","_context3","jsPreviewExcel","init","preview","log","e","warn","destroy","useFetchExcel","style","height","width","src","_ref$preview","imageSrc","setImageSrc","loadImage","response","blob","objectUrl","fetch","URL","createObjectURL","revokeObjectURL","AntImage","Loader","PdfLoader","url","resetHash","httpHeaders","beforeLoad","Skeleton","active","workerSrc","errorMessage","onError","pdfDocument","PdfHighlighter","enableAreaSelection","event","altKey","onScrollChange","scrollRef","onSelectionFinished","highlightTransform","highlights","documentId","useParams","_useSearchParams","useSearchParams","currentQueryParameters","ext","prefix","concat","api_host","_jsxs","Images","includes","Image","Pdf","Excel","Docx","previewHtmlFile","listFile","removeFile","uploadFile","renameFile","getAllParentFolder","createFolder","connectFileToKnowledge","get_document_file","methods","method","getFile","getDocumentFile","moveFile","fileManagerService","registerServer","request","login","logout","register","setting","user_info","tenant_info","set_tenant_info","login_channels","login_channel","channel","addTenantUser","tenantId","listTenantUser","deleteTenantUser","userId","listTenant","agreeTenant","factories_list","llm_list","my_llm","set_api_key","add_llm","delete_llm","deleteFactory","llm_tools","kb_list","create_kb","update_kb","rm_kb","get_kb_detail","getKnowledgeGraph","knowledgeId","listTag","listTagByKnowledgeIds","removeTag","renameTag","chunk_list","create_chunk","set_chunk","get_chunk","switch_chunk","rm_chunk","retrieval_test","knowledge_graph","get_document_list","document_change_status","document_rm","document_delete","document_rename","document_create","document_run","document_change_parser","document_thumbnails","document_upload","web_crawl","document_infos","upload_and_parse","parse","setMeta","setDialog","getDialog","removeDialog","listDialog","setConversation","getConversation","getConversationSSE","listConversation","removeConversation","completeConversation","deleteMessage","thumbup","tts","ask","mindmap","getRelatedQuestions","createToken","listToken","removeToken","getStats","createExternalConversation","getExternalConversation","completeExternalConversation","uploadAndParseExternal","getSystemVersion","getSystemStatus","getSystemTokenList","createSystemToken","listSystemToken","removeSystemToken","getSystemConfig","setLangfuseConfig","listTemplates","listCanvas","listCanvasTeam","getCanvas","getCanvasSSE","removeCanvas","setCanvas","settingCanvas","getListVersion","getVersion","resetCanvas","runCanvas","testDbConnect","getInputElements","debug","getMcpServerList","getMultipleMcpServers","getMcpServer","serverId","createMcpServer","updateMcpServer","deleteMcpServer","transformFile2Base64","val","reader","FileReader","readAsDataURL","onload","img","canvas","ctx","getContext","maxSize","drawImage","compressedBase64","toDataURL","onerror","normFile","Array","isArray","fileList","getUploadFileListFromBase64","avatar","uid","name","thumbUrl","getBase64FromUploadFileList","file","originFileObj","base64","length","fetchDocumentBlob","_x2","_x3","_fetchDocumentBlob","_callee5","mimeType","_context5","Blob","_x4","_previewHtmlFile","_callee6","link","_context6","FileMimeType","Html","href","click","downloadFileFromBlob","window","a","download","downloadDocument","_ref3","filename","_x5","Units","formatBytes","x","l","n","parseInt","toFixed","downloadJsonFile","_ref4","fileName","JSON","stringify","Json","_x6","_x7","Methods","opt","server","_loop","key","params","urlAppendix","requestOptions","some","toLowerCase","_objectSpread","omit","RetcodeMessage","i18n","extend","errorHandler","notification","description","errorText","statusText","timeout","getResponse","interceptors","use","options","convertTheKeysOfTheObjectToSnake","skipToken","undefined","_response$clone","clone","json","duration","authorizationUtil","removeAll","redirectToLogin","post","body","webpackEmptyAsyncContext","req","Error","keys","module","exports"],"sourceRoot":""}