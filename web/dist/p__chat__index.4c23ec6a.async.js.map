{"version":3,"file":"p__chat__index.4c23ec6a.async.js","mappings":"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","sources":["webpack:///./src/components/cross-language-item.tsx","webpack:///./src/components/rename-modal/index.tsx","webpack:///./src/assets/svg/chat-app-cube.svg","webpack:///./src/assets/svg/chat-configuration-atom.svg","webpack:///./src/pages/chat/chat-configuration-modal/index.less?3283","webpack:///./src/pages/chat/chat-configuration-modal/assistant-setting.tsx","webpack:///./src/pages/chat/chat-configuration-modal/model-setting.tsx","webpack:///./src/pages/chat/chat-configuration-modal/editable-cell.tsx","webpack:///./src/pages/chat/chat-configuration-modal/prompt-engine.tsx","webpack:///./src/pages/chat/chat-configuration-modal/index.tsx","webpack:///./src/pages/chat/chat-container/index.less?a72e","webpack:///./src/pages/chat/chat-container/index.tsx","webpack:///./src/pages/chat/index.less?fa52","webpack:///./src/pages/chat/index.tsx"],"sourcesContent":["import { Select as AntSelect, Form } from 'antd';\nimport { useTranslation } from 'react-i18next';\n\nconst Languages = [\n  'English',\n  'Chinese',\n  'Spanish',\n  'French',\n  'German',\n  'Japanese',\n  'Korean',\n];\n\nconst options = Languages.map((x) => ({ label: x, value: x }));\n\ntype CrossLanguageItemProps = {\n  name?: string | Array<string>;\n};\n\nexport const CrossLanguageItem = ({\n  name = ['prompt_config', 'cross_languages'],\n}: CrossLanguageItemProps) => {\n  const { t } = useTranslation();\n\n  return (\n    <Form.Item\n      label={t('chat.crossLanguage')}\n      name={name}\n      tooltip={t('chat.crossLanguageTip')}\n    >\n      <AntSelect\n        options={options}\n        allowClear\n        placeholder={t('common.languagePlaceholder')}\n        mode=\"multiple\"\n      />\n    </Form.Item>\n  );\n};\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Input, Modal } from 'antd';\nimport { useEffect } from 'react';\nimport { IModalManagerChildrenProps } from '../modal-manager';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  initialName: string;\n  onOk: (name: string) => void;\n  showModal?(): void;\n}\n\nconst RenameModal = ({\n  visible,\n  hideModal,\n  loading,\n  initialName,\n  onOk,\n}: IProps) => {\n  const [form] = Form.useForm();\n  const { t } = useTranslate('common');\n\n  type FieldType = {\n    name?: string;\n  };\n\n  const handleOk = async () => {\n    const ret = await form.validateFields();\n\n    return onOk(ret.name);\n  };\n\n  const handleCancel = () => {\n    hideModal();\n  };\n\n  const onFinish = (values: any) => {\n    console.log('Success:', values);\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  useEffect(() => {\n    if (visible) {\n      form.setFieldValue('name', initialName);\n    }\n  }, [initialName, form, visible]);\n\n  return (\n    <Modal\n      title={t('rename')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={handleCancel}\n      okButtonProps={{ loading }}\n      confirmLoading={loading}\n    >\n      <Form\n        name=\"basic\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n        autoComplete=\"off\"\n        form={form}\n      >\n        <Form.Item<FieldType>\n          label={t('name')}\n          name=\"name\"\n          rules={[{ required: true, message: t('namePlaceholder') }]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default RenameModal;\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgChatAppCube = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 15, height: 14, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"m6.188 12.104.859.478c.165.092.248.138.335.156a.581.581 0 0 0 .236 0c.087-.018.17-.064.335-.156l.86-.478m-5.25-1.458-.833-.462c-.175-.097-.262-.146-.326-.215a.583.583 0 0 1-.125-.212c-.029-.09-.029-.19-.029-.39V8.46m0-2.917v-.91c0-.199 0-.299.03-.388a.583.583 0 0 1 .124-.212c.064-.07.151-.118.326-.215l.833-.463m2.624-1.458.86-.477c.165-.092.248-.138.335-.156a.583.583 0 0 1 .236 0c.087.018.17.064.335.156l.86.477m2.624 1.458.833.463c.175.097.262.146.326.215a.584.584 0 0 1 .125.212c.029.089.029.189.029.389v.909m0 2.917v.909c0 .2 0 .3-.03.389a.584.584 0 0 1-.124.212c-.064.07-.151.118-.326.215l-.832.462m-5.25-4.375 1.312.73m0 0 1.313-.73m-1.313.73v1.458M2.25 4.084l1.313.729m7.874 0 1.313-.73M7.5 11.376v1.459\", stroke: \"#A5A3A9\", strokeWidth: 1.5, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgChatAppCube as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTYuMTg4IDEyLjEwNC44NTkuNDc4Yy4xNjUuMDkyLjI0OC4xMzguMzM1LjE1NmEuNTgxLjU4MSAwIDAgMCAuMjM2IDBjLjA4Ny0uMDE4LjE3LS4wNjQuMzM1LS4xNTZsLjg2LS40NzhtLTUuMjUtMS40NTgtLjgzMy0uNDYyYy0uMTc1LS4wOTctLjI2Mi0uMTQ2LS4zMjYtLjIxNWEuNTgzLjU4MyAwIDAgMS0uMTI1LS4yMTJjLS4wMjktLjA5LS4wMjktLjE5LS4wMjktLjM5VjguNDZtMC0yLjkxN3YtLjkxYzAtLjE5OSAwLS4yOTkuMDMtLjM4OGEuNTgzLjU4MyAwIDAgMSAuMTI0LS4yMTJjLjA2NC0uMDcuMTUxLS4xMTguMzI2LS4yMTVsLjgzMy0uNDYzbTIuNjI0LTEuNDU4Ljg2LS40NzdjLjE2NS0uMDkyLjI0OC0uMTM4LjMzNS0uMTU2YS41ODMuNTgzIDAgMCAxIC4yMzYgMGMuMDg3LjAxOC4xNy4wNjQuMzM1LjE1NmwuODYuNDc3bTIuNjI0IDEuNDU4LjgzMy40NjNjLjE3NS4wOTcuMjYyLjE0Ni4zMjYuMjE1YS41ODQuNTg0IDAgMCAxIC4xMjUuMjEyYy4wMjkuMDg5LjAyOS4xODkuMDI5LjM4OXYuOTA5bTAgMi45MTd2LjkwOWMwIC4yIDAgLjMtLjAzLjM4OWEuNTg0LjU4NCAwIDAgMS0uMTI0LjIxMmMtLjA2NC4wNy0uMTUxLjExOC0uMzI2LjIxNWwtLjgzMi40NjJtLTUuMjUtNC4zNzUgMS4zMTIuNzNtMCAwIDEuMzEzLS43M20tMS4zMTMuNzN2MS40NThNMi4yNSA0LjA4NGwxLjMxMy43MjltNy44NzQgMCAxLjMxMy0uNzNNNy41IDExLjM3NnYxLjQ1OSIgc3Ryb2tlPSIjQTVBM0E5IiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgChatConfigurationAtom = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 52, height: 52, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"g\", { filter: \"url(#chat-configuration-atom_svg__a)\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M2.5 11A9.5 9.5 0 0 1 12 1.5h28a9.5 9.5 0 0 1 9.5 9.5v28a9.5 9.5 0 0 1-9.5 9.5H12A9.5 9.5 0 0 1 2.5 39V11Z\", stroke: \"#EAECF0\", shapeRendering: \"crispEdges\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M26 25h.01m3.525 3.535c-4.686 4.686-10.068 6.903-12.02 4.95-1.953-1.953.263-7.335 4.949-12.02 4.686-4.687 10.068-6.903 12.02-4.95 1.953 1.952-.263 7.334-4.949 12.02Zm0-7.071c4.686 4.686 6.902 10.068 4.95 12.02-1.953 1.953-7.335-.263-12.021-4.949-4.686-4.686-6.902-10.068-4.95-12.02 1.953-1.953 7.335.263 12.021 4.949ZM26.5 25a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z\", stroke: \"#344054\", strokeWidth: 2, strokeLinecap: \"round\", strokeLinejoin: \"round\" })), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"filter\", { id: \"chat-configuration-atom_svg__a\", x: 0, y: 0, width: 52, height: 52, filterUnits: \"userSpaceOnUse\", colorInterpolationFilters: \"sRGB\" }, /* @__PURE__ */ React.createElement(\"feFlood\", { floodOpacity: 0, result: \"BackgroundImageFix\" }), /* @__PURE__ */ React.createElement(\"feColorMatrix\", { in: \"SourceAlpha\", values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\", result: \"hardAlpha\" }), /* @__PURE__ */ React.createElement(\"feOffset\", { dy: 1 }), /* @__PURE__ */ React.createElement(\"feGaussianBlur\", { stdDeviation: 1 }), /* @__PURE__ */ React.createElement(\"feComposite\", { in2: \"hardAlpha\", operator: \"out\" }), /* @__PURE__ */ React.createElement(\"feColorMatrix\", { values: \"0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.05 0\" }), /* @__PURE__ */ React.createElement(\"feBlend\", { in2: \"BackgroundImageFix\", result: \"effect1_dropShadow_550_8026\" }), /* @__PURE__ */ React.createElement(\"feBlend\", { in: \"SourceGraphic\", in2: \"effect1_dropShadow_550_8026\", result: \"shape\" }))));\nexport { SvgChatConfigurationAtom as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsdGVyPSJ1cmwoI2EpIj48cGF0aCBkPSJNMi41IDExQTkuNSA5LjUgMCAwIDEgMTIgMS41aDI4YTkuNSA5LjUgMCAwIDEgOS41IDkuNXYyOGE5LjUgOS41IDAgMCAxLTkuNSA5LjVIMTJBOS41IDkuNSAwIDAgMSAyLjUgMzlWMTFaIiBzdHJva2U9IiNFQUVDRjAiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwYXRoIGQ9Ik0yNiAyNWguMDFtMy41MjUgMy41MzVjLTQuNjg2IDQuNjg2LTEwLjA2OCA2LjkwMy0xMi4wMiA0Ljk1LTEuOTUzLTEuOTUzLjI2My03LjMzNSA0Ljk0OS0xMi4wMiA0LjY4Ni00LjY4NyAxMC4wNjgtNi45MDMgMTIuMDItNC45NSAxLjk1MyAxLjk1Mi0uMjYzIDcuMzM0LTQuOTQ5IDEyLjAyWm0wLTcuMDcxYzQuNjg2IDQuNjg2IDYuOTAyIDEwLjA2OCA0Ljk1IDEyLjAyLTEuOTUzIDEuOTUzLTcuMzM1LS4yNjMtMTIuMDIxLTQuOTQ5LTQuNjg2LTQuNjg2LTYuOTAyLTEwLjA2OC00Ljk1LTEyLjAyIDEuOTUzLTEuOTUzIDcuMzM1LjI2MyAxMi4wMjEgNC45NDlaTTI2LjUgMjVhLjUuNSAwIDEgMS0xIDAgLjUuNSAwIDAgMSAxIDBaIiBzdHJva2U9IiMzNDQwNTQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImEiIHg9IjAiIHk9IjAiIHdpZHRoPSI1MiIgaGVpZ2h0PSI1MiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPjxmZU9mZnNldCBkeT0iMSIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiLz48ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMC4wNjI3NDUxIDAgMCAwIDAgMC4wOTQxMTc2IDAgMCAwIDAgMC4xNTY4NjMgMCAwIDAgMC4wNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzU1MF84MDI2Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzU1MF84MDI2IiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg==\";\n","// extracted by mini-css-extract-plugin\nexport default {\"chatConfigurationDescription\":\"chatConfigurationDescription___Marto\",\"variableContainer\":\"variableContainer___Y8OCn\",\"variableAlign\":\"variableAlign___V0wtR\",\"variableLabel\":\"variableLabel___lux8o\",\"variableIcon\":\"variableIcon___aAfD2\",\"variableTable\":\"variableTable___q3ddB\",\"editableRow\":\"editableRow____LyFZ\",\"segmentedHidden\":\"segmentedHidden___jWNN7\",\"sliderInputNumber\":\"sliderInputNumber___cS3d6\",\"variableSlider\":\"variableSlider___l0sWn\"};","import KnowledgeBaseItem from '@/components/knowledge-base-item';\nimport { TavilyItem } from '@/components/tavily-item';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useFetchTenantInfo } from '@/hooks/user-setting-hooks';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { Form, Input, message, Select, Switch, Upload } from 'antd';\nimport classNames from 'classnames';\nimport { useCallback } from 'react';\nimport { ISegmentedContentProps } from '../interface';\n\nimport styles from './index.less';\n\nconst emptyResponseField = ['prompt_config', 'empty_response'];\n\nconst AssistantSetting = ({\n  show,\n  form,\n  setHasError,\n}: ISegmentedContentProps) => {\n  const { t } = useTranslate('chat');\n  const { data } = useFetchTenantInfo(true);\n\n  const handleChange = useCallback(() => {\n    const kbIds = form.getFieldValue('kb_ids');\n    const emptyResponse = form.getFieldValue(emptyResponseField);\n\n    const required =\n      emptyResponse && ((Array.isArray(kbIds) && kbIds.length === 0) || !kbIds);\n\n    setHasError(required);\n    form.setFields([\n      {\n        name: emptyResponseField,\n        errors: required ? [t('emptyResponseMessage')] : [],\n      },\n    ]);\n  }, [form, setHasError, t]);\n\n  const normFile = (e: any) => {\n    if (Array.isArray(e)) {\n      return e;\n    }\n    return e?.fileList;\n  };\n\n  const handleTtsChange = useCallback(\n    (checked: boolean) => {\n      if (checked && !data.tts_id) {\n        message.error(`Please set TTS model firstly. \n        Setting >> Model providers >> System model settings`);\n        form.setFieldValue(['prompt_config', 'tts'], false);\n      }\n    },\n    [data, form],\n  );\n\n  const uploadButton = (\n    <button style={{ border: 0, background: 'none' }} type=\"button\">\n      <PlusOutlined />\n      <div style={{ marginTop: 8 }}>{t('upload', { keyPrefix: 'common' })}</div>\n    </button>\n  );\n\n  return (\n    <section\n      className={classNames({\n        [styles.segmentedHidden]: !show,\n      })}\n    >\n      <Form.Item\n        name={'name'}\n        label={t('assistantName')}\n        rules={[{ required: true, message: t('assistantNameMessage') }]}\n      >\n        <Input placeholder={t('namePlaceholder')} />\n      </Form.Item>\n      <Form.Item name={'description'} label={t('description')}>\n        <Input placeholder={t('descriptionPlaceholder')} />\n      </Form.Item>\n      <Form.Item\n        name=\"icon\"\n        label={t('assistantAvatar')}\n        valuePropName=\"fileList\"\n        getValueFromEvent={normFile}\n      >\n        <Upload\n          listType=\"picture-card\"\n          maxCount={1}\n          beforeUpload={() => false}\n          showUploadList={{ showPreviewIcon: false, showRemoveIcon: false }}\n        >\n          {show ? uploadButton : null}\n        </Upload>\n      </Form.Item>\n      <Form.Item\n        name={'language'}\n        label={t('language')}\n        initialValue={'English'}\n        tooltip=\"coming soon\"\n        style={{ display: 'none' }}\n      >\n        <Select\n          options={[\n            { value: 'Chinese', label: t('chinese', { keyPrefix: 'common' }) },\n            { value: 'English', label: t('english', { keyPrefix: 'common' }) },\n          ]}\n        />\n      </Form.Item>\n      <Form.Item\n        name={emptyResponseField}\n        label={t('emptyResponse')}\n        tooltip={t('emptyResponseTip')}\n      >\n        <Input placeholder=\"\" onChange={handleChange} />\n      </Form.Item>\n      <Form.Item\n        name={['prompt_config', 'prologue']}\n        label={t('setAnOpener')}\n        tooltip={t('setAnOpenerTip')}\n        initialValue={t('setAnOpenerInitial')}\n      >\n        <Input.TextArea autoSize={{ minRows: 5 }} />\n      </Form.Item>\n      <Form.Item\n        label={t('quote')}\n        valuePropName=\"checked\"\n        name={['prompt_config', 'quote']}\n        tooltip={t('quoteTip')}\n        initialValue={true}\n      >\n        <Switch />\n      </Form.Item>\n      <Form.Item\n        label={t('keyword')}\n        valuePropName=\"checked\"\n        name={['prompt_config', 'keyword']}\n        tooltip={t('keywordTip')}\n        initialValue={false}\n      >\n        <Switch />\n      </Form.Item>\n      <Form.Item\n        label={t('tts')}\n        valuePropName=\"checked\"\n        name={['prompt_config', 'tts']}\n        tooltip={t('ttsTip')}\n        initialValue={false}\n      >\n        <Switch onChange={handleTtsChange} />\n      </Form.Item>\n      <TavilyItem></TavilyItem>\n      <KnowledgeBaseItem\n        required={false}\n        onChange={handleChange}\n      ></KnowledgeBaseItem>\n    </section>\n  );\n};\n\nexport default AssistantSetting;\n","import classNames from 'classnames';\nimport { useEffect } from 'react';\nimport { ISegmentedContentProps } from '../interface';\n\nimport LlmSettingItems from '@/components/llm-setting-items';\nimport {\n  ChatVariableEnabledField,\n  variableEnabledFieldMap,\n} from '@/constants/chat';\nimport { Variable } from '@/interfaces/database/chat';\nimport { setInitialChatVariableEnabledFieldValue } from '@/utils/chat';\nimport styles from './index.less';\n\nconst ModelSetting = ({\n  show,\n  form,\n  initialLlmSetting,\n  visible,\n}: ISegmentedContentProps & {\n  initialLlmSetting?: Variable;\n  visible?: boolean;\n}) => {\n  useEffect(() => {\n    if (visible) {\n      const values = Object.keys(variableEnabledFieldMap).reduce<\n        Record<string, boolean>\n      >((pre, field) => {\n        pre[field] =\n          initialLlmSetting === undefined\n            ? setInitialChatVariableEnabledFieldValue(\n                field as ChatVariableEnabledField,\n              )\n            : !!initialLlmSetting[\n                variableEnabledFieldMap[\n                  field as keyof typeof variableEnabledFieldMap\n                ] as keyof Variable\n              ];\n        return pre;\n      }, {});\n      form.setFieldsValue(values);\n    }\n  }, [form, initialLlmSetting, visible]);\n\n  return (\n    <section\n      className={classNames({\n        [styles.segmentedHidden]: !show,\n      })}\n    >\n      {visible && <LlmSettingItems prefix=\"llm_setting\"></LlmSettingItems>}\n    </section>\n  );\n};\n\nexport default ModelSetting;\n","import { Form, FormInstance, Input, InputRef } from 'antd';\nimport React, { useContext, useEffect, useRef, useState } from 'react';\n\nconst EditableContext = React.createContext<FormInstance<any> | null>(null);\n\ninterface EditableRowProps {\n  index: number;\n}\n\ninterface Item {\n  key: string;\n  name: string;\n  age: string;\n  address: string;\n}\n\nexport const EditableRow: React.FC<EditableRowProps> = ({\n  index,\n  ...props\n}) => {\n  const [form] = Form.useForm();\n  return (\n    <Form form={form} component={false}>\n      <EditableContext.Provider value={form}>\n        <tr {...props} />\n      </EditableContext.Provider>\n    </Form>\n  );\n};\n\ninterface EditableCellProps {\n  title: React.ReactNode;\n  editable: boolean;\n  children: React.ReactNode;\n  dataIndex: keyof Item;\n  record: Item;\n  handleSave: (record: Item) => void;\n}\n\nexport const EditableCell: React.FC<EditableCellProps> = ({\n  title,\n  editable,\n  children,\n  dataIndex,\n  record,\n  handleSave,\n  ...restProps\n}) => {\n  const [editing, setEditing] = useState(false);\n  const inputRef = useRef<InputRef>(null);\n  const form = useContext(EditableContext)!;\n\n  useEffect(() => {\n    if (editing) {\n      inputRef.current!.focus();\n    }\n  }, [editing]);\n\n  const toggleEdit = () => {\n    setEditing(!editing);\n    form.setFieldsValue({ [dataIndex]: record[dataIndex] });\n  };\n\n  const save = async () => {\n    try {\n      const values = await form.validateFields();\n\n      toggleEdit();\n      handleSave({ ...record, ...values });\n    } catch (errInfo) {\n      console.log('Save failed:', errInfo);\n    }\n  };\n\n  let childNode = children;\n\n  if (editable) {\n    childNode = editing ? (\n      <Form.Item\n        style={{ margin: 0 }}\n        name={dataIndex}\n        rules={[\n          {\n            required: true,\n            message: `${title} is required.`,\n          },\n        ]}\n      >\n        <Input ref={inputRef} onPressEnter={save} onBlur={save} />\n      </Form.Item>\n    ) : (\n      <div\n        className=\"editable-cell-value-wrap\"\n        style={{ paddingRight: 24 }}\n        onClick={toggleEdit}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  return <td {...restProps}>{childNode}</td>;\n};\n","import SimilaritySlider from '@/components/similarity-slider';\nimport { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Col,\n  Divider,\n  Form,\n  Input,\n  Row,\n  Switch,\n  Table,\n  TableProps,\n  Tooltip,\n} from 'antd';\nimport classNames from 'classnames';\nimport {\n  ForwardedRef,\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from 'react';\nimport { v4 as uuid } from 'uuid';\nimport {\n  VariableTableDataType as DataType,\n  IPromptConfigParameters,\n  ISegmentedContentProps,\n} from '../interface';\nimport { EditableCell, EditableRow } from './editable-cell';\n\nimport { CrossLanguageItem } from '@/components/cross-language-item';\nimport Rerank from '@/components/rerank';\nimport TopNItem from '@/components/top-n-item';\nimport { UseKnowledgeGraphItem } from '@/components/use-knowledge-graph-item';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useSelectPromptConfigParameters } from '../hooks';\nimport styles from './index.less';\n\nconst PromptEngine = (\n  { show }: ISegmentedContentProps,\n  ref: ForwardedRef<Array<IPromptConfigParameters>>,\n) => {\n  const [dataSource, setDataSource] = useState<DataType[]>([]);\n  const parameters = useSelectPromptConfigParameters();\n  const { t } = useTranslate('chat');\n\n  const components = {\n    body: {\n      row: EditableRow,\n      cell: EditableCell,\n    },\n  };\n\n  const handleRemove = (key: string) => () => {\n    const newData = dataSource.filter((item) => item.key !== key);\n    setDataSource(newData);\n  };\n\n  const handleSave = (row: DataType) => {\n    const newData = [...dataSource];\n    const index = newData.findIndex((item) => row.key === item.key);\n    const item = newData[index];\n    newData.splice(index, 1, {\n      ...item,\n      ...row,\n    });\n    setDataSource(newData);\n  };\n\n  const handleAdd = () => {\n    setDataSource((state) => [\n      ...state,\n      {\n        key: uuid(),\n        variable: '',\n        optional: true,\n      },\n    ]);\n  };\n\n  const handleOptionalChange = (row: DataType) => (checked: boolean) => {\n    const newData = [...dataSource];\n    const index = newData.findIndex((item) => row.key === item.key);\n    const item = newData[index];\n    newData.splice(index, 1, {\n      ...item,\n      optional: checked,\n    });\n    setDataSource(newData);\n  };\n\n  useImperativeHandle(\n    ref,\n    () => {\n      return dataSource\n        .filter((x) => x.variable.trim() !== '')\n        .map((x) => ({ key: x.variable, optional: x.optional }));\n    },\n    [dataSource],\n  );\n\n  const columns: TableProps<DataType>['columns'] = [\n    {\n      title: t('key'),\n      dataIndex: 'variable',\n      key: 'variable',\n      onCell: (record: DataType) => ({\n        record,\n        editable: true,\n        dataIndex: 'variable',\n        title: 'key',\n        handleSave,\n      }),\n    },\n    {\n      title: t('optional'),\n      dataIndex: 'optional',\n      key: 'optional',\n      width: 40,\n      align: 'center',\n      render(text, record) {\n        return (\n          <Switch\n            size=\"small\"\n            checked={text}\n            onChange={handleOptionalChange(record)}\n          />\n        );\n      },\n    },\n    {\n      title: t('operation'),\n      dataIndex: 'operation',\n      width: 30,\n      key: 'operation',\n      align: 'center',\n      render(_, record) {\n        return <DeleteOutlined onClick={handleRemove(record.key)} />;\n      },\n    },\n  ];\n\n  useEffect(() => {\n    setDataSource(parameters);\n  }, [parameters]);\n\n  return (\n    <section\n      className={classNames({\n        [styles.segmentedHidden]: !show,\n      })}\n    >\n      <Form.Item\n        label={t('system')}\n        rules={[{ required: true, message: t('systemMessage') }]}\n        tooltip={t('systemTip')}\n        name={['prompt_config', 'system']}\n        initialValue={t('systemInitialValue')}\n      >\n        <Input.TextArea autoSize={{ maxRows: 8, minRows: 5 }} />\n      </Form.Item>\n      <Divider></Divider>\n      <SimilaritySlider isTooltipShown></SimilaritySlider>\n      <TopNItem></TopNItem>\n      <Form.Item\n        label={t('multiTurn')}\n        tooltip={t('multiTurnTip')}\n        name={['prompt_config', 'refine_multiturn']}\n        initialValue={false}\n      >\n        <Switch></Switch>\n      </Form.Item>\n      <UseKnowledgeGraphItem\n        filedName={['prompt_config', 'use_kg']}\n      ></UseKnowledgeGraphItem>\n      <Form.Item\n        label={t('reasoning')}\n        tooltip={t('reasoningTip')}\n        name={['prompt_config', 'reasoning']}\n        initialValue={false}\n      >\n        <Switch></Switch>\n      </Form.Item>\n      <Rerank></Rerank>\n      <CrossLanguageItem></CrossLanguageItem>\n      <section className={classNames(styles.variableContainer)}>\n        <Row align={'middle'} justify=\"end\">\n          <Col span={9} className={styles.variableAlign}>\n            <label className={styles.variableLabel}>\n              {t('variable')}\n              <Tooltip title={t('variableTip')}>\n                <QuestionCircleOutlined className={styles.variableIcon} />\n              </Tooltip>\n            </label>\n          </Col>\n          <Col span={15} className={styles.variableAlign}>\n            <Button size=\"small\" onClick={handleAdd}>\n              {t('add')}\n            </Button>\n          </Col>\n        </Row>\n        {dataSource.length > 0 && (\n          <Row>\n            <Col span={7}> </Col>\n            <Col span={17}>\n              <Table\n                dataSource={dataSource}\n                columns={columns}\n                rowKey={'key'}\n                className={styles.variableTable}\n                components={components}\n                rowClassName={() => styles.editableRow}\n              />\n            </Col>\n          </Row>\n        )}\n      </section>\n    </section>\n  );\n};\n\nexport default forwardRef(PromptEngine);\n","import { ReactComponent as ChatConfigurationAtom } from '@/assets/svg/chat-configuration-atom.svg';\nimport { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport {\n  ModelVariableType,\n  settledModelVariableMap,\n} from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useFetchModelId } from '@/hooks/logic-hooks';\nimport { IDialog } from '@/interfaces/database/chat';\nimport { getBase64FromUploadFileList } from '@/utils/file-util';\nimport { removeUselessFieldsFromValues } from '@/utils/form';\nimport { Divider, Flex, Form, Modal, Segmented, UploadFile } from 'antd';\nimport { SegmentedValue } from 'antd/es/segmented';\nimport camelCase from 'lodash/camelCase';\nimport { useEffect, useRef, useState } from 'react';\nimport { IPromptConfigParameters } from '../interface';\nimport AssistantSetting from './assistant-setting';\nimport ModelSetting from './model-setting';\nimport PromptEngine from './prompt-engine';\n\nimport styles from './index.less';\n\nconst layout = {\n  labelCol: { span: 9 },\n  wrapperCol: { span: 15 },\n};\n\nconst validateMessages = {\n  required: '${label} is required!',\n  types: {\n    email: '${label} is not a valid email!',\n    number: '${label} is not a valid number!',\n  },\n  number: {\n    range: '${label} must be between ${min} and ${max}',\n  },\n};\n\nenum ConfigurationSegmented {\n  AssistantSetting = 'Assistant Setting',\n  PromptEngine = 'Prompt Engine',\n  ModelSetting = 'Model Setting',\n}\n\nconst segmentedMap = {\n  [ConfigurationSegmented.AssistantSetting]: AssistantSetting,\n  [ConfigurationSegmented.ModelSetting]: ModelSetting,\n  [ConfigurationSegmented.PromptEngine]: PromptEngine,\n};\n\ninterface IProps extends IModalManagerChildrenProps {\n  initialDialog: IDialog;\n  loading: boolean;\n  onOk: (dialog: IDialog) => void;\n  clearDialog: () => void;\n}\n\nconst ChatConfigurationModal = ({\n  visible,\n  hideModal,\n  initialDialog,\n  loading,\n  onOk,\n  clearDialog,\n}: IProps) => {\n  const [form] = Form.useForm();\n  const [hasError, setHasError] = useState(false);\n\n  const [value, setValue] = useState<ConfigurationSegmented>(\n    ConfigurationSegmented.AssistantSetting,\n  );\n  const promptEngineRef = useRef<Array<IPromptConfigParameters>>([]);\n  const modelId = useFetchModelId();\n  const { t } = useTranslate('chat');\n\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    if (hasError) {\n      return;\n    }\n    const nextValues: any = removeUselessFieldsFromValues(\n      values,\n      'llm_setting.',\n    );\n    const emptyResponse = nextValues.prompt_config?.empty_response ?? '';\n\n    const icon = await getBase64FromUploadFileList(values.icon);\n\n    const finalValues = {\n      dialog_id: initialDialog.id,\n      ...nextValues,\n      vector_similarity_weight: 1 - nextValues.vector_similarity_weight,\n      prompt_config: {\n        ...nextValues.prompt_config,\n        parameters: promptEngineRef.current,\n        empty_response: emptyResponse,\n      },\n      icon,\n    };\n    onOk(finalValues);\n  };\n\n  const handleSegmentedChange = (val: SegmentedValue) => {\n    setValue(val as ConfigurationSegmented);\n  };\n\n  const handleModalAfterClose = () => {\n    clearDialog();\n    form.resetFields();\n  };\n\n  const title = (\n    <Flex gap={16}>\n      <ChatConfigurationAtom></ChatConfigurationAtom>\n      <div>\n        <b>{t('chatConfiguration')}</b>\n        <div className={styles.chatConfigurationDescription}>\n          {t('chatConfigurationDescription')}\n        </div>\n      </div>\n    </Flex>\n  );\n\n  useEffect(() => {\n    if (visible) {\n      const icon = initialDialog.icon;\n      let fileList: UploadFile[] = [];\n\n      if (icon) {\n        fileList = [{ uid: '1', name: 'file', thumbUrl: icon, status: 'done' }];\n      }\n      form.setFieldsValue({\n        ...initialDialog,\n        llm_setting:\n          initialDialog.llm_setting ??\n          settledModelVariableMap[ModelVariableType.Precise],\n        icon: fileList,\n        llm_id: initialDialog.llm_id ?? modelId,\n        vector_similarity_weight:\n          1 - (initialDialog.vector_similarity_weight ?? 0.3),\n      });\n    }\n  }, [initialDialog, form, visible, modelId]);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    // Allow Enter in textareas\n    if (e.target instanceof HTMLTextAreaElement) {\n      return;\n    }\n\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleOk();\n    }\n  };\n\n  return (\n    <Modal\n      title={title}\n      width={688}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n      confirmLoading={loading}\n      destroyOnClose\n      afterClose={handleModalAfterClose}\n    >\n      <Segmented\n        size={'large'}\n        value={value}\n        onChange={handleSegmentedChange}\n        options={Object.values(ConfigurationSegmented).map((x) => ({\n          label: t(camelCase(x)),\n          value: x,\n        }))}\n        block\n      />\n      <Divider></Divider>\n      <Form\n        {...layout}\n        name=\"nest-messages\"\n        form={form}\n        style={{ maxWidth: 600 }}\n        validateMessages={validateMessages}\n        colon={false}\n        onKeyDown={handleKeyDown}\n      >\n        {Object.entries(segmentedMap).map(([key, Element]) => (\n          <Element\n            key={key}\n            show={key === value}\n            form={form}\n            setHasError={setHasError}\n            {...(key === ConfigurationSegmented.ModelSetting\n              ? { initialLlmSetting: initialDialog.llm_setting, visible }\n              : {})}\n            {...(key === ConfigurationSegmented.PromptEngine\n              ? { ref: promptEngineRef }\n              : {})}\n          ></Element>\n        ))}\n      </Form>\n    </Modal>\n  );\n};\n\nexport default ChatConfigurationModal;\n","// extracted by mini-css-extract-plugin\nexport default {\"chatContainer\":\"chatContainer___KnZy3\",\"messageContainer\":\"messageContainer___HpbDk\"};","import MessageItem from '@/components/message-item';\nimport { MessageType } from '@/constants/chat';\nimport { Flex, Spin } from 'antd';\nimport {\n  useCreateConversationBeforeUploadDocument,\n  useGetFileIcon,\n  useGetSendButtonDisabled,\n  useSendButtonDisabled,\n  useSendNextMessage,\n} from '../hooks';\nimport { buildMessageItemReference } from '../utils';\n\nimport MessageInput from '@/components/message-input';\nimport PdfDrawer from '@/components/pdf-drawer';\nimport { useClickDrawer } from '@/components/pdf-drawer/hooks';\nimport {\n  useFetchNextConversation,\n  useGetChatSearchParams,\n  useFetchNextDialog,\n} from '@/hooks/chat-hooks';\nimport { useFetchUserInfo } from '@/hooks/user-setting-hooks';\nimport { buildMessageUuidWithRole } from '@/utils/chat';\nimport { memo } from 'react';\nimport styles from './index.less';\n\ninterface IProps {\n  controller: AbortController;\n}\n\nconst ChatContainer = ({ controller }: IProps) => {\n  const { conversationId } = useGetChatSearchParams();\n  const { data: conversation } = useFetchNextConversation();\n  const { data: currentDialog } = useFetchNextDialog();\n    \n\n  const {\n    value,\n    ref,\n    loading,\n    sendLoading,\n    derivedMessages,\n    handleInputChange,\n    handlePressEnter,\n    regenerateMessage,\n    removeMessageById,\n    stopOutputMessage,\n  } = useSendNextMessage(controller);\n\n  const { visible, hideModal, documentId, selectedChunk, clickDocumentButton } =\n    useClickDrawer();\n  const disabled = useGetSendButtonDisabled();\n  const sendDisabled = useSendButtonDisabled(value);\n  useGetFileIcon();\n  const { data: userInfo } = useFetchUserInfo();\n  const { createConversationBeforeUploadDocument } =\n    useCreateConversationBeforeUploadDocument();\n\n  return (\n    <>\n      <Flex flex={1} className={styles.chatContainer} vertical>\n        <Flex flex={1} vertical className={styles.messageContainer}>\n          <div>\n            <Spin spinning={loading}>\n              {derivedMessages?.map((message, i) => {\n                return (\n                  <MessageItem\n                    loading={\n                      message.role === MessageType.Assistant &&\n                      sendLoading &&\n                      derivedMessages.length - 1 === i\n                    }\n                    key={buildMessageUuidWithRole(message)}\n                    item={message}\n                    nickname={userInfo.nickname}\n                    avatar={userInfo.avatar}\n                    avatarDialog={currentDialog.icon}\n                    reference={buildMessageItemReference(\n                      {\n                        message: derivedMessages,\n                        reference: conversation.reference,\n                      },\n                      message,\n                    )}\n                    clickDocumentButton={clickDocumentButton}\n                    index={i}\n                    removeMessageById={removeMessageById}\n                    regenerateMessage={regenerateMessage}\n                    sendLoading={sendLoading}\n                  ></MessageItem>\n                );\n              })}\n            </Spin>\n          </div>\n          <div ref={ref} />\n        </Flex>\n        <MessageInput\n          disabled={disabled}\n          sendDisabled={sendDisabled}\n          sendLoading={sendLoading}\n          value={value}\n          onInputChange={handleInputChange}\n          onPressEnter={handlePressEnter}\n          conversationId={conversationId}\n          createConversationBeforeUploadDocument={\n            createConversationBeforeUploadDocument\n          }\n          stopOutputMessage={stopOutputMessage}\n        ></MessageInput>\n      </Flex>\n      <PdfDrawer\n        visible={visible}\n        hideModal={hideModal}\n        documentId={documentId}\n        chunk={selectedChunk}\n      ></PdfDrawer>\n    </>\n  );\n};\n\nexport default memo(ChatContainer);\n","// extracted by mini-css-extract-plugin\nexport default {\"chatWrapper\":\"chatWrapper___LQ6YY\",\"chatAppWrapper\":\"chatAppWrapper___hrF6r\",\"chatAppContent\":\"chatAppContent___Ri0fp\",\"chatAppCard\":\"chatAppCard___kPbxc\",\"cubeIcon\":\"cubeIcon___zAmbo\",\"chatAppCardSelected\":\"chatAppCardSelected___h9j2W\",\"chatAppCardSelectedDark\":\"chatAppCardSelectedDark___K4uSc\",\"chatTitleWrapper\":\"chatTitleWrapper___MXbZF\",\"chatTitle\":\"chatTitle___cyXkX\",\"chatTitleContent\":\"chatTitleContent___XsLt3\",\"chatSpin\":\"chatSpin___J9mE8\",\"chatTitleCard\":\"chatTitleCard___Pnbv0\",\"chatTitleCardSelected\":\"chatTitleCardSelected___A8BIt\",\"chatTitleCardSelectedDark\":\"chatTitleCardSelectedDark___isklU\",\"divider\":\"divider___d5TdM\"};","import { ReactComponent as ChatAppCube } from '@/assets/svg/chat-app-cube.svg';\nimport RenameModal from '@/components/rename-modal';\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport {\n  Avatar,\n  Button,\n  Card,\n  Divider,\n  Dropdown,\n  Flex,\n  MenuProps,\n  Space,\n  Spin,\n  Tag,\n  Tooltip,\n  Typography,\n} from 'antd';\nimport { MenuItemProps } from 'antd/lib/menu/MenuItem';\nimport classNames from 'classnames';\nimport { useCallback, useState } from 'react';\nimport ChatConfigurationModal from './chat-configuration-modal';\nimport ChatContainer from './chat-container';\nimport {\n  useDeleteConversation,\n  useDeleteDialog,\n  useEditDialog,\n  useHandleItemHover,\n  useRenameConversation,\n  useSelectDerivedConversationList,\n} from './hooks';\n\nimport EmbedModal from '@/components/api-service/embed-modal';\nimport { useShowEmbedModal } from '@/components/api-service/hooks';\nimport SvgIcon from '@/components/svg-icon';\nimport { useTheme } from '@/components/theme-provider';\nimport { SharedFrom } from '@/constants/chat';\nimport {\n  useClickConversationCard,\n  useClickDialogCard,\n  useFetchNextDialogList,\n  useGetChatSearchParams,\n} from '@/hooks/chat-hooks';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useSetSelectedRecord } from '@/hooks/logic-hooks';\nimport { IDialog } from '@/interfaces/database/chat';\nimport { PictureInPicture2 } from 'lucide-react';\nimport styles from './index.less';\n\nconst { Text } = Typography;\n\nconst Chat = () => {\n  const { data: dialogList, loading: dialogLoading } = useFetchNextDialogList();\n  const { onRemoveDialog } = useDeleteDialog();\n  const { onRemoveConversation } = useDeleteConversation();\n  const { handleClickDialog } = useClickDialogCard();\n  const { handleClickConversation } = useClickConversationCard();\n  const { dialogId, conversationId } = useGetChatSearchParams();\n  const { theme } = useTheme();\n  const {\n    list: conversationList,\n    addTemporaryConversation,\n    loading: conversationLoading,\n  } = useSelectDerivedConversationList();\n  const { activated, handleItemEnter, handleItemLeave } = useHandleItemHover();\n  const {\n    activated: conversationActivated,\n    handleItemEnter: handleConversationItemEnter,\n    handleItemLeave: handleConversationItemLeave,\n  } = useHandleItemHover();\n  const {\n    conversationRenameLoading,\n    initialConversationName,\n    onConversationRenameOk,\n    conversationRenameVisible,\n    hideConversationRenameModal,\n    showConversationRenameModal,\n  } = useRenameConversation();\n  const {\n    dialogSettingLoading,\n    initialDialog,\n    onDialogEditOk,\n    dialogEditVisible,\n    clearDialog,\n    hideDialogEditModal,\n    showDialogEditModal,\n  } = useEditDialog();\n  const { t } = useTranslate('chat');\n  const { currentRecord, setRecord } = useSetSelectedRecord<IDialog>();\n  const [controller, setController] = useState(new AbortController());\n  const { showEmbedModal, hideEmbedModal, embedVisible, beta } =\n    useShowEmbedModal();\n\n  const handleAppCardEnter = (id: string) => () => {\n    handleItemEnter(id);\n  };\n\n  const handleConversationCardEnter = (id: string) => () => {\n    handleConversationItemEnter(id);\n  };\n\n  const handleShowChatConfigurationModal =\n    (dialogId?: string): any =>\n    (info: any) => {\n      info?.domEvent?.preventDefault();\n      info?.domEvent?.stopPropagation();\n      showDialogEditModal(dialogId);\n    };\n\n  const handleRemoveDialog =\n    (dialogId: string): MenuItemProps['onClick'] =>\n    ({ domEvent }) => {\n      domEvent.preventDefault();\n      domEvent.stopPropagation();\n      onRemoveDialog([dialogId]);\n    };\n\n  const handleShowOverviewModal =\n    (dialog: IDialog): any =>\n    (info: any) => {\n      info?.domEvent?.preventDefault();\n      info?.domEvent?.stopPropagation();\n      setRecord(dialog);\n      showEmbedModal();\n    };\n\n  const handleRemoveConversation =\n    (conversationId: string): MenuItemProps['onClick'] =>\n    ({ domEvent }) => {\n      domEvent.preventDefault();\n      domEvent.stopPropagation();\n      onRemoveConversation([conversationId]);\n    };\n\n  const handleShowConversationRenameModal =\n    (conversationId: string): MenuItemProps['onClick'] =>\n    ({ domEvent }) => {\n      domEvent.preventDefault();\n      domEvent.stopPropagation();\n      showConversationRenameModal(conversationId);\n    };\n\n  const handleDialogCardClick = useCallback(\n    (dialogId: string) => () => {\n      handleClickDialog(dialogId);\n    },\n    [handleClickDialog],\n  );\n\n  const handleConversationCardClick = useCallback(\n    (conversationId: string, isNew: boolean) => () => {\n      handleClickConversation(conversationId, isNew ? 'true' : '');\n      setController((pre) => {\n        pre.abort();\n        return new AbortController();\n      });\n    },\n    [handleClickConversation],\n  );\n\n  const handleCreateTemporaryConversation = useCallback(() => {\n    addTemporaryConversation();\n  }, [addTemporaryConversation]);\n\n  const buildAppItems = (dialog: IDialog) => {\n    const dialogId = dialog.id;\n\n    const appItems: MenuProps['items'] = [\n      {\n        key: '1',\n        onClick: handleShowChatConfigurationModal(dialogId),\n        label: (\n          <Space>\n            <EditOutlined />\n            {t('edit', { keyPrefix: 'common' })}\n          </Space>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '2',\n        onClick: handleRemoveDialog(dialogId),\n        label: (\n          <Space>\n            <DeleteOutlined />\n            {t('delete', { keyPrefix: 'common' })}\n          </Space>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '3',\n        onClick: handleShowOverviewModal(dialog),\n        label: (\n          <Space>\n            {/* <KeyOutlined /> */}\n            <PictureInPicture2 className=\"size-4\" />\n            {t('embedIntoSite', { keyPrefix: 'common' })}\n          </Space>\n        ),\n      },\n    ];\n\n    return appItems;\n  };\n\n  const buildConversationItems = (conversationId: string) => {\n    const appItems: MenuProps['items'] = [\n      {\n        key: '1',\n        onClick: handleShowConversationRenameModal(conversationId),\n        label: (\n          <Space>\n            <EditOutlined />\n            {t('rename', { keyPrefix: 'common' })}\n          </Space>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '2',\n        onClick: handleRemoveConversation(conversationId),\n        label: (\n          <Space>\n            <DeleteOutlined />\n            {t('delete', { keyPrefix: 'common' })}\n          </Space>\n        ),\n      },\n    ];\n\n    return appItems;\n  };\n\n  return (\n    <Flex className={styles.chatWrapper}>\n      <Flex className={styles.chatAppWrapper}>\n        <Flex flex={1} vertical>\n          <Button type=\"primary\" onClick={handleShowChatConfigurationModal()}>\n            {t('createAssistant')}\n          </Button>\n          <Divider></Divider>\n          <Flex className={styles.chatAppContent} vertical gap={10}>\n            <Spin spinning={dialogLoading} wrapperClassName={styles.chatSpin}>\n              {dialogList.map((x) => (\n                <Card\n                  key={x.id}\n                  hoverable\n                  className={classNames(styles.chatAppCard, {\n                    [theme === 'dark'\n                      ? styles.chatAppCardSelectedDark\n                      : styles.chatAppCardSelected]: dialogId === x.id,\n                  })}\n                  onMouseEnter={handleAppCardEnter(x.id)}\n                  onMouseLeave={handleItemLeave}\n                  onClick={handleDialogCardClick(x.id)}\n                >\n                  <Flex justify=\"space-between\" align=\"center\">\n                    <Space size={15}>\n                      <Avatar src={x.icon} shape={'square'} />\n                      <section>\n                        <b>\n                          <Text\n                            ellipsis={{ tooltip: x.name }}\n                            style={{ width: 130 }}\n                          >\n                            {x.name}\n                          </Text>\n                        </b>\n                        <div>{x.description}</div>\n                      </section>\n                    </Space>\n                    {activated === x.id && (\n                      <section>\n                        <Dropdown menu={{ items: buildAppItems(x) }}>\n                          <ChatAppCube\n                            className={styles.cubeIcon}\n                          ></ChatAppCube>\n                        </Dropdown>\n                      </section>\n                    )}\n                  </Flex>\n                </Card>\n              ))}\n            </Spin>\n          </Flex>\n        </Flex>\n      </Flex>\n      <Divider type={'vertical'} className={styles.divider}></Divider>\n      <Flex className={styles.chatTitleWrapper}>\n        <Flex flex={1} vertical>\n          <Flex\n            justify={'space-between'}\n            align=\"center\"\n            className={styles.chatTitle}\n          >\n            <Space>\n              <b>{t('chat')}</b>\n              <Tag>{conversationList.length}</Tag>\n            </Space>\n            <Tooltip title={t('newChat')}>\n              <div>\n                <SvgIcon\n                  name=\"plus-circle-fill\"\n                  width={20}\n                  onClick={handleCreateTemporaryConversation}\n                ></SvgIcon>\n              </div>\n            </Tooltip>\n          </Flex>\n          <Divider></Divider>\n          <Flex vertical gap={10} className={styles.chatTitleContent}>\n            <Spin\n              spinning={conversationLoading}\n              wrapperClassName={styles.chatSpin}\n            >\n              {conversationList.map((x) => (\n                <Card\n                  key={x.id}\n                  hoverable\n                  onClick={handleConversationCardClick(x.id, x.is_new)}\n                  onMouseEnter={handleConversationCardEnter(x.id)}\n                  onMouseLeave={handleConversationItemLeave}\n                  className={classNames(styles.chatTitleCard, {\n                    [theme === 'dark'\n                      ? styles.chatTitleCardSelectedDark\n                      : styles.chatTitleCardSelected]: x.id === conversationId,\n                  })}\n                >\n                  <Flex justify=\"space-between\" align=\"center\">\n                    <div>\n                      <Text\n                        ellipsis={{ tooltip: x.name }}\n                        style={{ width: 150 }}\n                      >\n                        {x.name}\n                      </Text>\n                    </div>\n                    {conversationActivated === x.id &&\n                      x.id !== '' &&\n                      !x.is_new && (\n                        <section>\n                          <Dropdown\n                            menu={{ items: buildConversationItems(x.id) }}\n                          >\n                            <ChatAppCube\n                              className={styles.cubeIcon}\n                            ></ChatAppCube>\n                          </Dropdown>\n                        </section>\n                      )}\n                  </Flex>\n                </Card>\n              ))}\n            </Spin>\n          </Flex>\n        </Flex>\n      </Flex>\n      <Divider type={'vertical'} className={styles.divider}></Divider>\n      <ChatContainer controller={controller}></ChatContainer>\n      {dialogEditVisible && (\n        <ChatConfigurationModal\n          visible={dialogEditVisible}\n          initialDialog={initialDialog}\n          showModal={showDialogEditModal}\n          hideModal={hideDialogEditModal}\n          loading={dialogSettingLoading}\n          onOk={onDialogEditOk}\n          clearDialog={clearDialog}\n        ></ChatConfigurationModal>\n      )}\n      <RenameModal\n        visible={conversationRenameVisible}\n        hideModal={hideConversationRenameModal}\n        onOk={onConversationRenameOk}\n        initialName={initialConversationName}\n        loading={conversationRenameLoading}\n      ></RenameModal>\n\n      {embedVisible && (\n        <EmbedModal\n          visible={embedVisible}\n          hideModal={hideEmbedModal}\n          token={currentRecord.id}\n          form={SharedFrom.Chat}\n          beta={beta}\n          isAgent={false}\n        ></EmbedModal>\n      )}\n    </Flex>\n  );\n};\n\nexport default Chat;\n"],"names":["options","map","x","label","value","CrossLanguageItem","_ref","_ref$name","name","t","useTranslation","_jsx","Form","Item","tooltip","children","AntSelect","allowClear","placeholder","mode","visible","hideModal","loading","initialName","onOk","_Form$useForm","useForm","form","_slicedToArray","useTranslate","handleOk","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ret","wrap","_context","prev","next","validateFields","sent","abrupt","stop","apply","arguments","useEffect","setFieldValue","Modal","title","open","onCancel","okButtonProps","confirmLoading","labelCol","span","wrapperCol","style","maxWidth","onFinish","values","console","log","onFinishFailed","errorInfo","autoComplete","rules","required","message","Input","__defProp","Object","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","enumerable","configurable","writable","SvgChatAppCube","props","a","b","prop","call","__spreadValues","width","height","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","SvgChatConfigurationAtom","filter","shapeRendering","id","y","filterUnits","colorInterpolationFilters","floodOpacity","result","in","dy","stdDeviation","in2","operator","emptyResponseField","show","setHasError","data","useFetchTenantInfo","handleChange","useCallback","kbIds","getFieldValue","Array","isArray","length","setFields","errors","handleTtsChange","checked","tts_id","error","uploadButton","_jsxs","border","background","type","PlusOutlined","marginTop","keyPrefix","className","classNames","_defineProperty","styles","valuePropName","getValueFromEvent","e","fileList","Upload","listType","maxCount","beforeUpload","showUploadList","showPreviewIcon","showRemoveIcon","initialValue","display","Select","onChange","TextArea","autoSize","minRows","Switch","TavilyItem","KnowledgeBaseItem","initialLlmSetting","keys","variableEnabledFieldMap","reduce","pre","field","undefined","setInitialChatVariableEnabledFieldValue","setFieldsValue","LlmSettingItems","prefix","EditableContext","React","EditableRow","index","_objectWithoutProperties","_excluded","component","Provider","_objectSpread","EditableCell","editable","dataIndex","record","handleSave","restProps","_excluded2","_useState","useState","_useState2","editing","setEditing","inputRef","useRef","useContext","current","focus","toggleEdit","save","_ref3","t0","childNode","margin","concat","ref","onPressEnter","onBlur","paddingRight","onClick","PromptEngine","dataSource","setDataSource","parameters","useSelectPromptConfigParameters","components","body","row","cell","newData","_toConsumableArray","findIndex","item","splice","handleOptionalChange","optional","useImperativeHandle","variable","trim","columns","onCell","align","render","text","size","_","DeleteOutlined","maxRows","Divider","SimilaritySlider","isTooltipShown","TopNItem","UseKnowledgeGraphItem","filedName","Rerank","Row","justify","Col","Tooltip","QuestionCircleOutlined","Button","state","uuid","Table","rowKey","rowClassName","forwardRef","layout","validateMessages","types","email","number","range","ConfigurationSegmented","segmentedMap","AssistantSetting","ModelSetting","initialDialog","clearDialog","hasError","_useState3","_useState4","setValue","promptEngineRef","modelId","useFetchModelId","_nextValues$prompt_co","_nextValues$prompt_co2","nextValues","emptyResponse","icon","finalValues","removeUselessFieldsFromValues","prompt_config","empty_response","getBase64FromUploadFileList","dialog_id","vector_similarity_weight","Flex","gap","ChatConfigurationAtom","_initialDialog$llm_se","_initialDialog$llm_id","_initialDialog$vector","uid","thumbUrl","status","llm_setting","settledModelVariableMap","ModelVariableType","Precise","llm_id","destroyOnClose","afterClose","resetFields","Segmented","val","camelCase","block","colon","onKeyDown","target","HTMLTextAreaElement","shiftKey","preventDefault","entries","_ref4","Element","ChatContainer","controller","conversationId","useGetChatSearchParams","conversation","useFetchNextConversation","currentDialog","useFetchNextDialog","_useSendNextMessage","useSendNextMessage","sendLoading","derivedMessages","handleInputChange","handlePressEnter","regenerateMessage","removeMessageById","stopOutputMessage","_useClickDrawer","useClickDrawer","documentId","selectedChunk","clickDocumentButton","disabled","useGetSendButtonDisabled","sendDisabled","useSendButtonDisabled","useGetFileIcon","userInfo","useFetchUserInfo","createConversationBeforeUploadDocument","useCreateConversationBeforeUploadDocument","_Fragment","flex","vertical","Spin","spinning","i","MessageItem","role","MessageType","Assistant","nickname","avatar","avatarDialog","reference","buildMessageItemReference","buildMessageUuidWithRole","MessageInput","onInputChange","PdfDrawer","chunk","memo","Text","Typography","_useFetchNextDialogLi","useFetchNextDialogList","dialogList","dialogLoading","onRemoveDialog","useDeleteDialog","onRemoveConversation","useDeleteConversation","handleClickDialog","useClickDialogCard","handleClickConversation","useClickConversationCard","_useGetChatSearchPara","dialogId","theme","useTheme","_useSelectDerivedConv","useSelectDerivedConversationList","conversationList","list","addTemporaryConversation","conversationLoading","_useHandleItemHover","useHandleItemHover","activated","handleItemEnter","handleItemLeave","_useHandleItemHover2","conversationActivated","handleConversationItemEnter","handleConversationItemLeave","_useRenameConversatio","useRenameConversation","conversationRenameLoading","initialConversationName","onConversationRenameOk","conversationRenameVisible","hideConversationRenameModal","showConversationRenameModal","_useEditDialog","useEditDialog","dialogSettingLoading","onDialogEditOk","dialogEditVisible","hideDialogEditModal","showDialogEditModal","_useSetSelectedRecord","useSetSelectedRecord","currentRecord","setRecord","AbortController","setController","_useShowEmbedModal","useShowEmbedModal","showEmbedModal","hideEmbedModal","embedVisible","beta","handleShowChatConfigurationModal","info","_info$domEvent","_info$domEvent2","domEvent","stopPropagation","handleRemoveDialog","handleShowOverviewModal","dialog","_info$domEvent3","_info$domEvent4","handleRemoveConversation","handleShowConversationRenameModal","handleDialogCardClick","handleConversationCardClick","isNew","abort","handleCreateTemporaryConversation","buildAppItems","Space","EditOutlined","PictureInPicture2","buildConversationItems","wrapperClassName","Card","hoverable","onMouseEnter","onMouseLeave","Avatar","src","shape","ellipsis","description","Dropdown","menu","items","ChatAppCube","Tag","SvgIcon","is_new","ChatConfigurationModal","showModal","RenameModal","EmbedModal","token","SharedFrom","Chat","isAgent"],"sourceRoot":""}