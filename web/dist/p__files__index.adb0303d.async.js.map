{"version":3,"file":"p__files__index.adb0303d.async.js","mappings":"0OAiBO,SAASA,EAAcC,GAAuC,IAApCC,EAAID,EAAJC,KAAMC,EAAKF,EAALE,MAC/BC,GAAeC,EAAAA,EAAAA,cAAY,SAACC,GAChC,MAAc,WAAPA,CACT,GAAG,IAEH,OACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,UAAU,OAAMC,UACpBC,EAAAA,EAAAA,MAACC,EAAAA,GAAW,CAACH,UAAU,mCAAkCC,SAAA,EACvDC,EAAAA,EAAAA,MAAA,WAASF,UAAU,qDAAoDC,SAAA,EACrEC,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAM,aAAWP,EAAM,aACvBI,EAAAA,EAAAA,KAACM,EAAAA,EAAa,CAACJ,UAAU,eAE3BF,EAAAA,EAAAA,KAACO,EAAAA,EAAS,CAACC,YAAa,WAAYN,UAAU,SAC9CF,EAAAA,EAAAA,KAAA,MAAIE,UAAU,aAAYC,SACvBR,EAAKc,KAAI,SAACC,GAAC,OACVV,EAAAA,EAAAA,KAAA,MAEEE,WAAWS,EAAAA,EAAAA,IAAEC,IAAC,CAAC,EAAE,uBAAyBf,EAAaa,EAAEX,MAAOI,UAEhEH,EAAAA,EAAAA,KAACa,EAAAA,EAAmB,CAClBC,QAASjB,EAAaa,EAAEX,IACxBgB,KAAML,EAAEM,QAAQb,UAEhBC,EAAAA,EAAAA,MAACa,EAAAA,GAAM,CACLC,QAAS,QACTF,QAASnB,EAAaa,EAAEX,IAAM,WAAO,EAAIW,EAAEM,QAAQb,SAAA,CAElDO,EAAES,KAAK,IAAET,EAAEU,YAXXV,EAAEX,GAcJ,UAMjB,C,wLCrDasB,EAAA,cAAAC,EAAA,cAAAC,EAAA,cAOPC,EAAOC,EAAAA,GAEPC,EAAWC,EAAAA,YAGf,SAAAjC,EAA0BkC,GAAG,IAA1B1B,EAASR,EAATQ,UAAc2B,EAAKC,IAAApC,EAAA2B,GAAA,OACtBrB,EAAAA,EAAAA,KAACyB,EAAAA,GAAkBM,IAAA,CACjBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,sIACAT,IAEE2B,GACJ,IAEJH,EAASM,YAAcP,EAAAA,GAAmBO,YAE1C,IAAMC,EAAcN,EAAAA,YAGlB,SAAAO,EAA0BN,GAAG,IAA1B1B,EAASgC,EAAThC,UAAc2B,EAAKC,IAAAI,EAAAZ,GAAA,OACtBtB,EAAAA,EAAAA,KAACyB,EAAAA,GAAqBM,IAAA,CACpBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,4aACAT,IAEE2B,GACJ,IAEJI,EAAYD,YAAcP,EAAAA,GAAsBO,YAEhD,IAAMG,EAAcR,EAAAA,YAGlB,SAAAS,EAA0BR,GAAG,IAA1B1B,EAASkC,EAATlC,UAAc2B,EAAKC,IAAAM,EAAAb,GAAA,OACtBvB,EAAAA,EAAAA,KAACyB,EAAAA,GAAqBM,IAAA,CACpBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,kIACAT,IAEE2B,GACJ,IAEJM,EAAYH,YAAcP,EAAAA,GAAsBO,Y,0BClCzC,SAASK,EAAY3C,GAAkC,IAA/B4C,EAAQ5C,EAAR4C,SACrBC,GAAMC,EAAAA,EAAAA,MAAND,EAER,OACEnC,EAAAA,EAAAA,MAACoB,EAAI,CAACiB,aAAa,UAAStC,SAAA,EAC1BC,EAAAA,EAAAA,MAACsB,EAAQ,CAACxB,UAAU,+BAA8BC,SAAA,EAChDH,EAAAA,EAAAA,KAACiC,EAAW,CAACS,MAAM,UAASvC,SAAEoC,EAAE,wBAChCvC,EAAAA,EAAAA,KAACiC,EAAW,CAACS,MAAM,WAAUvC,SAAEoC,EAAE,wBAEnCvC,EAAAA,EAAAA,KAACmC,EAAW,CAACO,MAAM,UAASvC,UAC1BH,EAAAA,EAAAA,KAAC2C,EAAAA,EAAY,CACXC,aAAc,EACdC,QAAS,QACTC,cAAeR,EACfS,OAAQ,CAAE,IAAK,SAGnB/C,EAAAA,EAAAA,KAACmC,EAAW,CAACO,MAAM,WAAUvC,SAAEoC,EAAE,yBAGvC,CAEO,SAASS,EAAgBd,GAIR,IAHtBe,EAASf,EAATe,UACAlC,EAAImB,EAAJnB,KACAmC,EAAOhB,EAAPgB,QAEQX,GAAMC,EAAAA,EAAAA,MAAND,EACRY,GAA0BC,EAAAA,EAAAA,UAAiB,IAAGC,EAAAC,IAAAH,EAAA,GAAvCI,EAAKF,EAAA,GAAEf,EAAQe,EAAA,GAEhBG,GAAW1D,EAAAA,EAAAA,cAAY,WAC3BiB,SAAAA,EAAOwC,EACT,GAAG,CAACA,EAAOxC,IAEX,OACEf,EAAAA,EAAAA,KAACyD,EAAAA,GAAM,CAACC,MAAI,EAACC,aAAcV,EAAU9C,UACnCC,EAAAA,EAAAA,MAACwD,EAAAA,GAAa,CAAC1D,UAAU,mBAAkBC,SAAA,EACzCH,EAAAA,EAAAA,KAAC6D,EAAAA,GAAY,CAAA1D,UACXH,EAAAA,EAAAA,KAAC8D,EAAAA,GAAW,CAAA3D,SAAEoC,EAAE,+BAElBvC,EAAAA,EAAAA,KAACqC,EAAY,CAACC,SAAUA,KACxBtC,EAAAA,EAAAA,KAAC+D,EAAAA,GAAY,CAAA5D,UACXH,EAAAA,EAAAA,KAACgE,EAAAA,GAAa,CAACC,KAAK,SAASjD,QAASwC,EAAUN,QAASA,EAAQ/C,SAC9DoC,EAAE,uBAMf,C,oQCnEalB,EAAA,4BAAAC,EAAA,yBAOP4C,EAAYvC,EAAAA,YAGhB,SAAAjC,EAAoDkC,GAAG,IAApD1B,EAASR,EAATQ,UAASiE,EAAAzE,EAAEc,YAAAA,OAAW,IAAA2D,EAAG,WAAUA,EAAKtC,EAAKC,IAAApC,EAAA2B,GAAA,OAChDrB,EAAAA,EAAAA,KAACoE,EAAAA,GAAuCrC,IAAAA,IAAA,CACtCH,IAAKA,EACLpB,YAAaA,EACbN,WAAWS,EAAAA,EAAAA,IACT,gDACgB,aAAhBH,GACE,qDACc,eAAhBA,GACE,uDACFN,IAEE2B,GAAK,IAAA1B,UAETH,EAAAA,EAAAA,KAACoE,EAAAA,GAAmC,CAAClE,UAAU,6CACP,IAE5CgE,EAAUlC,YAAcoC,EAAAA,GAAwCpC,YAEhE,IAAMqC,EAAa1C,EAAAA,YAGjB,SAAAO,EAAoCN,GAAG,IAApC1B,EAASgC,EAAThC,UAAWC,EAAQ+B,EAAR/B,SAAa0B,EAAKC,IAAAI,EAAAZ,GAAA,OAChClB,EAAAA,EAAAA,MAACgE,EAAAA,GAAwBrC,IAAAA,IAAA,CACvBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,2BAA4BT,IACtC2B,GAAK,IAAA1B,SAAA,EAETH,EAAAA,EAAAA,KAACoE,EAAAA,GAA4B,CAAClE,UAAU,kCAAiCC,SACtEA,KAEHH,EAAAA,EAAAA,KAACkE,EAAS,KACVlE,EAAAA,EAAAA,KAACoE,EAAAA,GAA0B,OACF,ICjC7B,SAASE,EACPC,GAEA,IAAMC,EAAc7C,EAAAA,OAAa4C,GAOjC,OALA5C,EAAAA,WAAgB,WACd6C,EAAYC,QAAUF,CACxB,IAGO5C,EAAAA,SACL,kBAAO,mBAAA+C,EAAAC,EAAAC,UAAAC,OAAIC,EAAI,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAJF,EAAIE,GAAAJ,UAAAI,GAAA,OAAwB,QAAxBN,EAAKF,EAAYC,eAAO,IAAAC,OAAA,EAAnBA,EAAAO,KAAAC,MAAAR,EAAA,CAAAF,GAAWW,OAAcL,GAAK,IAClD,GAEJ,CCWA,SAASM,EAAoBlD,GAIK,IAHhCmD,EAAInD,EAAJmD,KACAC,EAAWpD,EAAXoD,YAAWC,EAAArD,EACXsD,SAAAA,OAAQ,IAAAD,EAAG,WAAO,EAACA,EAEnBE,EAxBF,SAA6B/F,GAGmB,IAF9C4F,EAAW5F,EAAX4F,YACAE,EAAQ9F,EAAR8F,SAEME,EAAoB/D,EAAAA,SAA8B2D,GACjD5C,EAAPY,IAAgBoC,EAAiB,GAArB,GACNC,EAAehE,EAAAA,OAAae,GAC5BkD,EAAetB,EAAekB,GASpC,OAPA7D,EAAAA,WAAgB,WACVgE,EAAalB,UAAY/B,IAC3BkD,EAAalD,GACbiD,EAAalB,QAAU/B,EAE3B,GAAG,CAACA,EAAOiD,EAAcC,IAElBF,CACT,CAOkDG,CAAqB,CACnEP,YAAAA,EACAE,SAAAA,IACAM,EAAAxC,IAAAmC,EAAA,GAHKM,EAAgBD,EAAA,GAAEE,EAAmBF,EAAA,GAItCG,OAAwBC,IAATb,EACf3C,EAAQuD,EAAeZ,EAAOU,EAC9BH,EAAetB,EAAekB,GAiBpC,MAAO,CAAC9C,EAdNf,EAAAA,aACE,SAACwE,GACC,GAAIF,EAAc,CAChB,IACMvD,EACiB,mBAAdyD,EAFMA,EAE4Bd,GAAQc,EAC/CzD,IAAU2C,GAAMO,EAAalD,EACnC,MACEsD,EAAoBG,EAExB,GACA,CAACF,EAAcZ,EAAMW,EAAqBJ,IAIhD,CFnBAvB,EAAWrC,YAAcoC,EAAAA,GAAyBpC,YG3CrC,IAAAX,EAAA,sHAgBb,SAAS+E,EAAkBC,GACzB,MAAO,YAAaA,GAAgC,iBAAjBA,EAAKC,OAC1C,CAYA,SAASC,EAAW7G,GAA6B,IAA1B2G,EAAI3G,EAAJ2G,KACrB,OAAIA,EAAKpC,KAAKuC,WAAW,WAErBxG,EAAAA,EAAAA,KAAA,OACEyG,IAAKJ,EAAKC,QACVI,IAAKL,EAAKM,KACVC,MAAO,GACPC,OAAQ,GACR3D,QAAQ,OACRhD,UAAU,oDAMdF,EAAAA,EAAAA,KAAC8G,EAAAA,EAAQ,CAAC5G,UAAU,gCAAgC,cAAY,QAEpE,CAEA,SAAS6G,EAAQ7E,GAA8C,IAA3CmE,EAAInE,EAAJmE,KAAMW,EAAQ9E,EAAR8E,SAAUC,EAAQ/E,EAAR+E,SAClC,OACE7G,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qCAAoCC,SAAA,EACjDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,CACjCiG,EAAkBC,IAAQrG,EAAAA,EAAAA,KAACuG,EAAW,CAACF,KAAMA,IAAW,MACzDjG,EAAAA,EAAAA,MAAA,OAAKF,UAAU,6BAA4BC,SAAA,EACzCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EACnCH,EAAAA,EAAAA,KAAA,KAAGE,UAAU,sDAAqDC,SAC/DkG,EAAKM,QAER3G,EAAAA,EAAAA,KAAA,KAAGE,UAAU,gCAA+BC,UACzC+G,EAAAA,EAAAA,GAAYb,EAAKc,WAGrBH,GAAWhH,EAAAA,EAAAA,KAACoH,EAAAA,EAAQ,CAAC1E,MAAOsE,IAAe,YAGhDhH,EAAAA,EAAAA,KAAA,OAAKE,UAAU,0BAAyBC,UACtCC,EAAAA,EAAAA,MAACa,EAAAA,GAAM,CACLgD,KAAK,SACL/C,QAAQ,UACRiG,KAAK,OACLjH,UAAU,SACVc,QAASiG,EAAS9G,SAAA,EAElBH,EAAAA,EAAAA,KAACqH,EAAAA,EAAC,CAACnH,UAAU,SAAS,cAAY,UAClCF,EAAAA,EAAAA,KAAA,QAAME,UAAU,UAASC,SAAC,uBAKpC,CA+EO,SAASwC,EAAad,GAA0B,IAAAyF,EAE5CC,EAaL1F,EAbFa,MACAI,EAYEjB,EAZFiB,cACA0E,EAWE3F,EAXF2F,SACAC,EAUE5F,EAVF4F,WAAUC,EAUR7F,EATFkB,OAAAA,OAAM,IAAA2E,EAAG,CACP,UAAW,IACZA,EAAAC,EAOC9F,EANFgB,QAAAA,OAAO,IAAA8E,EAAG,QAAeA,EAAAC,EAMvB/F,EALFe,aAAAA,OAAY,IAAAgF,EAAG,EAACA,EAAAC,EAKdhG,EAJFiG,SAAAA,OAAQ,IAAAD,GAAQA,EAAAE,EAIdlG,EAHFmG,SAAAA,OAAQ,IAAAD,GAAQA,EAChB7H,EAEE2B,EAFF3B,UACG+H,EAAanG,IACdD,EAAKR,GAET6G,EAA0B9C,EAAqB,CAC7CC,KAAMkC,EACN/B,SAAU1C,IACVqF,EAAA7E,IAAA4E,EAAA,GAHK3E,EAAK4E,EAAA,GAAE7F,EAAQ6F,EAAA,GAKhBC,EAASzG,EAAAA,aACb,SAAC0G,EAAuBC,GAAmC,IAAAC,EACzD,IAAKT,GAA6B,IAAjBlF,GAAsByF,EAAcxD,OAAS,EAC5D2D,EAAAA,GAAMC,MAAM,iDAId,IAAkB,QAAdF,EAAChF,aAAK,EAALA,EAAOsB,cAAM,IAAA0D,EAAAA,EAAI,GAAKF,EAAcxD,OAASjC,EAChD4F,EAAAA,GAAMC,MAAM,2BAADtD,OAA4BvC,EAAY,eADrD,CAKA,IAAM8F,EAAWL,EAAc5H,KAAI,SAAC4F,GAAI,OACtCsC,OAAOC,OAAOvC,EAAM,CAClBC,QAASuC,IAAIC,gBAAgBzC,IAC7B,IAGE0C,EAAexF,EAAQ,GAAH4B,OAAA6D,IAAOzF,GAAKyF,IAAKN,IAAYA,EAUvD,GARApG,EAASyG,GAELT,EAAczD,OAAS,GACzByD,EAAcW,SAAQ,SAAA7G,GAAc,IAAXiE,EAAIjE,EAAJiE,KACvBmC,EAAAA,GAAMC,MAAM,QAADtD,OAASkB,EAAKM,KAAI,iBAC/B,IAIAa,GACAuB,EAAalE,OAAS,GACtBkE,EAAalE,QAAUjC,EACvB,CACA,IAAMsG,EACJH,EAAalE,OAAS,EAAI,GAAHM,OAAM4D,EAAalE,OAAM,iBAElD2D,EAAAA,GAAMW,QAAQ3B,EAASuB,GAAe,CACpC7F,QAAS,aAAFiC,OAAe+D,EAAM,OAC5BE,QAAS,WAEP,OADA9G,EAAS,IACF,GAAP6C,OAAU+D,EAAM,YAClB,EACAT,MAAO,oBAAFtD,OAAsB+D,IAE/B,CAlCA,CAmCF,GAEA,CAAC3F,EAAOX,EAAckF,EAAUN,EAAUlF,IAW5CX,EAAAA,WAAgB,WACd,OAAO,WACA4B,GACLA,EAAM0F,SAAQ,SAAC5C,GACTD,EAAkBC,IACpBwC,IAAIQ,gBAAgBhD,EAAKC,QAE7B,GACF,CAEF,GAAG,IAEH,IAAMgD,EAAatB,IAA0B,QAAdV,EAAC/D,aAAK,EAALA,EAAOsB,cAAM,IAAAyC,EAAAA,EAAI,IAAM1E,EAEvD,OACExC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,+CAA8CC,SAAA,EAC3DH,EAAAA,EAAAA,KAACuJ,EAAAA,GAAQ,CACPnB,OAAQA,EACRrF,OAAQA,EACRF,QAASA,EACT2G,SAAU5G,EACVkF,SAAUlF,EAAe,GAAKkF,EAC9BE,SAAUsB,EAAWnJ,SAEpB,SAAAsJ,GAAA,IAAGC,EAAYD,EAAZC,aAAcC,EAAaF,EAAbE,cAAeC,EAAYH,EAAZG,aAAY,OAC3CxJ,EAAAA,EAAAA,MAAA,MAAA2B,IAAAA,IAAAA,IAAA,GACM2H,KAAc,IAClBxJ,WAAWS,EAAAA,EAAAA,IACT,sLACA,6HACAiJ,GAAgB,6BAChBN,GAAc,iCACdpJ,IAEE+H,GAAa,IAAA9H,SAAA,EAEjBH,EAAAA,EAAAA,KAAA,QAAA+B,IAAA,GAAW4H,MACVC,GACCxJ,EAAAA,EAAAA,MAAA,OAAKF,UAAU,0DAAyDC,SAAA,EACtEH,EAAAA,EAAAA,KAAA,OAAKE,UAAU,wCAAuCC,UACpDH,EAAAA,EAAAA,KAAC6J,EAAAA,EAAM,CACL3J,UAAU,+BACV,cAAY,YAGhBF,EAAAA,EAAAA,KAAA,KAAGE,UAAU,oCAAmCC,SAAC,4BAKnDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,0DAAyDC,SAAA,EACtEH,EAAAA,EAAAA,KAAA,OAAKE,UAAU,wCAAuCC,UACpDH,EAAAA,EAAAA,KAAC6J,EAAAA,EAAM,CACL3J,UAAU,+BACV,cAAY,YAGhBE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,oCAAmCC,SAAA,CAAC,QAC1C,MAAO,iDAEdC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,mCAAkCC,SAAA,CAAC,iBAE7CyC,EAAe,EAAC,IAAAuC,OACTvC,IAAiBkH,IAAW,WAAalH,EAAY,yCAAAuC,QAC5C+B,EAAAA,EAAAA,GAAYrE,GAAQ,0BAAAsC,QACjB+B,EAAAA,EAAAA,GAAYrE,gBAKpC,IAGTU,SAAAA,EAAOsB,QACN7E,EAAAA,EAAAA,KAACqE,EAAU,CAACnE,UAAU,oBAAmBC,UACvCH,EAAAA,EAAAA,KAAA,OAAKE,UAAU,+BAA8BC,SAC1CoD,aAAK,EAALA,EAAO9C,KAAI,SAAC4F,EAAM0D,GAAK,OACtB/J,EAAAA,EAAAA,KAAC+G,EAAQ,CAEPV,KAAMA,EACNY,SAAU,kBAzFxB,SAAkB8C,GAChB,GAAKxG,EAAL,CACA,IAAMmF,EAAWnF,EAAMyG,QAAO,SAACC,EAAGC,GAAC,OAAKA,IAAMH,CAAK,IACnDzH,EAASoG,GACT5F,SAAAA,EAAgB4F,EAHE,CAIpB,CAoF8BzB,CAAS8C,EAAM,EAC/B/C,SAAUS,aAAU,EAAVA,EAAapB,EAAKM,OAHvBoD,EAIL,QAIN,OAGV,C,4DCzRA,IAlCwB,SAAHrK,GASP,IARZS,EAAQT,EAARS,SACAgK,EAAIzK,EAAJyK,KAAIC,EAAA1K,EACJ2K,eAAAA,OAAc,IAAAD,GAAQA,EAAAE,EAAA5K,EACtB6K,MAAAA,OAAK,IAAAD,EAAG,mBAAkBA,EAC1BE,EAAU9K,EAAV8K,WACAC,EAAY/K,EAAZ+K,aAAYC,EAAAhL,EACZiL,OAAAA,OAAM,IAAAD,EAAG,OAAMA,EACfxK,EAASR,EAATQ,UAEI0K,EAAWT,EACTU,GAAYC,EAAAA,EAAAA,IAAaL,GAK/B,OAJKN,IACHS,EAAW,aAAHzF,OAAgBqF,EAAU,SAAArF,OAAQ0F,EAAS,YAAA1F,OAAWwF,KAI9D3K,EAAAA,EAAAA,KAAA,KACEkJ,OAAO,SACPlI,SACGqJ,IAAkBU,EAAAA,EAAAA,IAA+BF,QAC9C3E,EACA,SAAC8E,GAAC,OAAKA,EAAEX,gBAAgB,EAE/BY,KAAML,EACNM,IAAI,aACJC,MAAO,CAAEZ,MAAOrK,EAAY,GAAKqK,EAAOa,UAAW,aACnDlL,UAAWA,EAAUC,SAEpBA,GAGP,C,oHC1CA,SAASkL,EAAG3L,GAA0D,IAAvDS,EAAQT,EAARS,SAAUmL,EAAa5L,EAAb4L,cACvB,OACEtL,EAAAA,EAAAA,KAACuL,EAAAA,GAAQ,CAAApL,UACPH,EAAAA,EAAAA,KAACwL,EAAAA,GAAS,CAACC,QAASH,EAAepL,UAAU,mBAAkBC,SAC5DA,KAIT,CAEO,SAASuL,EAAaxJ,GAGE,IAF7BoJ,EAAapJ,EAAboJ,cACAnL,EAAQ+B,EAAR/B,SAEA,OACEH,EAAAA,EAAAA,KAACqL,EAAG,CAACC,cAAeA,EAAcnL,SAC/BA,IACCH,EAAAA,EAAAA,KAAC2L,EAAAA,EAAO,CAACzL,UAAU,qDAI3B,CAEO,SAAS0L,EAAUxJ,GAA+C,IAA5CkJ,EAAalJ,EAAbkJ,cAC3B,OAAOtL,EAAAA,EAAAA,KAACqL,EAAG,CAACC,cAAeA,EAAcnL,SAAC,eAC5C,C,0KC1BM0L,GAAgBC,EAAAA,EAAAA,GACpB,yKACA,CACEC,SAAU,CACR7K,QAAS,CACP8K,QACE,4EACFC,UACE,oGACFC,YACE,wFACFC,QAAS,kBACTC,SACE,iIAGNC,gBAAiB,CACfnL,QAAS,aASf,SAASoL,EAAK5M,GAA+C,IAA5CQ,EAASR,EAATQ,UAAWgB,EAAOxB,EAAPwB,QAAYW,EAAKC,IAAApC,EAAA2B,GAC3C,OACErB,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CAAK7B,WAAWS,EAAAA,EAAAA,IAAGkL,EAAc,CAAE3K,QAAAA,IAAYhB,IAAgB2B,GAEnE,C,sUC/BM5B,EAAO0B,EAAAA,YAGX,SAAAjC,EAA0BkC,GAAG,IAA1B1B,EAASR,EAATQ,UAAc2B,EAAKC,IAAApC,EAAA2B,GAAA,OACtBrB,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,iEACAT,IAEE2B,GACJ,IAEJ5B,EAAK+B,YAAc,OAEnB,IAAMuK,EAAa5K,EAAAA,YAGjB,SAAAO,EAA0BN,GAAG,IAA1B1B,EAASgC,EAAThC,UAAc2B,EAAKC,IAAAI,EAAAZ,GAAA,OACtBtB,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,gCAAiCT,IAC3C2B,GACJ,IAEJ0K,EAAWvK,YAAc,aAEzB,IAAMwK,EAAY7K,EAAAA,YAGhB,SAAAS,EAA0BR,GAAG,IAA1B1B,EAASkC,EAATlC,UAAc2B,EAAKC,IAAAM,EAAAb,GAAA,OACtBvB,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,qDACAT,IAEE2B,GACJ,IAEJ2K,EAAUxK,YAAc,YAExB,IAAMyK,EAAkB9K,EAAAA,YAGtB,SAAA8H,EAA0B7H,GAAG,IAA1B1B,EAASuJ,EAATvJ,UAAc2B,EAAKC,IAAA2H,EAAAiD,GAAA,OACtB1M,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,gCAAiCT,IAC3C2B,GACJ,IAEJ4K,EAAgBzK,YAAc,kBAE9B,IAAM3B,EAAcsB,EAAAA,YAGlB,SAAAgL,EAA0B/K,GAAG,IAA1B1B,EAASyM,EAATzM,UAAc2B,EAAKC,IAAA6K,EAAAC,GAAA,OACtB5M,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CAAKH,IAAKA,EAAK1B,WAAWS,EAAAA,EAAAA,IAAG,WAAYT,IAAgB2B,GAAS,IAEpExB,EAAY2B,YAAc,cAEPL,EAAAA,YAGjB,SAAAkL,EAA0BjL,GAAG,IAA1B1B,EAAS2M,EAAT3M,UAAc2B,EAAKC,IAAA+K,EAAAC,GAAA,OACtB9M,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,6BAA8BT,IACxC2B,GACJ,IAEOG,YAAc,Y,uTC5EZX,EAAA,cAAAE,EAAA,cAAAmL,EAAA,cAAAE,EAAA,cAAAE,EAAA,cAAAC,EAAA,cAUPC,EAAUrL,EAAAA,YAGd,SAAAjC,EAA0BkC,GAAG,IAA1B1B,EAASR,EAATQ,UAAc2B,EAAKC,IAAApC,EAAA2B,GAAA,OACtBrB,EAAAA,EAAAA,KAACiN,EAAAA,GAAgBlL,IAAA,CACfH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,4FACAT,IAEE2B,GACJ,IAEJmL,EAAQhL,YAAciL,EAAAA,GAAiBjL,YAEvC,IAYMkL,EAAevL,EAAAA,YAGnB,SAAAS,EAA0BR,GAAG,IAA1B1B,EAASkC,EAATlC,UAAc2B,EAAKC,IAAAM,EAAAb,GAAA,OACtBnB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kCAAkC,qBAAmB,GAAEC,SAAA,EACpEH,EAAAA,EAAAA,KAACmN,EAAAA,EAAM,CAACjN,UAAU,sCAClBF,EAAAA,EAAAA,KAACiN,EAAAA,GAAiBG,MAAKrL,IAAA,CACrBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,yJACAT,IAEE2B,MAEF,IAGRqL,EAAalL,YAAciL,EAAAA,GAAiBG,MAAMpL,YAElD,IAAMqL,EAAc1L,EAAAA,YAGlB,SAAA8H,EAA0B7H,GAAG,IAA1B1B,EAASuJ,EAATvJ,UAAc2B,EAAKC,IAAA2H,EAAAiD,GAAA,OACtB1M,EAAAA,EAAAA,KAACiN,EAAAA,GAAiBK,KAAIvL,IAAA,CACpBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,kDAAmDT,IAC7D2B,GACJ,IAGJwL,EAAYrL,YAAciL,EAAAA,GAAiBK,KAAKtL,YAEhD,IAAMuL,EAAe5L,EAAAA,YAGnB,SAACE,EAAOD,GAAG,OACX5B,EAAAA,EAAAA,KAACiN,EAAAA,GAAiBO,MAAKzL,IAAA,CACrBH,IAAKA,EACL1B,UAAU,4BACN2B,GACJ,IAGJ0L,EAAavL,YAAciL,EAAAA,GAAiBO,MAAMxL,YAElD,IAAMyL,EAAe9L,EAAAA,YAGnB,SAAAgL,EAA0B/K,GAAG,IAA1B1B,EAASyM,EAATzM,UAAc2B,EAAKC,IAAA6K,EAAAC,GAAA,OACtB5M,EAAAA,EAAAA,KAACiN,EAAAA,GAAiBS,MAAK3L,IAAA,CACrBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,yNACAT,IAEE2B,GACJ,IAGJ4L,EAAazL,YAAciL,EAAAA,GAAiBS,MAAM1L,YAElD,IAAM2L,EAAmBhM,EAAAA,YAGvB,SAAAkL,EAA0BjL,GAAG,IAA1B1B,EAAS2M,EAAT3M,UAAc2B,EAAKC,IAAA+K,EAAAC,GAAA,OACtB9M,EAAAA,EAAAA,KAACiN,EAAAA,GAAiB1M,UAASwB,IAAA,CACzBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,uBAAwBT,IAClC2B,GACJ,IAEJ8L,EAAiB3L,YAAciL,EAAAA,GAAiB1M,UAAUyB,YAE1D,IAAM4L,EAAcjM,EAAAA,YAGlB,SAAAkM,EAA0BjM,GAAG,IAA1B1B,EAAS2N,EAAT3N,UAAc2B,EAAKC,IAAA+L,EAAAd,GAAA,OACtB/M,EAAAA,EAAAA,KAACiN,EAAAA,GAAiBa,KAAI/L,IAAA,CACpBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,4TACAT,IAEE2B,GACJ,IAGJ+L,EAAY5L,YAAciL,EAAAA,GAAiBa,KAAK9L,W,oRC5HnCX,EAAA,cAAAC,EAAA,yBAAAC,EAAA,cAAAmL,EAAA,cAAAE,EAAA,cAAAE,EAAA,cAQPrJ,EAASsK,EAAAA,GAETC,EAAgBD,EAAAA,GAEhBE,EAAeF,EAAAA,GAIfG,GAFcH,EAAAA,GAEEpM,EAAAA,YAGpB,SAAAjC,EAA0BkC,GAAG,IAA1B1B,EAASR,EAATQ,UAAc2B,EAAKC,IAAApC,EAAA2B,GAAA,OACtBrB,EAAAA,EAAAA,KAAC+N,EAAAA,GAAuBhM,IAAA,CACtBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,0JACAT,IAEE2B,GACJ,KAEJqM,EAAclM,YAAc+L,EAAAA,GAAwB/L,YAEpD,IAAM4B,EAAgBjC,EAAAA,YAGpB,SAAAO,EAAoCN,GAAG,IAApC1B,EAASgC,EAAThC,UAAWC,EAAQ+B,EAAR/B,SAAa0B,EAAKC,IAAAI,EAAAZ,GAAA,OAChClB,EAAAA,EAAAA,MAAC6N,EAAY,CAAA9N,SAAA,EACXH,EAAAA,EAAAA,KAACkO,EAAa,KACd9N,EAAAA,EAAAA,MAAC2N,EAAAA,GAAuBhM,IAAAA,IAAA,CACtBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,shBACAT,IAEE2B,GAAK,IAAA1B,SAAA,CAERA,GACDC,EAAAA,EAAAA,MAAC2N,EAAAA,GAAqB,CAAC7N,UAAU,gRAA+QC,SAAA,EAC9SH,EAAAA,EAAAA,KAACqH,EAAAA,EAAC,CAACnH,UAAU,aACbF,EAAAA,EAAAA,KAAA,QAAME,UAAU,UAASC,SAAC,mBAGjB,IAEjByD,EAAc5B,YAAc+L,EAAAA,GAAwB/L,YAEpD,IAAM6B,EAAe,SAAHzB,GAAA,IAChBlC,EAASkC,EAATlC,UACG2B,EAAKC,IAAAM,EAAAb,GAAA,OAERvB,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CACE7B,WAAWS,EAAAA,EAAAA,IACT,qDACAT,IAEE2B,GACJ,EAEJgC,EAAa7B,YAAc,eAE3B,IAAM+B,EAAe,SAAH0F,GAAA,IAChBvJ,EAASuJ,EAATvJ,UACG2B,EAAKC,IAAA2H,EAAAiD,GAAA,OAER1M,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CACE7B,WAAWS,EAAAA,EAAAA,IACT,gEACAT,IAEE2B,GACJ,EAEJkC,EAAa/B,YAAc,eAE3B,IAAM8B,EAAcnC,EAAAA,YAGlB,SAAAgL,EAA0B/K,GAAG,IAA1B1B,EAASyM,EAATzM,UAAc2B,EAAKC,IAAA6K,EAAAC,GAAA,OACtB5M,EAAAA,EAAAA,KAAC+N,EAAAA,GAAqBhM,IAAA,CACpBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,oDACAT,IAEE2B,GACJ,IAEJiC,EAAY9B,YAAc+L,EAAAA,GAAsB/L,YAEtBL,EAAAA,YAGxB,SAAAkL,EAA0BjL,GAAG,IAA1B1B,EAAS2M,EAAT3M,UAAc2B,EAAKC,IAAA+K,EAAAC,GAAA,OACtB9M,EAAAA,EAAAA,KAAC+N,EAAAA,GAA2BhM,IAAA,CAC1BH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,gCAAiCT,IAC3C2B,GACJ,IAEcG,YAAc+L,EAAAA,GAA4B/L,W,iMC5G/CX,EAAA,mCAOP8M,EAAYC,EAAAA,GAEZC,EAAmBD,EAAAA,GAEnBE,EAAmB3M,EAAAA,YAGvB,SAAAjC,EAA4DkC,GAAG,IAA5D1B,EAASR,EAATQ,UAASqO,EAAA7O,EAAE8O,MAAAA,OAAK,IAAAD,EAAG,SAAQA,EAAAE,EAAA/O,EAAEgP,WAAAA,OAAU,IAAAD,EAAG,EAACA,EAAK5M,EAAKC,IAAApC,EAAA2B,GAAA,OACxDrB,EAAAA,EAAAA,KAACoO,EAAAA,GAA0BrM,IAAA,CACzBH,IAAKA,EACL4M,MAAOA,EACPE,WAAYA,EACZxO,WAAWS,EAAAA,EAAAA,IACT,keACAT,IAEE2B,GACJ,IAEJyM,EAAiBtM,YAAcoM,EAAAA,GAA2BpM,W,iPClBpD2M,GAAiB7C,EAAAA,EAAAA,GACrB,uQACA,CACEC,SAAU,CACR7K,QAAS,CACP8K,QAAS,yDACTE,YACE,qEACFC,QACE,iFACFF,UACE,+DACF2C,MAAO,+CACPzE,KAAM,kDACNiC,SACE,qIAEJjF,KAAM,CACJ6E,QAAS,iBACT6C,GAAI,sBACJC,GAAI,uBACJ3N,KAAM,cAGVkL,gBAAiB,CACfnL,QAAS,UACTiG,KAAM,aAYN4H,EAAgBpN,EAAAA,YACpB,SAAAjC,EAWEkC,GACG,IAVD1B,EAASR,EAATQ,UAAS8O,EAAAtP,EACTwD,QAAAA,OAAO,IAAA8L,GAAQA,EACf7O,EAAQT,EAARS,SACA6H,EAAQtI,EAARsI,SACA9G,EAAOxB,EAAPwB,QACAiG,EAAIzH,EAAJyH,KAAI8H,EAAAvP,EACJwP,QAAAA,OAAO,IAAAD,GAAQA,EACZpN,EAAKC,IAAApC,EAAA2B,GAIJ8N,EAAOD,EAAUE,EAAAA,GAAO,SAC9B,OACEhP,EAAAA,EAAAA,MAAC+O,EAAIpN,IAAAA,IAAA,CACH7B,WAAWS,EAAAA,EAAAA,IAAGgO,EAAe,CAAEzN,QAAAA,EAASiG,KAAAA,EAAMjH,UAAAA,KAC9C0B,IAAKA,EACLoG,SAAU9E,GAAW8E,GACjBnG,GAAK,IAAA1B,SAAA,CAER+C,IAAWlD,EAAAA,EAAAA,KAAC2L,EAAAA,EAAO,CAACzL,UAAU,+BAC/BF,EAAAA,EAAAA,KAACqP,EAAAA,GAAS,CAAAlP,SAAEA,OAGlB,IAEF4O,EAAc/M,YAAc,e,oaCvCtBsN,GAAsBxD,EAAAA,EAAAA,GAC1B,yFACA,CACEC,SAAU,CACR7K,QAAS,CACP8K,QACE,gEACFC,UACE,oFACFC,YACE,wFACFqD,SAAU,aAGdlD,gBAAiB,CACfnL,QAAS,aAuEFsO,EAAc7N,EAAAA,YAIzB,SAAAjC,EAcEkC,GACG,IAbD6N,EAAO/P,EAAP+P,QACA3M,EAAapD,EAAboD,cACA5B,EAAOxB,EAAPwB,QAAOwO,EAAAhQ,EACP+C,aAAAA,OAAY,IAAAiN,EAAG,GAAEA,EAAAC,EAAAjQ,EACjBkQ,YAAAA,OAAW,IAAAD,EAAG,iBAAgBA,EAAAE,EAAAnQ,EAC9BoQ,UAAAA,OAAS,IAAAD,EAAG,EAACA,EAAAE,EAAArQ,EACbsQ,SAAAA,OAAQ,IAAAD,EAAG,EAACA,EAAAE,EAAAvQ,EACZwQ,aAAAA,OAAY,IAAAD,GAAQA,EAEpB/P,GAFoBR,EACpBwP,QACSxP,EAATQ,WACG2B,EAAKC,IAAApC,EAAA2B,GAIV8O,EACExO,EAAAA,SAAyBc,GAAa2N,EAAA9M,IAAA6M,EAAA,GADjCE,EAAcD,EAAA,GAAEE,EAAiBF,EAAA,GAExCG,EAA0C5O,EAAAA,UAAe,GAAM6O,EAAAlN,IAAAiN,EAAA,GAAxDE,EAAaD,EAAA,GAAEE,EAAgBF,EAAA,GACtCG,EAAsChP,EAAAA,UAAe,GAAMiP,EAAAtN,IAAAqN,EAAA,GAApDE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAe5BG,EAAe,SAACC,GACpB,IAAMC,EAAoBZ,EAAea,SAASF,GAC9CX,EAAerG,QAAO,SAACtH,GAAK,OAAKA,IAAUsO,CAAM,IAAC,GAAA7L,OAAA6D,IAC9CqH,GAAc,CAAEW,IACxBV,EAAkBW,GAClBnO,EAAcmO,EAChB,EAEME,EAAc,WAClBb,EAAkB,IAClBxN,EAAc,GAChB,EAsBA,OACE1C,EAAAA,EAAAA,MAACgR,EAAAA,GAAO,CACN1N,KAAM+M,EACN9M,aAAc+M,EACdW,MAAOnB,EAAa/P,SAAA,EAEpBH,EAAAA,EAAAA,KAACsR,EAAAA,GAAc,CAACpC,SAAO,EAAA/O,UACrBH,EAAAA,EAAAA,KAACiB,EAAAA,GAAMc,IAAAA,IAAA,CACLH,IAAKA,GACDC,GAAK,IACTb,QA9BoB,WAC1B0P,GAAiB,SAACa,GAAI,OAAMA,CAAI,GAClC,EA6BQrR,WAAWS,EAAAA,EAAAA,IACT,yIACAT,GACAC,SAEDkQ,EAAexL,OAAS,GACvBzE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,2CAA0CC,SAAA,EACvDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,8BAA6BC,SAAA,CACzCkQ,EAAemB,MAAM,EAAGxB,GAAUvP,KAAI,SAACiC,GACtC,IAAMsO,EAASvB,EAAQgC,MAAK,SAACC,GAAC,OAAKA,EAAEhP,QAAUA,CAAK,IAC9CiP,EAAgBX,aAAM,EAANA,EAAQ7P,KAC9B,OACEf,EAAAA,EAAAA,MAACkM,EAAAA,EAAK,CAEJpM,WAAWS,EAAAA,EAAAA,IACTkQ,EAAc,iBAAmB,GACjCvB,EAAoB,CAAEpO,QAAAA,KAExBiK,MAAO,CAAEyG,kBAAmB,GAAFzM,OAAK2K,EAAS,MAAM3P,SAAA,CAE7CwR,IACC3R,EAAAA,EAAAA,KAAC2R,EAAa,CAACzR,UAAU,iBAE1B8Q,aAAM,EAANA,EAAQ5P,OACTpB,EAAAA,EAAAA,KAAC6R,EAAAA,EAAO,CACN3R,UAAU,8BACVc,QAAS,SAAC8Q,GACRA,EAAMC,kBACNhB,EAAarO,EACf,MAhBGA,EAoBX,IACC2N,EAAexL,OAASmL,IACvB5P,EAAAA,EAAAA,MAACkM,EAAAA,EAAK,CACJpM,WAAWS,EAAAA,EAAAA,IACT,0EACAkQ,EAAc,iBAAmB,GACjCvB,EAAoB,CAAEpO,QAAAA,KAExBiK,MAAO,CAAEyG,kBAAmB,GAAFzM,OAAK2K,EAAS,MAAM3P,SAAA,MAAAgF,OAExCkL,EAAexL,OAASmL,EAAQ,UACtChQ,EAAAA,EAAAA,KAAC6R,EAAAA,EAAO,CACN3R,UAAU,8BACVc,QAAS,SAAC8Q,GAzEJ,IAClBb,EAyEca,EAAMC,kBAzEpBd,EAAoBZ,EAAemB,MAAM,EAAGxB,GAClDM,EAAkBW,GAClBnO,EAAcmO,EAyEI,WAKR7Q,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oCAAmCC,SAAA,EAChDH,EAAAA,EAAAA,KAACgS,EAAAA,EAAK,CACJ9R,UAAU,gDACVc,QAAS,SAAC8Q,GACRA,EAAMC,kBACNZ,GACF,KAEFnR,EAAAA,EAAAA,KAACO,EAAAA,EAAS,CACRC,YAAY,WACZN,UAAU,yBAEZF,EAAAA,EAAAA,KAACiS,EAAAA,EAAW,CAAC/R,UAAU,yDAI3BE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,mDAAkDC,SAAA,EAC/DH,EAAAA,EAAAA,KAAA,QAAME,UAAU,qCAAoCC,SACjDyP,KAEH5P,EAAAA,EAAAA,KAACiS,EAAAA,EAAW,CAAC/R,UAAU,2DAK/BF,EAAAA,EAAAA,KAACkS,EAAAA,GAAc,CACbhS,UAAU,aACVsO,MAAM,QACN2D,gBAAiB,kBAAMzB,GAAiB,EAAM,EAACvQ,UAE/CC,EAAAA,EAAAA,MAAC4M,EAAAA,GAAO,CAAA7M,SAAA,EACNH,EAAAA,EAAAA,KAACkN,EAAAA,GAAY,CACX0C,YAAY,YACZwC,UAhJiB,SACzBN,GAEA,GAAkB,UAAdA,EAAMO,IACR3B,GAAiB,QACZ,GAAkB,cAAdoB,EAAMO,MAAwBP,EAAMQ,cAAc5P,MAAO,CAClE,IAAMuO,EAAiBjI,IAAOqH,GAC9BY,EAAkBsB,MAClBjC,EAAkBW,GAClBnO,EAAcmO,EAChB,CACF,KAuIQ7Q,EAAAA,EAAAA,MAACiN,EAAAA,GAAW,CAAAlN,SAAA,EACVH,EAAAA,EAAAA,KAACuN,EAAAA,GAAY,CAAApN,SAAC,uBACdC,EAAAA,EAAAA,MAACqN,EAAAA,GAAY,CAAAtN,SAAA,EACXC,EAAAA,EAAAA,MAACwN,EAAAA,GAAW,CAEV4E,SAnHI,WAChB,GAAInC,EAAexL,SAAW4K,EAAQ5K,OACpCsM,QACK,CACL,IAAMsB,EAAYhD,EAAQhP,KAAI,SAACuQ,GAAM,OAAKA,EAAOtO,KAAK,IACtD4N,EAAkBmC,GAClB3P,EAAc2P,EAChB,CACF,EA4GcvS,UAAU,iBAAgBC,SAAA,EAE1BH,EAAAA,EAAAA,KAAA,OACEE,WAAWS,EAAAA,EAAAA,IACT,iFACA0P,EAAexL,SAAW4K,EAAQ5K,OAC9B,qCACA,gCACJ1E,UAEFH,EAAAA,EAAAA,KAAC0S,EAAAA,EAAS,CAACxS,UAAU,eAEvBF,EAAAA,EAAAA,KAAA,QAAAG,SAAM,mBAdF,OAgBLsP,EAAQhP,KAAI,SAACuQ,GACZ,IAAM2B,EAAatC,EAAea,SAASF,EAAOtO,OAClD,OACEtC,EAAAA,EAAAA,MAACwN,EAAAA,GAAW,CAEV4E,SAAU,kBAAMzB,EAAaC,EAAOtO,MAAM,EAC1CxC,UAAU,iBAAgBC,SAAA,EAE1BH,EAAAA,EAAAA,KAAA,OACEE,WAAWS,EAAAA,EAAAA,IACT,iFACAgS,EACI,qCACA,gCACJxS,UAEFH,EAAAA,EAAAA,KAAC0S,EAAAA,EAAS,CAACxS,UAAU,cAEtB8Q,EAAO7P,OACNnB,EAAAA,EAAAA,KAACgR,EAAO7P,KAAI,CAACjB,UAAU,wCAEzBF,EAAAA,EAAAA,KAAA,QAAAG,SAAO6Q,EAAO5P,UAjBT4P,EAAOtO,MAoBlB,QAEF1C,EAAAA,EAAAA,KAAC2N,EAAAA,GAAgB,KACjB3N,EAAAA,EAAAA,KAACyN,EAAAA,GAAY,CAAAtN,UACXC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oCAAmCC,SAAA,CAC/CkQ,EAAexL,OAAS,IACvBzE,EAAAA,EAAAA,MAAAwS,EAAAA,SAAA,CAAAzS,SAAA,EACEH,EAAAA,EAAAA,KAAC4N,EAAAA,GAAW,CACV4E,SAAUrB,EACVjR,UAAU,uCAAsCC,SACjD,WAGDH,EAAAA,EAAAA,KAACO,EAAAA,EAAS,CACRC,YAAY,WACZN,UAAU,4BAIhBF,EAAAA,EAAAA,KAAC4N,EAAAA,GAAW,CACV4E,SAAU,kBAAM9B,GAAiB,EAAM,EACvCxQ,UAAU,kDAAiDC,SAC5D,uBAQV2P,EAAY,GAAKO,EAAexL,OAAS,IACxC7E,EAAAA,EAAAA,KAAC6S,EAAAA,EAAY,CACX3S,WAAWS,EAAAA,EAAAA,IACT,4DACAkQ,EAAc,GAAK,yBAErB7P,QAAS,kBAAM8P,GAAgBD,EAAY,MAKrD,IAGFrB,EAAYxN,YAAc,a,gJC5XbX,EAAA,sBAOP+F,EAAWzF,EAAAA,YAGf,SAAAjC,EAAiCkC,GAAG,IAAjC1B,EAASR,EAATQ,UAAWwC,EAAKhD,EAALgD,MAAUb,EAAKC,IAAApC,EAAA2B,GAAA,OAC7BrB,EAAAA,EAAAA,KAAC8S,EAAAA,GAAsB/Q,IAAAA,IAAA,CACrBH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,gEACAT,IAEE2B,GAAK,IAAA1B,UAETH,EAAAA,EAAAA,KAAC8S,EAAAA,GAA2B,CAC1B5S,UAAU,iDACViL,MAAO,CAAE4H,UAAW,eAAF5N,OAAiB,KAAOzC,GAAS,GAAE,WAEhC,IAE3B0E,EAASpF,YAAc8Q,EAAAA,GAAuB9Q,W,8YCrBxCgR,EAAQrR,EAAAA,YAGZ,SAAAjC,EAAyCkC,GAAG,IAAzC1B,EAASR,EAATQ,UAAW+S,EAAavT,EAAbuT,cAAkBpR,EAAKC,IAAApC,EAAA2B,GAAA,OACrCrB,EAAAA,EAAAA,KAAA,OACEE,WAAWS,EAAAA,EAAAA,IACT,+DACAsS,GACA9S,UAEFH,EAAAA,EAAAA,KAAA,QAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,iCAAkCT,IAC5C2B,KAEF,IAERmR,EAAMhR,YAAc,QAEpB,IAAMkR,EAAcvR,EAAAA,YAGlB,SAAAO,EAA0BN,GAAG,IAA1B1B,EAASgC,EAAThC,UAAc2B,EAAKC,IAAAI,EAAAZ,GAAA,OACtBtB,EAAAA,EAAAA,KAAA,QAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,+BAAgCT,IAC1C2B,GACJ,IAEJqR,EAAYlR,YAAc,cAE1B,IAAMmR,EAAYxR,EAAAA,YAGhB,SAAAS,EAA0BR,GAAG,IAA1B1B,EAASkC,EAATlC,UAAc2B,EAAKC,IAAAM,EAAAb,GAAA,OACtBvB,EAAAA,EAAAA,KAAA,QAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,6BAA8BT,IACxC2B,GACJ,IAEJsR,EAAUnR,YAAc,YAEJL,EAAAA,YAGlB,SAAA8H,EAA0B7H,GAAG,IAA1B1B,EAASuJ,EAATvJ,UAAc2B,EAAKC,IAAA2H,EAAAiD,GAAA,OACtB1M,EAAAA,EAAAA,KAAA,QAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,0DACAT,IAEE2B,GACJ,IAEQG,YAAc,cAE1B,IAAMuJ,EAAW5J,EAAAA,YAGf,SAAAgL,EAA0B/K,GAAG,IAA1B1B,EAASyM,EAATzM,UAAc2B,EAAKC,IAAA6K,EAAAC,GAAA,OACtB5M,EAAAA,EAAAA,KAAA,KAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,8EACAT,IAEE2B,GACJ,IAEJ0J,EAASvJ,YAAc,WAEvB,IAAMoR,EAAYzR,EAAAA,YAGhB,SAAAkL,EAA0BjL,GAAG,IAA1B1B,EAAS2M,EAAT3M,UAAc2B,EAAKC,IAAA+K,EAAAC,GAAA,OACtB9M,EAAAA,EAAAA,KAAA,KAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,iGACAT,IAEE2B,GACJ,IAEJuR,EAAUpR,YAAc,YAExB,IAAMwJ,EAAY7J,EAAAA,YAGhB,SAAAkM,EAA0BjM,GAAG,IAA1B1B,EAAS2N,EAAT3N,UAAc2B,EAAKC,IAAA+L,EAAAd,GAAA,OACtB/M,EAAAA,EAAAA,KAAA,KAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IACT,6EACAT,IAEE2B,GACJ,IAEJ2J,EAAUxJ,YAAc,YAEHL,EAAAA,YAGnB,SAAA0R,EAA0BzR,GAAG,IAA1B1B,EAASmT,EAATnT,UAAc2B,EAAKC,IAAAuR,EAAAC,GAAA,OACtBtT,EAAAA,EAAAA,KAAA,UAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,EAAAA,IAAG,qCAAsCT,IAChD2B,GACJ,IAESG,YAAc,c,ydCrGduR,EAAiB,WAC5B,IAAAC,GAAuBC,EAAAA,EAAAA,MACjB1T,EADkCuD,IAAAkQ,EAAA,GAArB,GACKE,IAAI,YAE5B,OAAO3T,QAAAA,EAAM,EACf,EAUa4T,EAAuB,WAClC,IAIYC,EAJZC,GAA4CC,EAAAA,EAAAA,GAAY,CACtDC,YAAa,CAAC,qBACdC,OAAQ,EAERC,YAAUL,EAAAM,IAAAC,MAAAC,MAAE,SAAAC,EAAOC,GAAgB,IAAAC,EAAAC,EAAA,OAAAL,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACVC,EAAAA,EAAmBC,SAAS,CACjDC,UAAWR,IACX,OAFU,OAEVC,EAAAG,EAAAK,KAFMP,EAAID,EAAJC,KAAIE,EAAAM,OAAA,SAILR,GAAI,wBAAAE,EAAAO,OAAA,GAAAZ,EAAA,KACZ,SAAAa,GAAA,OAAAtB,EAAA1O,MAAA,KAAAN,UAAA,KAVKuQ,EAAWtB,EAAXsB,YAaR,MAAO,CAAEjS,QAb8B2Q,EAAlBuB,UAaHC,UAAWF,EAC/B,EAEaG,EAAmB,WAAuC,IAAAC,EAgB5DC,EAfTC,GAA4CC,EAAAA,EAAAA,MAApCC,EAAYF,EAAZE,aAAcC,EAAiBH,EAAjBG,kBACtBC,GAAsCC,EAAAA,EAAAA,MAA9BC,EAAUF,EAAVE,WAAYC,EAAaH,EAAbG,cACdjW,EAAKwT,IAEX0C,GAAsCC,EAAAA,EAAAA,GAAS,CAC7CC,SAAU,CACR,gBAAepU,IAAA,CAEbhC,GAAAA,EACA4V,aAAAA,GACGI,IAGPK,YAAa,CAAC,EACdpC,OAAQ,EACRqC,SAAOb,EAAAtB,IAAAC,MAAAC,MAAE,SAAAkC,IAAA,IAAAC,EAAA/B,EAAA,OAAAL,MAAAM,MAAA,SAAA+B,GAAA,cAAAA,EAAAjF,KAAAiF,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACgBC,EAAAA,EAAmBC,SAAS,CACjDC,UAAW/U,EACX0W,SAAUd,EACVe,UAAWX,EAAWY,SACtBC,KAAMb,EAAWtR,UACjB,OALU,OAKV8R,EAAAC,EAAAzB,KALMP,EAAI+B,EAAJ/B,KAAIgC,EAAAxB,OAAA,SAOLR,GAAI,wBAAAgC,EAAAvB,OAAA,GAAAqB,EAAA,KACZ,kBAAAd,EAAAtQ,MAAA,KAAAN,UAAA,KApBK4P,EAAIyB,EAAJzB,KAAkBtR,EAAO+S,EAAnBY,WAuBRC,GAA4DhX,EAAAA,EAAAA,cAChE,SAACkL,GACCgL,EAAc,CAAEY,KAAM,IACtBhB,EAAkB5K,EACpB,GACA,CAAC4K,EAAmBI,IAGtB,OAAAjU,IAAAA,IAAA,GACKyS,GAAI,IACPmB,aAAAA,EACAC,kBAAmBkB,EACnBf,WAAUhU,IAAAA,IAAA,GAAOgU,GAAU,IAAEgB,MAAOvC,SAAU,QAANe,EAAJf,EAAMA,YAAI,IAAAe,OAAA,EAAVA,EAAYwB,QAChDf,cAAAA,EACA9S,QAAAA,GAEJ,EAEa8T,EAAgB,WAC3B,IASYC,EATJC,GAAwBC,EAAAA,EAAAA,MAAxBD,oBACFE,GAAcC,EAAAA,EAAAA,MAEpBC,GAIIxD,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,cACdE,YAAUgD,EAAA/C,IAAAC,MAAAC,MAAE,SAAAmD,EAAOC,GAA+C,IAAAC,EAAAjD,EAAA,OAAAL,MAAAM,MAAA,SAAAiD,GAAA,cAAAA,EAAAnG,KAAAmG,EAAA/C,MAAA,cAAA+C,EAAA/C,KAAA,EACzCC,EAAAA,EAAmB+C,WAAWH,GAAO,OAI3D,OAJ2DC,EAAAC,EAAA3C,KAC1C,KADVP,EAAIiD,EAAJjD,MACCoD,OACPV,EAAoB,GACpBE,EAAYS,kBAAkB,CAAE1B,SAAU,CAAC,oBAC5CuB,EAAA1C,OAAA,SACMR,EAAKoD,MAAI,wBAAAF,EAAAzC,OAAA,GAAAsC,EAAA,KACjB,SAAAO,GAAA,OAAAb,EAAA/R,MAAA,KAAAN,UAAA,KAGH,MAAO,CAAE4P,KAfH8C,EAAJ9C,KAeatR,QAdKoU,EAAlBlC,UAcsB2C,WAbXT,EAAXnC,YAcJ,EAEa6C,EAAkB,WAC7B,IAMYC,EANZC,GAIIpE,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,gBACdE,YAAUgE,EAAA/D,IAAAC,MAAAC,MAAE,SAAA+D,EAAOX,GAAyC,IAAAY,EAAAC,EAAA,OAAAlE,MAAAM,MAAA,SAAA6D,GAAA,cAAAA,EAAA/G,KAAA+G,EAAA3D,MAAA,cAAA2D,EAAA3D,KAAA,EACnCC,EAAAA,EAAmB2D,QAAQ,CAAC,EAAGf,EAAOzX,IAAG,OAA1DqY,EAAQE,EAAAvD,KACRsD,EAAO,IAAIG,KAAK,CAACJ,EAAS5D,MAAO,CAAEvQ,KAAMmU,EAAS5D,KAAKvQ,QAC7DwU,EAAAA,EAAAA,IAAqBJ,EAAMb,EAAOkB,UAAU,wBAAAJ,EAAArD,OAAA,GAAAkD,EAAA,KAC7C,SAAAQ,GAAA,OAAAV,EAAA/S,MAAA,KAAAN,UAAA,KAEH,MAAO,CAAE4P,KAXH0D,EAAJ1D,KAWatR,QAVKgV,EAAlB9C,UAUsBwD,aATXV,EAAX/C,YAUJ,EAEa0D,EAAgB,WAC3B,IAQYC,EARN1B,GAAcC,EAAAA,EAAAA,MACZ9U,GAAMC,EAAAA,EAAAA,MAAND,EACRwW,GAIIjF,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,cACdE,YAAU6E,EAAA5E,IAAAC,MAAAC,MAAE,SAAA4E,EAAOxB,GAAwC,IAAAyB,EAAAzE,EAAA,OAAAL,MAAAM,MAAA,SAAAyE,GAAA,cAAAA,EAAA3H,KAAA2H,EAAAvE,MAAA,cAAAuE,EAAAvE,KAAA,EAClCC,EAAAA,EAAmBuE,WAAW3B,GAAO,OAI3D,OAJ2DyB,EAAAC,EAAAnE,KAC1C,KADVP,EAAIyE,EAAJzE,MACCoD,OACPwB,EAAAA,GAAQhQ,QAAQ7G,EAAE,oBAClB6U,EAAYS,kBAAkB,CAAE1B,SAAU,CAAC,oBAC5C+C,EAAAlE,OAAA,SACMR,EAAKoD,MAAI,wBAAAsB,EAAAjE,OAAA,GAAA+D,EAAA,KACjB,SAAAK,GAAA,OAAAP,EAAA5T,MAAA,KAAAN,UAAA,KAGH,MAAO,CAAE4P,KAfHuE,EAAJvE,KAeatR,QAdK6V,EAAlB3D,UAcsB+D,WAbXJ,EAAX5D,YAcJ,EAEamE,EAA2B,WACtC,IAKSC,EALHxZ,EAAKwT,IACXiG,GAAiBtD,EAAAA,EAAAA,GAAS,CACxBC,SAAU,CAAC,wBAAyBpW,GACpCqW,YAAa,GACbqD,UAAW1Z,EACXsW,SAAOkD,EAAArF,IAAAC,MAAAC,MAAE,SAAAsF,IAAA,IAAAC,EAAAC,EAAAC,EAAArF,EAAA,OAAAL,MAAAM,MAAA,SAAAqF,GAAA,cAAAA,EAAAvI,KAAAuI,EAAAnF,MAAA,cAAAmF,EAAAnF,KAAA,EACgBC,EAAAA,EAAmBmF,mBAAmB,CAC3DC,OAAQja,IACR,OAFU,OAEV8Z,EAAAC,EAAA/E,KAFMP,EAAIqF,EAAJrF,KAAIsF,EAAA9E,OAAA,SAImC,QAJnC2E,EAILnF,SAAU,QAANoF,EAAJpF,EAAMA,YAAI,IAAAoF,GAAgB,QAAhBA,EAAVA,EAAYK,sBAAc,IAAAL,OAAA,EAA1BA,EAA4BM,oBAAY,IAAAP,EAAAA,EAAI,IAAE,wBAAAG,EAAA7E,OAAA,GAAAyE,EAAA,KACtD,kBAAAH,EAAArU,MAAA,KAAAN,UAAA,KAGH,OAbY4U,EAAJhF,IAcV,EAEa2F,EAAkB,WAC7B,IAUYC,EAVJlD,GAAwBC,EAAAA,EAAAA,MAAxBD,oBACFE,GAAcC,EAAAA,EAAAA,MACZ9U,GAAMC,EAAAA,EAAAA,MAAND,EAER8X,GAIIvG,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,gBACdE,YAAUmG,EAAAlG,IAAAC,MAAAC,MAAE,SAAAkG,EAAO9C,GAA0C,IAAA+C,EAAA/F,EAAA,OAAAL,MAAAM,MAAA,SAAA+F,GAAA,cAAAA,EAAAjJ,KAAAiJ,EAAA7F,MAAA,cAAA6F,EAAA7F,KAAA,EACpCC,EAAAA,EAAmB6F,aAAY1Y,IAAAA,IAAC,CAAC,EACnDyV,GAAM,IACTvT,KAAM,YACN,OAKD,OALCsW,EAAAC,EAAAzF,KACgB,KAJVP,EAAI+F,EAAJ/F,MAICoD,OACPwB,EAAAA,GAAQhQ,QAAQ7G,EAAE,oBAClB2U,EAAoB,GACpBE,EAAYS,kBAAkB,CAAE1B,SAAU,CAAC,oBAC5CqE,EAAAxF,OAAA,SACMR,EAAKoD,MAAI,wBAAA4C,EAAAvF,OAAA,GAAAqF,EAAA,KACjB,SAAAI,GAAA,OAAAN,EAAAlV,MAAA,KAAAN,UAAA,KAGH,MAAO,CAAE4P,KAnBH6F,EAAJ7F,KAmBatR,QAlBKmX,EAAlBjF,UAkBsBqF,aAjBXJ,EAAXlF,YAkBJ,EAEawF,EAAgB,WAC3B,IASYC,EATJ1D,GAAwBC,EAAAA,EAAAA,MAAxBD,oBACA3U,GAAMC,EAAAA,EAAAA,MAAND,EACF6U,GAAcC,EAAAA,EAAAA,MACpBwD,GAII/G,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,cACdE,YAAU2G,EAAA1G,IAAAC,MAAAC,MAAE,SAAA0G,EAAOtD,GAGlB,IAAAuD,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAhH,MAAAM,MAAA,SAAA2G,GAAA,cAAAA,EAAA7J,KAAA6J,EAAAzG,MAAA,OAUI,OATGoG,EAAWvD,EAAOuD,SAClBC,EAAWxD,EAAOuD,SAASta,KAC/B,SAAC4F,GAAI,OAAMA,EAAagV,kBAAkB,KAEtCJ,EAAW,IAAIK,UACZC,OAAO,YAAa/D,EAAOlD,UACpCyG,EAAS9R,SAAQ,SAAC5C,EAAW0D,GAC3BkR,EAASM,OAAO,OAAQlV,GACxB4U,EAASM,OAAO,OAAQP,EAASjR,GACnC,IAAGqR,EAAA7J,KAAA,EAAA6J,EAAAzG,KAAA,EAEiBC,EAAAA,EAAmB4G,WAAWP,GAAS,OAKxD,OAJsB,KAAnBE,OADEA,EAAGC,EAAArG,WACF,EAAHoG,EAAK3G,KAAKoD,QACZwB,EAAAA,GAAQhQ,QAAQ7G,EAAE,qBAClB2U,EAAoB,GACpBE,EAAYS,kBAAkB,CAAE1B,SAAU,CAAC,oBAC5CiF,EAAApG,OAAA,SACMmG,SAAS,QAAND,EAAHC,EAAK3G,YAAI,IAAA0G,OAAA,EAATA,EAAWtD,MAAI,QAAAwD,EAAA7J,KAAA,GAAA6J,EAAAK,GAAAL,EAAA,SAEtBM,QAAQC,IAAI,8BAA6BP,EAAAK,IAAS,yBAAAL,EAAAnG,OAAA,GAAA6F,EAAA,mBAErD,SAAAc,GAAA,OAAAhB,EAAA1V,MAAA,KAAAN,UAAA,KAGH,MAAO,CAAE4P,KAjCHqG,EAAJrG,KAiCatR,QAhCK2X,EAAlBzF,UAgCsBoG,WA/BXX,EAAX1F,YAgCJ,EAEa0G,EAAwB,WACnC,IASYC,EATN1E,GAAcC,EAAAA,EAAAA,MACZ9U,GAAMC,EAAAA,EAAAA,MAAND,EAERwZ,GAIIjI,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,0BACdE,YAAU6H,EAAA5H,IAAAC,MAAAC,MAAE,SAAA4H,EAAOxE,GAA2B,IAAAyE,EAAAzH,EAAA,OAAAL,MAAAM,MAAA,SAAAyH,GAAA,cAAAA,EAAA3K,KAAA2K,EAAAvH,MAAA,cAAAuH,EAAAvH,KAAA,EACrBC,EAAAA,EAAmBuH,uBAAuB3E,GAAO,OAIvE,OAJuEyE,EAAAC,EAAAnH,KACtD,KADVP,EAAIyH,EAAJzH,MACCoD,OACPwB,EAAAA,GAAQhQ,QAAQ7G,EAAE,qBAClB6U,EAAYS,kBAAkB,CAAE1B,SAAU,CAAC,oBAC5C+F,EAAAlH,OAAA,SACMR,EAAKoD,MAAI,wBAAAsE,EAAAjH,OAAA,GAAA+G,EAAA,KACjB,SAAAI,GAAA,OAAAN,EAAA5W,MAAA,KAAAN,UAAA,KAGH,MAAO,CAAE4P,KAfHuH,EAAJvH,KAeatR,QAdK6Y,EAAlB3G,UAcsB+G,uBAbXJ,EAAX5G,YAcJ,EAOakH,EAAc,WACzB,IASYC,EATNlF,GAAcC,EAAAA,EAAAA,MACZ9U,GAAMC,EAAAA,EAAAA,MAAND,EAERga,GAIIzI,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,YACdE,YAAUqI,EAAApI,IAAAC,MAAAC,MAAE,SAAAoI,EAAOhF,GAAqB,IAAAiF,EAAAjI,EAAA,OAAAL,MAAAM,MAAA,SAAAiI,GAAA,cAAAA,EAAAnL,KAAAmL,EAAA/H,MAAA,cAAA+H,EAAA/H,KAAA,EACfC,EAAAA,EAAmB+H,SAASnF,GAAO,OAIzD,OAJyDiF,EAAAC,EAAA3H,KACxC,KADVP,EAAIiI,EAAJjI,MACCoD,OACPwB,EAAAA,GAAQhQ,QAAQ7G,EAAE,qBAClB6U,EAAYS,kBAAkB,CAAE1B,SAAU,CAAC,oBAC5CuG,EAAA1H,OAAA,SACMR,EAAKoD,MAAI,wBAAA8E,EAAAzH,OAAA,GAAAuH,EAAA,KACjB,SAAAI,GAAA,OAAAN,EAAApX,MAAA,KAAAN,UAAA,KAGH,MAAO,CAAE4P,KAfH+H,EAAJ/H,KAeatR,QAdKqZ,EAAlBnH,UAcsBuH,SAbXJ,EAAXpH,YAcJ,C,wJC/RY0H,EAAc,SAAdA,GAAc,OAAdA,EAAc,0BAAdA,CAAc,MAIbC,EAAkB,WAC7B,IAAMC,GAAWC,EAAAA,EAAAA,MACjBxJ,GAAuBC,EAAAA,EAAAA,MAAhBwJ,EAAiC3Z,IAAAkQ,EAAA,GAArB,GACXzT,GAAOmd,EAAAA,EAAAA,MAAPnd,GAEFod,GAAwBrd,EAAAA,EAAAA,cAAY,WACxCid,EAASK,EAAAA,EAAOC,SAClB,GAAG,CAACN,IAEEO,GAAoBxd,EAAAA,EAAAA,cACxB,SAACC,GAAU,OAAK,WACdgd,EAAS,GAAD5X,OAAIiY,EAAAA,EAAOG,QAAO,KAAApY,OAAIpF,GAChC,CAAC,GACD,CAACgd,IAGGS,GAAiB1d,EAAAA,EAAAA,cAAY,WACjCid,EAASK,EAAAA,EAAOK,KAClB,GAAG,CAACV,IAEEW,GAAoB5d,EAAAA,EAAAA,cAAY,WACpCid,EAASK,EAAAA,EAAOO,eAClB,GAAG,CAACZ,IAEEa,GAAqB9d,EAAAA,EAAAA,cAAY,WACrCid,EAASK,EAAAA,EAAOS,MAClB,GAAG,CAACd,IAEEe,GAAiBhe,EAAAA,EAAAA,cAAY,WACjCid,EAASK,EAAAA,EAAOW,KAClB,GAAG,CAAChB,IAEEiB,GAAsBle,EAAAA,EAAAA,cAAY,WACtCid,EAASK,EAAAA,EAAOa,OAClB,GAAG,CAAClB,IAEEmB,GAAkBpe,EAAAA,EAAAA,cACtB,SAACC,GAAU,OAAK,WACdgd,EAAS,GAAD5X,OAAIiY,EAAAA,EAAOe,MAAK,KAAAhZ,OAAIpF,GAC9B,CAAC,GACD,CAACgd,IAGGqB,GAA2Bte,EAAAA,EAAAA,cAAY,WAC3Cid,EAASK,EAAAA,EAAOiB,eAClB,GAAG,CAACtB,IAEEuB,GAAuBxe,EAAAA,EAAAA,cAAY,WACvCid,EAASK,EAAAA,EAAOmB,SAClB,GAAG,CAACxB,IAEEyB,GAAmB1e,EAAAA,EAAAA,cAAY,WACnCid,EAASK,EAAAA,EAAOjQ,OAClB,GAAG,CAAC4P,IAEE0B,GAA8B3e,EAAAA,EAAAA,cAClC,SAACC,EAAY2e,GAAoB,OAAK,WACpC3B,EACE,GAAA5X,OACGiY,EAAAA,EAAOuB,aAAY,eAAAxZ,OAAcuZ,EAAW,YAAAvZ,OAAWpF,GAE9D,CAAC,GACD,CAACgd,IAGG6B,GAAiB9e,EAAAA,EAAAA,cACrB,SAAC+e,GACC,IAAMC,EAAcle,IAAA,GACjBic,EAAekC,YAAc9B,EAAavJ,IACzCmJ,EAAekC,cAGnB,OAAIF,EACKC,EAAeD,GAEjBC,CACT,GACA,CAAC7B,IAGG+B,GAAkBlf,EAAAA,EAAAA,cACtB,SAACmf,GACClC,EAAS,GAAD5X,OACH8Z,EAAK,KAAA9Z,OAAIpF,EAAE,KAAAoF,OAAI0X,EAAekC,YAAW,KAAA5Z,OAAIyZ,EAAe/B,EAAekC,cAElF,GACA,CAACH,EAAgB7e,EAAIgd,IAGjBmC,GAAkBpf,EAAAA,EAAAA,cACtB,SAACqf,GACCpC,EAAS,GAAD5X,OAAIiY,EAAAA,EAAOgC,MAAK,cAAAja,OAAaga,GACvC,GACA,CAACpC,IAGH,MAAO,CACLI,sBAAAA,EACAG,kBAAAA,EACAE,eAAAA,EACAE,kBAAAA,EACAE,mBAAAA,EACAE,eAAAA,EACAW,4BAAAA,EACAG,eAAAA,EACAI,gBAAAA,EACAhB,oBAAAA,EACAE,gBAAAA,EACAE,yBAAAA,EACAE,qBAAAA,EACAE,iBAAAA,EACAU,gBAAAA,EAEJ,C,2HCrHO,SAASG,IACd,IAAAlc,GAAwCC,EAAAA,EAAAA,UAA4B,CAAC,GAAEC,EAAAC,IAAAH,EAAA,GAAhEmc,EAAYjc,EAAA,GAAEkc,EAAelc,EAAA,GAE9Bmc,GAAoB1f,EAAAA,EAAAA,cAAY,WACpCyf,EAAgB,CAAC,EACnB,GAAG,IAEGE,GAAgBC,EAAAA,EAAAA,UAAQ,WAC5B,OAAO/W,OAAOgX,KAAKL,GAAcza,MACnC,GAAG,CAACya,IAEJ,MAAO,CACLA,aAAAA,EACAC,gBAAAA,EACAK,qBAAqBC,EAAAA,EAAAA,SAAQP,GAC7BE,kBAAAA,EACAC,cAAAA,EAEJ,CAIO,SAASK,EACdR,EACA3f,GASA,MAAO,CAAEogB,aAPWL,EAAAA,EAAAA,UAAQ,WAC1B,IAAMM,EAAUrX,OAAOgX,KAAKL,GAC5B,OAAO3f,EACJqK,QAAO,SAACtJ,EAAGuf,GAAG,OAAKD,EAAQE,MAAK,SAACC,GAAC,OAAKC,OAAOD,KAAOF,CAAG,GAAC,IACzDxf,KAAI,SAACC,GAAC,OAAKA,EAAEX,EAAE,GACpB,GAAG,CAACJ,EAAM2f,IAGZ,C,gVCrBkBe,EAAa,aAAbA,EAAa,gBAAbA,EAAa,WAAbA,EAAa,eAAbA,EAAa,wBAAbA,EAAa,aASlB9M,EAAiB,WAC5B,IAAAC,GAAuBC,EAAAA,EAAAA,MACjB1T,EADkCuD,IAAAkQ,EAAA,GAArB,GACKE,IAAI,YAE5B,OAAO3T,QAAAA,EAAM,EACf,EA8HauV,EAAmB,WAC9B,IAgBSiE,EAhBT9D,GAA4CC,EAAAA,EAAAA,MAApCC,EAAYF,EAAZE,aAAcC,EAAiBH,EAAjBG,kBACtBC,GAAsCC,EAAAA,EAAAA,MAA9BC,EAAUF,EAAVE,WAAYC,EAAaH,EAAbG,cACdjW,EAAKwT,IACL+M,GAAwBC,EAAAA,EAAAA,GAAY5K,EAAc,CAAE6K,KAAM,MAEhEhH,GAAsCtD,EAAAA,EAAAA,GAA+B,CACnEC,SAAU,CACRkK,EAA2Bte,IAAA,CAEzBhC,GAAAA,EACAugB,sBAAAA,GACGvK,IAGPK,YAAa,CAAE7S,MAAO,GAAIkd,cAAe,CAAC,EAAc1J,MAAO,GAC/D/C,OAAQ,EACRqC,SAAOkD,EAAArF,IAAAC,MAAAC,MAAE,SAAA4E,IAAA,IAAAC,EAAAzE,EAAA,OAAAL,MAAAM,MAAA,SAAAyE,GAAA,cAAAA,EAAA3H,KAAA2H,EAAAvE,MAAA,cAAAuE,EAAAvE,KAAA,EACgBC,EAAAA,EAAmBC,SAAS,CACjDC,UAAW/U,EACX0W,SAAU6J,EACV5J,UAAWX,EAAWY,SACtBC,KAAMb,EAAWtR,UACjB,OALU,OAKVwU,EAAAC,EAAAnE,KALMP,EAAIyE,EAAJzE,KAAI0E,EAAAlE,OAAA,SAOLR,aAAI,EAAJA,EAAMA,MAAI,wBAAA0E,EAAAjE,OAAA,GAAA+D,EAAA,KAClB,kBAAAO,EAAArU,MAAA,KAAAN,UAAA,KApBK4P,EAAIgF,EAAJhF,KAAkBtR,EAAOsW,EAAnB3C,WAuBRC,GAA4DhX,EAAAA,EAAAA,cAChE,SAACkL,GACCgL,EAAc,CAAEY,KAAM,IACtBhB,EAAkB5K,EACpB,GACA,CAAC4K,EAAmBI,IAGtB,OAAAjU,IAAAA,IAAA,GACKyS,GAAI,IACPmB,aAAAA,EACAC,kBAAmBkB,EACnBf,WAAUhU,IAAAA,IAAA,GAAOgU,GAAU,IAAEgB,MAAOvC,aAAI,EAAJA,EAAMuC,QAC1Cf,cAAAA,EACA9S,QAAAA,GAEJ,E,4GCvLO,SAASwd,EAAgBhhB,GAAwC,IAArCuD,EAASvD,EAATuD,UAAWlC,EAAIrB,EAAJqB,KACpCwB,GAAMC,EAAAA,EAAAA,MAAND,EACFoe,EAAaC,EAAAA,EAAEC,OAAO,CAC1Bla,KAAMia,EAAAA,EACHE,SACAC,IAAI,EAAG,CACN3H,QAAS7W,EAAE,4BAEZye,SAGCC,GAAOC,EAAAA,EAAAA,IAAoC,CAC/CC,UAAUC,EAAAA,EAAAA,GAAYT,GACtBU,cAAe,CAAE1a,KAAM,MAGF,SAAA2a,IAKtB,OALsBA,EAAApN,IAAAC,MAAAC,MAAvB,SAAAC,EAAwBG,GAAgC,OAAAL,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACpC5T,aAAI,EAAJA,EAAOyT,EAAK7N,MAAK,OAA1B+N,EAAAK,OAEP9R,SAAAA,KACD,wBAAAyR,EAAAO,OAAA,GAAAZ,EAAA,MACFnP,MAAA,KAAAN,UAAA,CAED,OACE5E,EAAAA,EAAAA,KAACuhB,EAAAA,GAAIxf,IAAAA,IAAA,GAAKkf,GAAI,IAAA9gB,UACZH,EAAAA,EAAAA,KAAA,QACEwhB,SAAUP,EAAKQ,cAZlB,SAEoBvM,GAAA,OAAAoM,EAAApc,MAAC,KAADN,UAAA,IAWjB1E,UAAU,YACVH,GAAI2hB,EAAAA,GAAYvhB,UAEhBH,EAAAA,EAAAA,KAAC2hB,EAAAA,GAAS,CACRC,QAASX,EAAKW,QACdjb,KAAK,OACLkb,OAAQ,SAAA3f,GAAA,IAAG4f,EAAK5f,EAAL4f,MAAK,OACd1hB,EAAAA,EAAAA,MAAC2hB,EAAAA,GAAQ,CAAA5hB,SAAA,EACPH,EAAAA,EAAAA,KAACgiB,EAAAA,GAAS,CAAA7hB,SAAEoC,EAAE,kBACdvC,EAAAA,EAAAA,KAACiiB,EAAAA,GAAW,CAAA9hB,UACVH,EAAAA,EAAAA,KAACoN,EAAAA,GAAKrL,IAAAA,IAAA,CACJ6N,YAAarN,EAAE,2BACXuf,GAAK,IACTI,aAAa,YAGjBliB,EAAAA,EAAAA,KAACmiB,EAAAA,GAAW,MACH,QAMvB,CCxDO,SAASC,EAAkB1iB,GAIb,IAHnBuD,EAASvD,EAATuD,UACAlC,EAAIrB,EAAJqB,KACAmC,EAAOxD,EAAPwD,QAEQX,GAAMC,EAAAA,EAAAA,MAAND,EAER,OACEvC,EAAAA,EAAAA,KAACyD,EAAAA,GAAM,CAACC,MAAI,EAACC,aAAcV,EAAU9C,UACnCC,EAAAA,EAAAA,MAACwD,EAAAA,GAAa,CAAC1D,UAAU,mBAAkBC,SAAA,EACzCH,EAAAA,EAAAA,KAAC6D,EAAAA,GAAY,CAAA1D,UACXH,EAAAA,EAAAA,KAAC8D,EAAAA,GAAW,CAAA3D,SAAEoC,EAAE,8BAElBvC,EAAAA,EAAAA,KAAC0gB,EAAgB,CAACzd,UAAWA,EAAWlC,KAAMA,KAC9Cf,EAAAA,EAAAA,KAAC+D,EAAAA,GAAY,CAAA5D,UACXH,EAAAA,EAAAA,KAAC+O,EAAAA,EAAa,CAAC9K,KAAK,SAASgd,KAAMS,EAAAA,GAAaxe,QAASA,EAAQ/C,SAC9DoC,EAAE,uBAMf,C,mMC7BM8f,GAAa1gB,EAAAA,YAKjB,SAAAjC,EAAekC,GAAG,IAAZC,EAAK8G,OAAAC,OAAA,IAAA0Z,IAAA5iB,GAAAA,IAAA,OAAYM,EAAAA,EAAAA,KAAA,MAAA+B,IAAA,CAAKH,IAAKA,EAAK,aAAW,cAAiBC,GAAS,IAC7EwgB,GAAWrgB,YAAc,aAEzB,IAAMugB,GAAiB5gB,EAAAA,YAGrB,SAAAO,EAA0BN,GAAG,IAA1B1B,EAASgC,EAAThC,UAAc2B,EAAKC,IAAAI,EAAAb,IAAA,OACtBrB,EAAAA,EAAAA,KAAA,KAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,GAAAA,IACT,2FACAT,IAEE2B,GACJ,IAEJ0gB,GAAevgB,YAAc,iBAE7B,IAAMwgB,GAAiB7gB,EAAAA,YAGrB,SAAAS,EAA0BR,GAAG,IAA1B1B,EAASkC,EAATlC,UAAc2B,EAAKC,IAAAM,EAAAd,IAAA,OACtBtB,EAAAA,EAAAA,KAAA,KAAA+B,IAAA,CACEH,IAAKA,EACL1B,WAAWS,EAAAA,GAAAA,IAAG,mCAAoCT,IAC9C2B,GACJ,IAEJ2gB,GAAexgB,YAAc,iBAENL,EAAAA,YAKrB,SAAA8H,EAAmC7H,GAAQ,IAAxCsN,EAAOzF,EAAPyF,QAAShP,EAASuJ,EAATvJ,UAAc2B,EAAKC,IAAA2H,EAAAlI,IACzB4N,EAAOD,EAAUE,EAAAA,GAAO,IAE9B,OACEpP,EAAAA,EAAAA,KAACmP,EAAIpN,IAAA,CACHH,IAAKA,EACL1B,WAAWS,EAAAA,GAAAA,IAAG,0CAA2CT,IACrD2B,GAGV,IACeG,YAAc,iBAE7B,IAAMygB,GAAiB9gB,EAAAA,YAGrB,SAAAgL,EAA0B/K,GAAG,IAA1B1B,EAASyM,EAATzM,UAAc2B,EAAKC,IAAA6K,EAAAD,IAAA,OACtB1M,EAAAA,EAAAA,KAAA,OAAA+B,IAAA,CACEH,IAAKA,EACL8gB,KAAK,OACL,gBAAc,OACd,eAAa,OACbxiB,WAAWS,EAAAA,GAAAA,IAAG,8BAA+BT,IACzC2B,GACJ,IAEJ4gB,GAAezgB,YAAc,iBAE7B,IAAM2gB,GAAsB,SAAH9V,GAAA,IACvB1M,EAAQ0M,EAAR1M,SACAD,EAAS2M,EAAT3M,UACG2B,EAAKC,IAAA+K,EAAAD,IAAA,OAER5M,EAAAA,EAAAA,KAAA,KAAA+B,IAAAA,IAAA,CACE2gB,KAAK,eACL,cAAY,OACZxiB,WAAWS,EAAAA,GAAAA,IAAG,8BAA+BT,IACzC2B,GAAK,IAAA1B,SAERA,QAAAA,GAAYH,EAAAA,EAAAA,KAAC4iB,EAAAA,EAAY,MACvB,EAEPD,GAAoB3gB,YAAc,sBAElC,I,sBCrFa6gB,GAA2B,WACtC,IAAQ3D,GAAoBpC,EAAAA,GAAAA,KAApBoC,gBASR,OAP8Bpf,EAAAA,EAAAA,cAC5B,SAACqf,GACCD,EAAgBC,EAClB,GACA,CAACD,GAIL,EAEa4D,GAA2B,WACtC,IJsHStN,EALHzV,EACNkW,EIlHM8M,GJiHAhjB,EAAKwT,IACX0C,GAAiBC,EAAAA,EAAAA,GAAoB,CACnCC,SAAU,CAACkK,EAAqCtgB,GAChDqW,YAAa,GACbqD,UAAW1Z,EACXsW,SAAOb,EAAAtB,IAAAC,MAAAC,MAAE,SAAA+D,IAAA,IAAAwB,EAAApE,EAAAkC,EAAAjD,EAAA,OAAAL,MAAAM,MAAA,SAAA6D,GAAA,cAAAA,EAAA/G,KAAA+G,EAAA3D,MAAA,cAAA2D,EAAA3D,KAAA,EACgBC,EAAAA,EAAmBmF,mBAAmB,CAC3DC,OAAQja,IACR,OAFU,OAEV0X,EAAAa,EAAAvD,KAFMP,EAAIiD,EAAJjD,KAAI8D,EAAAtD,OAAA,SAImC,QAJnC2E,EAILnF,SAAU,QAANe,EAAJf,EAAMA,YAAI,IAAAe,GAAgB,QAAhBA,EAAVA,EAAY0E,sBAAc,IAAA1E,OAAA,EAA1BA,EAA4B2E,oBAAY,IAAAP,EAAAA,EAAI,IAAE,wBAAArB,EAAArD,OAAA,GAAAkD,EAAA,KACtD,kBAAA3C,EAAAtQ,MAAA,KAAAN,UAAA,KAVSqR,EAAJzB,MIhHR,OAAmC,IAA5BuO,EAAiBle,OACpB,GACAke,EAAiBtiB,KAAI,SAACC,GAAC,MAAM,CAC3BsiB,MAAkB,MAAXtiB,EAAEiG,KAAe,OAASjG,EAAEiG,KACnCsc,KAAM,GAAF9d,OAAKiY,GAAAA,EAAOgC,MAAK,cAAAja,OAAazE,EAAEX,IACrC,GACP,ECjBO,SAASmjB,KACd,IAAMC,EAAkBL,KAClB/F,GAAWC,EAAAA,EAAAA,MACjB,OACEhd,EAAAA,EAAAA,KAACqiB,GAAU,CAAAliB,UACTH,EAAAA,EAAAA,KAACuiB,GAAc,CAAApiB,SACZgjB,EAAgB1iB,KAAI,SAACC,EAAGuf,GAAG,OAC1B7f,EAAAA,EAAAA,MAAA,OAAkBF,UAAU,0BAAyBC,SAAA,CAC1C,IAAR8f,IAAajgB,EAAAA,EAAAA,KAAC2iB,GAAmB,KAClC3iB,EAAAA,EAAAA,KAACwiB,GAAc,CAEbxhB,QAAS,kBAAM+b,EAASrc,EAAEuiB,KAAK,EAC/B/iB,UAAU,iBAAgBC,SAEzB8f,IAAQkD,EAAgBte,OAAS,GAChC7E,EAAAA,EAAAA,KAACyiB,GAAc,CAAAtiB,SAAEO,EAAEsiB,QAEnBtiB,EAAEsiB,OAPCtiB,EAAEuiB,QAHDviB,EAAEuiB,KAaN,OAKhB,C,4SCnCO,SAASG,GAAanf,GAC3B,MAAgB,WAATA,CACT,CC6BO,SAASof,GAAU3jB,GAKf,IAJT4jB,EAAG5jB,EAAH4jB,IACAC,EAA2B7jB,EAA3B6jB,4BACAC,EAAmB9jB,EAAnB8jB,oBACAC,EAAiB/jB,EAAjB+jB,kBAEMC,EAASJ,EAAIK,SACbnZ,EAAakZ,EAAO3jB,GAClB6Y,GAAiBZ,EAAAA,GAAAA,MAAjBY,aACFgL,EAAWR,GAAaM,EAAOzf,MAC/B4G,GAAYC,EAAAA,GAAAA,IAAa4Y,EAAO/c,MAEhCkd,GAAoC/jB,EAAAA,EAAAA,cAAY,WACpDyjB,EAA4BG,EAC9B,GAAG,CAACA,EAAQH,IAENO,GAAqBhkB,EAAAA,EAAAA,cAAY,WACrC8Y,EAAa,CACX7Y,GAAIyK,EACJkO,SAAUgL,EAAO/c,MAErB,GAAG,CAAC6D,EAAYoO,EAAc8K,EAAO/c,OAE/Bod,GAA4BjkB,EAAAA,EAAAA,cAAY,WAC5C0jB,EAAoBE,EACtB,GAAG,CAACA,EAAQF,IAENQ,GAA0BlkB,EAAAA,EAAAA,cAAY,WAC1C2jB,EAAkB,CAACC,EAAO3jB,IAC5B,GAAG,CAAC2jB,EAAQD,IAEZ,OACErjB,EAAAA,EAAAA,MAAA,WAASF,UAAU,qDAAoDC,SAAA,EACrEH,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CACLC,QAAQ,QACRiG,KAAM,KACNnG,QAAS6iB,EAAkC1jB,UAE3CH,EAAAA,EAAAA,KAACikB,GAAAA,EAAK,OAERjkB,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CAACC,QAAQ,QAAQiG,KAAM,KAAMnG,QAASgjB,EAAwB7jB,UACnEH,EAAAA,EAAAA,KAACkkB,GAAAA,EAAW,OAGdlkB,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CAACC,QAAQ,QAAQiG,KAAM,KAAMnG,QAAS+iB,EAA0B5jB,UACrEH,EAAAA,EAAAA,KAACmkB,GAAAA,EAAS,MAGXP,IACC5jB,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CAACC,QAAS,QAASiG,KAAM,KAAMnG,QAAS8iB,EAAmB3jB,UAChEH,EAAAA,EAAAA,KAACokB,GAAAA,EAAe,OAInBrZ,EAAAA,GAAAA,IAA+BF,KAC9B7K,EAAAA,EAAAA,KAACqkB,GAAAA,EAAe,CACd7Z,WAAYA,EACZC,aAAciZ,EAAO/c,KACrBzG,UAAU,6BAA4BC,UAEtCH,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CAACC,QAAS,QAASiG,KAAM,KAAKhH,UACnCH,EAAAA,EAAAA,KAACskB,GAAAA,EAAG,SA2BVtkB,EAAAA,EAAAA,KAACa,GAAAA,EAAmB,CAAAV,UAClBH,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CAACC,QAAQ,QAAQiG,KAAM,KAAKhH,UACjCH,EAAAA,EAAAA,KAACukB,GAAAA,EAAM,UAKjB,C,gBCpHahR,GAAiB,WAC5B,IAAAC,GAAuBC,EAAAA,EAAAA,MACjB1T,EADkCuD,IAAAkQ,EAAA,GAArB,GACKE,IAAI,YAE5B,OAAO3T,QAAAA,EAAM,EACf,EAkBaykB,GAAuB,WAClC,IAAAC,GAAwBrhB,EAAAA,EAAAA,UAAgB,CAAC,GAAWshB,EAAAphB,IAAAmhB,EAAA,GAA7Cpe,EAAIqe,EAAA,GAAEC,EAAOD,EAAA,GACpBE,GAIIC,EAAAA,GAAAA,MAHOC,EAAiBF,EAA1BG,QACWC,EAAmBJ,EAA9B3hB,UACWugB,EAAmBoB,EAA9BK,UAEFC,GAAgCrM,EAAAA,GAAAA,MAAxBM,EAAU+L,EAAV/L,WAAYjW,EAAOgiB,EAAPhiB,QAEdiiB,GAAiBrlB,EAAAA,EAAAA,aAAW,eAAAJ,EAAAwU,IAAAC,MAAAC,MAChC,SAAAC,EAAO1N,GAAY,OAAAwN,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACCwE,EAAW,CAC3Ba,OAAQ3T,EAAKtG,GACb4G,KAAAA,IACA,OAEU,IALH+N,EAAAK,MAMPiQ,IACD,wBAAAtQ,EAAAO,OAAA,GAAAZ,EAAA,KACF,gBAAAa,GAAA,OAAAxV,EAAAwF,MAAA,KAAAN,UAAA,EAV+B,GAWhC,CAACuU,EAAY9S,EAAM2e,IAGfjB,GAA4BjkB,EAAAA,EAAAA,aAAW,eAAAoC,EAAAgS,IAAAC,MAAAC,MAC3C,SAAAkC,EAAOoN,GAAa,OAAAvP,MAAAM,MAAA,SAAA+B,GAAA,cAAAA,EAAAjF,KAAAiF,EAAA7B,MAAA,OAClBgQ,EAAQjB,GACRF,IAAsB,wBAAAhN,EAAAvB,OAAA,GAAAqB,EAAA,KACvB,gBAAAwB,GAAA,OAAA5V,EAAAgD,MAAA,KAAAN,UAAA,EAJ0C,GAK3C,CAAC4e,IAGH,MAAO,CACL4B,kBAAmBliB,EACnBmiB,gBAAiBhf,EAAKM,KACtBwe,eAAAA,EACAL,kBAAAA,EACAE,oBAAAA,EACAxB,oBAAqBO,EAEzB,EAMauB,GAA8B,WACzC,IAAAC,GAIIV,EAAAA,GAAAA,MAHOW,EAAyBD,EAAlCR,QACWU,EAA2BF,EAAtCtiB,UACWsgB,EAA2BgC,EAAtCN,UAEFS,GACE7J,EAAAA,GAAAA,MAD8B8J,EAAkBD,EAA1CvJ,uBAA4CjZ,EAAOwiB,EAAPxiB,QAEpD0iB,GAA4BxiB,EAAAA,EAAAA,UAAgB,CAAC,GAAWyiB,EAAAviB,IAAAsiB,EAAA,GAAjDlC,EAAMmC,EAAA,GAAEC,EAASD,EAAA,GAElBE,GAAerG,EAAAA,EAAAA,UAAQ,WAAM,IAAAsG,EACjC,OAAOjhB,MAAMkhB,QAAQvC,aAAM,EAANA,EAAQwC,UACzBxC,SAAgB,QAAVsC,EAANtC,EAAQwC,gBAAQ,IAAAF,OAAA,EAAhBA,EAAkBvlB,KAAI,SAACC,GAAC,OAAKA,EAAEylB,KAAK,IACpC,EACN,GAAG,CAACzC,aAAM,EAANA,EAAQwC,WAENE,GAAyBtmB,EAAAA,EAAAA,aAAW,eAAAsC,EAAA8R,IAAAC,MAAAC,MACxC,SAAAmD,EAAO8O,GAAsB,IAAAlL,EAAA,OAAAhH,MAAAM,MAAA,SAAAiD,GAAA,cAAAA,EAAAnG,KAAAmG,EAAA/C,MAAA,cAAA+C,EAAA/C,KAAA,EACTgR,EAAmB,CACnCW,QAAS,CAAC5C,EAAO3jB,IACjBwmB,MAAOF,IACP,OAID,OAFW,KALNlL,EAAGzD,EAAA3C,OAMP0Q,IACD/N,EAAA1C,OAAA,SACMmG,GAAG,wBAAAzD,EAAAzC,OAAA,GAAAsC,EAAA,KACX,gBAAAoB,GAAA,OAAAvW,EAAA8C,MAAA,KAAAN,UAAA,EAXuC,GAYxC,CAAC+gB,EAAoBF,EAA6B/B,EAAO3jB,KAGrD8jB,GAAoC/jB,EAAAA,EAAAA,cACxC,SAAC4jB,GACCoC,EAAUpC,GACVH,GACF,GACA,CAACA,IAGH,MAAO,CACLiD,oBAAqBT,EACrBU,0BAA2BvjB,EAC3BkjB,uBAAAA,EACAZ,0BAAAA,EACAC,4BAAAA,EACAlC,4BAA6BM,EAEjC,E,wBCjHO,SAAS6C,GAAahnB,GAA0C,IAAvCgD,EAAKhD,EAALgD,MACxBikB,GAAe7mB,EAAAA,EAAAA,cAAY,WAC/B,OADuD8E,UAAAC,OAAA,QAAAqB,IAAAtB,UAAA,GAAAA,UAAA,GAAG,IAC9CnE,KAAI,SAACC,GAAC,OAChBV,EAAAA,EAAAA,KAACsM,GAAAA,EAAK,CAAepL,QAAS,YAAYf,SACvCO,EAAEkmB,SADOlmB,EAAEylB,MAEN,GAEZ,GAAG,IAEH,OAAOphB,MAAMkhB,QAAQvjB,IACnBtC,EAAAA,EAAAA,MAAA,WAASF,UAAU,0BAAyBC,SAAA,CACzCwmB,EAAajkB,aAAK,EAALA,EAAO8O,MAAM,EAAG,IAE7B9O,EAAMmC,OAAS,IACdzE,EAAAA,EAAAA,MAAC+N,GAAAA,GAAS,CAAAhO,SAAA,EACRH,EAAAA,EAAAA,KAACqO,GAAAA,GAAgB,CAAAlO,UACfH,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CAACC,QAAS,QAASiG,KAAM,KAAKhH,UACnCH,EAAAA,EAAAA,KAAC6mB,GAAAA,EAAQ,SAGb7mB,EAAAA,EAAAA,KAACsO,GAAAA,GAAgB,CAACpO,UAAU,uBAAsBC,SAC/CwmB,EAAajkB,WAMtB,EAEJ,C,4BCfMokB,GAAS,oBAETnG,GAAaC,EAAAA,EAAEC,OAAO,CAC1BwF,aAAczF,EAAAA,EAAEmG,MAAMnG,EAAAA,EAAEE,UAAUC,IAAI,EAAG,CACvC3H,QAAS,8CAIb,SAAS4N,GAAiBtnB,GAMvB,IALD8mB,EAAmB9mB,EAAnB8mB,oBACAJ,EAAsB1mB,EAAtB0mB,uBAKQ7jB,GAAMC,EAAAA,EAAAA,MAAND,EACF0e,GAAOC,EAAAA,EAAAA,IAAoC,CAC/CC,UAAUC,EAAAA,EAAAA,GAAYT,IACtBU,cAAe,CACbgF,aAAcG,KAIZ/W,GAAUwX,EAAAA,GAAAA,MAUhB,OACEjnB,EAAAA,EAAAA,KAACuhB,EAAAA,GAAIxf,IAAAA,IAAA,GAAKkf,GAAI,IAAA9gB,UACZH,EAAAA,EAAAA,KAAA,QACEwhB,SAAUP,EAAKQ,cAXrB,SAAkBjN,GAChB4R,EAAuB5R,EAAK6R,aAC9B,IAUMnmB,UAAU,YACVH,GAAI+mB,GAAO3mB,UAEXH,EAAAA,EAAAA,KAAC2hB,EAAAA,GAAS,CACRC,QAASX,EAAKW,QACdjb,KAAK,eACLkb,OAAQ,SAAA3f,GAAA,IAAG4f,EAAK5f,EAAL4f,MAAK,OACd1hB,EAAAA,EAAAA,MAAC2hB,EAAAA,GAAQ,CAAA5hB,SAAA,EACPH,EAAAA,EAAAA,KAACgiB,EAAAA,GAAS,CAAA7hB,SAAEoC,EAAE,kBACdvC,EAAAA,EAAAA,KAACiiB,EAAAA,GAAW,CAAA9hB,UACVH,EAAAA,EAAAA,KAACwP,GAAAA,EAAW,CACVC,QAASA,EACT3M,cAAegf,EAAMtc,SACrB/C,aAAcqf,EAAMpf,MACpBkN,YAAarN,EAAE,4BACfyN,SAAU,IAEVE,cAAY,OAIhBlQ,EAAAA,EAAAA,KAACmiB,EAAAA,GAAW,MACH,QAMvB,CAEO,SAAS+E,GAAmB9kB,GAS9B,IARHa,EAASb,EAATa,UACAujB,EAAmBpkB,EAAnBokB,oBACAJ,EAAsBhkB,EAAtBgkB,uBACAljB,EAAOd,EAAPc,QAMQX,GAAMC,EAAAA,EAAAA,MAAND,EACR,OACEvC,EAAAA,EAAAA,KAACyD,EAAAA,GAAM,CAACC,MAAI,EAACC,aAAcV,EAAU9C,UACnCC,EAAAA,EAAAA,MAACwD,EAAAA,GAAa,CAAC1D,UAAU,mBAAkBC,SAAA,EACzCH,EAAAA,EAAAA,KAAC6D,EAAAA,GAAY,CAAA1D,UACXH,EAAAA,EAAAA,KAAC8D,EAAAA,GAAW,CAAA3D,SAAEoC,EAAE,mCAElBvC,EAAAA,EAAAA,KAACgnB,GAAiB,CAChBR,oBAAqBA,EACrBJ,uBAAwBA,KAE1BpmB,EAAAA,EAAAA,KAAC+D,EAAAA,GAAY,CAAA5D,UACXH,EAAAA,EAAAA,KAACgE,EAAAA,GAAa,CAACC,KAAK,SAASgd,KAAM6F,GAAQ5jB,QAASA,EAAQ/C,UAC1DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,0BAAyBC,SAAA,EACtCH,EAAAA,EAAAA,KAACikB,GAAAA,EAAK,IAAG,mBAOvB,CCjEO,SAASkD,GAAUznB,GASN,IAAA0nB,EARlB7jB,EAAK7D,EAAL6D,MACAwT,EAAKrX,EAALqX,MACAhB,EAAUrW,EAAVqW,WACAC,EAAatW,EAAbsW,cACA9S,EAAOxD,EAAPwD,QACAoc,EAAY5f,EAAZ4f,aACAC,EAAe7f,EAAf6f,gBACAkE,EAAiB/jB,EAAjB+jB,kBAEAtT,EAA8BxO,EAAAA,SAA6B,IAAGyO,EAAA9M,IAAA6M,EAAA,GAAvDkX,EAAOjX,EAAA,GAAEkX,EAAUlX,EAAA,GAC1BG,EAA0C5O,EAAAA,SACxC,IACD6O,EAAAlN,IAAAiN,EAAA,GAFMgX,EAAa/W,EAAA,GAAEgX,EAAgBhX,EAAA,GAGtCG,EACEhP,EAAAA,SAAgC,CAAC,GAAEiP,EAAAtN,IAAAqN,EAAA,GAD9B8W,EAAgB7W,EAAA,GAAE8W,EAAmB9W,EAAA,GAEpCrO,GAAMC,EAAAA,EAAAA,IAAe,cAAe,CAC1CmlB,UAAW,gBADLplB,EAGFqlB,EAAwB/E,KAC9BgF,EAOIvC,KANFE,EAAyBqC,EAAzBrC,0BACAC,EAA2BoC,EAA3BpC,4BACAlC,EAA2BsE,EAA3BtE,4BACAiD,EAAmBqB,EAAnBrB,oBACAJ,EAAsByB,EAAtBzB,uBACAK,EAAyBoB,EAAzBpB,0BAEFqB,EAOItD,KANFM,EAAiBgD,EAAjBhD,kBACAtB,EAAmBsE,EAAnBtE,oBACAwB,EAAmB8C,EAAnB9C,oBACAG,EAAc2C,EAAd3C,eACAE,EAAeyC,EAAfzC,gBACAD,EAAiB0C,EAAjB1C,kBAGI2C,EAA8B,CAClC,CACEhoB,GAAI,SACJioB,OAAQ,SAAA9lB,GAAA,IAAG+lB,EAAK/lB,EAAL+lB,MAAK,OACdjoB,EAAAA,EAAAA,KAACkoB,GAAAA,EAAQ,CACPC,QACEF,EAAMG,4BACLH,EAAMI,6BAA+B,gBAExCC,gBAAiB,SAAC5lB,GAAK,OAAKulB,EAAMM,4BAA4B7lB,EAAM,EACpE,aAAW,cACX,EAEJ8lB,KAAM,SAAApmB,GAAA,IAAGkhB,EAAGlhB,EAAHkhB,IAAG,OACVtjB,EAAAA,EAAAA,KAACkoB,GAAAA,EAAQ,CACPC,QAAS7E,EAAImF,gBACbH,gBAAiB,SAAC5lB,GAAK,OAAK4gB,EAAIoF,iBAAiBhmB,EAAM,EACvD,aAAW,cACX,EAEJimB,eAAe,EACfC,cAAc,GAEhB,CACEC,YAAa,OACbb,OAAQ,SAAAve,GAAgB,IAAbqf,EAAMrf,EAANqf,OACT,OACE1oB,EAAAA,EAAAA,MAACa,EAAAA,GAAM,CACLC,QAAQ,QACRF,QAAS,kBAAM8nB,EAAOC,cAAuC,QAAzBD,EAAOE,cAAwB,EAAC7oB,SAAA,CAEnEoC,EAAE,SACHvC,EAAAA,EAAAA,KAACipB,GAAAA,EAAW,MAGlB,EACAC,KAAM,CAAEC,cAAe,gBACvBX,KAAM,SAAA7b,GAAa,IAAV2W,EAAG3W,EAAH2W,IACD3c,EAAe2c,EAAI8F,SAAS,QAC5BnlB,EAAOqf,EAAIK,SAAS1f,KACpBlE,EAAKujB,EAAIK,SAAS5jB,GAClB6jB,EAAWR,GAAanf,GAQ9B,OACE7D,EAAAA,EAAAA,MAACipB,GAAAA,EAAO,CAAAlpB,SAAA,EACNH,EAAAA,EAAAA,KAACspB,GAAAA,GAAc,CAACpa,SAAO,EAAA/O,UACrBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACzBH,EAAAA,EAAAA,KAAA,QAAME,UAAU,SAAQC,UACtBH,EAAAA,EAAAA,KAACupB,GAAAA,EAAQ,CAAC5iB,KAAMA,EAAM1C,KAAMA,OAE9BjE,EAAAA,EAAAA,KAAA,QACEE,WAAWS,EAAAA,GAAAA,IAAG,WAAUC,KAAA,GAAK,iBAAmBgjB,IAChD5iB,QAfc,WAClB4iB,GACFgE,EAAsB7nB,EAE1B,EAWmCI,SAExBwG,UAIP3G,EAAAA,EAAAA,KAACwpB,GAAAA,GAAc,CAAArpB,UACbH,EAAAA,EAAAA,KAAA,KAAAG,SAAIwG,QAIZ,GAEF,CACEkiB,YAAa,cACbb,OAAQ,SAAAnb,GAAgB,IAAbic,EAAMjc,EAANic,OACT,OACE1oB,EAAAA,EAAAA,MAACa,EAAAA,GAAM,CACLC,QAAQ,QACRF,QAAS,kBAAM8nB,EAAOC,cAAuC,QAAzBD,EAAOE,cAAwB,EAAC7oB,SAAA,CAEnEoC,EAAE,eACHvC,EAAAA,EAAAA,KAACipB,GAAAA,EAAW,MAGlB,EACAT,KAAM,SAAA3a,GAAA,IAAGyV,EAAGzV,EAAHyV,IAAG,OACVtjB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,YAAWC,UACvBspB,EAAAA,GAAAA,IAAWnG,EAAI8F,SAAS,iBACrB,GAGV,CACEP,YAAa,OACbb,OAAQ,SAAA3U,GAAgB,IAAbyV,EAAMzV,EAANyV,OACT,OACE1oB,EAAAA,EAAAA,MAACa,EAAAA,GAAM,CACLC,QAAQ,QACRF,QAAS,kBAAM8nB,EAAOC,cAAuC,QAAzBD,EAAOE,cAAwB,EAAC7oB,SAAA,CAEnEoC,EAAE,SACHvC,EAAAA,EAAAA,KAACipB,GAAAA,EAAW,MAGlB,EACAT,KAAM,SAAAkB,GAAA,IAAGpG,EAAGoG,EAAHpG,IAAG,OACVtjB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,aAAYC,UAAEwpB,EAAAA,GAAAA,IAAerG,EAAI8F,SAAS,UAAe,GAG5E,CACEP,YAAa,WACbb,OAAQzlB,EAAE,iBACVimB,KAAM,SAAAoB,GAAa,IACXlnB,EADIknB,EAAHtG,IAC8B8F,SAAS,YAC9C,OAAOppB,EAAAA,EAAAA,KAAC0mB,GAAa,CAAChkB,MAAOA,GAC/B,GAEF,CACE3C,GAAI,UACJioB,OAAQzlB,EAAE,UACVqmB,cAAc,EACdJ,KAAM,SAAAqB,GAAa,IAAVvG,EAAGuG,EAAHvG,IACP,OACEtjB,EAAAA,EAAAA,KAACqjB,GAAU,CACTC,IAAKA,EACLC,4BAA6BA,EAC7BC,oBAAqBA,EACrBC,kBAAmBA,GAGzB,IAIEqG,GAAoBpK,EAAAA,EAAAA,UAAQ,WAChC,MAAO,CACLqK,WAAYhU,EAAWtR,SAAW,GAAK,EACvCkS,SAAUZ,EAAWY,UAAY,GAErC,GAAG,CAACZ,IAEEkS,GAAQ+B,EAAAA,GAAAA,IAAc,CAC1BxV,KAAMjR,GAAS,GACfwkB,QAAAA,EACAkC,gBAAiB3C,EACjB4C,sBAAuB1C,EACvB2C,iBAAiBA,EAAAA,GAAAA,MAEjBC,mBAAmBA,EAAAA,GAAAA,MACnBC,qBAAqBA,EAAAA,GAAAA,MACrBC,yBAA0B5C,EAC1B6C,qBAAsBhL,EAEtBiL,kBAAkB,EAElBC,MAAO,CACLpD,QAAAA,EACAE,cAAAA,EACAE,iBAAAA,EACAnI,aAAAA,EACAvJ,WAAY+T,GAEdY,SAAU3T,QAAAA,EAAS,EACnB4T,YAAY,IAGd,OACEvqB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,MAAC4S,GAAAA,GAAK,CAAA7S,SAAA,EACJH,EAAAA,EAAAA,KAACkT,GAAAA,GAAW,CAAA/S,SACT8nB,EAAM2C,kBAAkBnqB,KAAI,SAACoqB,GAAW,OACvC7qB,EAAAA,EAAAA,KAACuL,GAAAA,GAAQ,CAAApL,SACN0qB,EAAYC,QAAQrqB,KAAI,SAACunB,GACxB,OACEhoB,EAAAA,EAAAA,KAACoT,GAAAA,GAAS,CAAAjT,SACP6nB,EAAO+C,cACJ,MACAC,EAAAA,GAAAA,IACEhD,EAAOc,OAAOmC,UAAUjD,OACxBA,EAAOkD,eALClD,EAAOjoB,GAS3B,KAZa8qB,EAAY9qB,GAahB,OAGfC,EAAAA,EAAAA,KAACmT,GAAAA,GAAS,CAAAhT,SACP+C,GACClD,EAAAA,EAAAA,KAAC0L,GAAAA,EAAa,CAACJ,cAAeyc,EAAQljB,SACZ,QAAxBuiB,EAAAa,EAAMkD,cAAcC,YAAI,IAAAhE,GAAxBA,EAA0BviB,OAC5BojB,EAAMkD,cAAcC,KAAK3qB,KAAI,SAAC6iB,GAAG,OAC/BtjB,EAAAA,EAAAA,KAACuL,GAAAA,GAAQ,CAEP,aAAY+X,EAAImF,iBAAmB,WAAWtoB,SAE7CmjB,EAAI+H,kBAAkB5qB,KAAI,SAAC+nB,GAAI,IAAA8C,EAAA,OAC9BtrB,EAAAA,EAAAA,KAACwL,GAAAA,GAAS,CAERtL,UAAqC,QAA5BorB,EAAE9C,EAAKM,OAAOmC,UAAU/B,YAAI,IAAAoC,OAAA,EAA1BA,EAA4BnC,cAAchpB,UAEpD6qB,EAAAA,GAAAA,IAAWxC,EAAKM,OAAOmC,UAAUzC,KAAMA,EAAK0C,eAHxC1C,EAAKzoB,GAIA,KATTujB,EAAIvjB,GAWA,KAGbC,EAAAA,EAAAA,KAAC4L,GAAAA,EAAU,CAACN,cAAeyc,EAAQljB,eAKzC7E,EAAAA,EAAAA,KAAA,OAAKE,UAAU,qCAAoCC,UACjDH,EAAAA,EAAAA,KAAA,OAAKE,UAAU,YAAWC,UACxBH,EAAAA,EAAAA,KAACurB,GAAAA,EAAiBxpB,IAAAA,IAAA,IACZypB,EAAAA,GAAAA,MAAKzV,EAAY,UAAW,aAAW,IAC3CgB,MAAOA,EACPvR,SAAU,SAACoR,EAAMD,GACfX,EAAc,CAAEY,KAAAA,EAAMD,SAAAA,GACxB,SAIL6O,IACCxlB,EAAAA,EAAAA,KAACknB,GAAmB,CAClBjkB,UAAWwiB,EACXe,oBAAqBA,EACrBJ,uBAAwBA,EACxBljB,QAASujB,IAGZ3B,IACC9kB,EAAAA,EAAAA,KAACyrB,GAAAA,EAAY,CACXxoB,UAAW+hB,EACXjkB,KAAMokB,EACNuG,YAAarG,EACbniB,QAASkiB,MAKnB,C,8DCnTO,SAASuG,GAAejsB,GAKN,IAJvBksB,EAAQlsB,EAARksB,SACAlpB,EAAKhD,EAALgD,MACAmpB,EAAQnsB,EAARmsB,SACArmB,EAAQ9F,EAAR8F,SAEArC,GAAwBC,EAAAA,EAAAA,WAAS,GAAMC,EAAAC,IAAAH,EAAA,GAAhCO,EAAIL,EAAA,GAAEyoB,EAAOzoB,EAAA,GACZd,GAAMC,EAAAA,EAAAA,MAAND,EAERkiB,GAAwCrhB,EAAAA,EAAAA,UAAmB,IAAGshB,EAAAphB,IAAAmhB,EAAA,GAAvDsH,EAAYrH,EAAA,GAAEsH,EAAetH,EAAA,GACpCkB,GAAkCxiB,EAAAA,EAAAA,UAAiB,IAAGyiB,EAAAviB,IAAAsiB,EAAA,GAA/CqG,EAASpG,EAAA,GAAEqG,EAAYrG,EAAA,GAExBsG,GAAgBzM,EAAAA,EAAAA,UAAQ,WAAM,IAAA0M,EAClC,OAA2C,QAA3CA,EAAOR,EAASna,MAAK,SAAC/Q,GAAC,OAAKA,EAAEX,KAAO2C,CAAK,WAAC,IAAA0pB,OAAA,EAApCA,EAAsCpJ,KAC/C,GAAG,CAAC4I,EAAUlpB,IAER2pB,GAAavsB,EAAAA,EAAAA,cACjB,SAACC,GACC,YAAWmG,IAAPnG,IAGiC,IAA9BgsB,EAAaO,QAAQvsB,EAC9B,GACA,CAACgsB,IAGGQ,GAAkBzsB,EAAAA,EAAAA,cACtB,SAACC,GAAU,OAAK,SAACiL,GACfA,EAAE+G,kBACFvM,SAAAA,EAAWzF,GACX+rB,GAAQ,EACV,CAAC,GACD,CAACtmB,IAGGgnB,GAAmB1sB,EAAAA,EAAAA,cACvB,SAAC2sB,GAAkB,sBAAAvqB,EAAAgS,IAAAC,MAAAC,MAAK,SAAAC,EAAOrJ,GAAsC,IAAAjL,EAAA2sB,EAAA,OAAAvY,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,OAEzD,GADV3J,EAAE+G,kBACMhS,EAAO0sB,EAAP1sB,IACJssB,EAAWtsB,GAAK,CAAF2U,EAAAC,KAAA,QAChBqX,GAAgB,SAACrM,GACf,OAAOA,EAAK3V,QAAO,SAACtJ,GAAC,OAAKA,IAAMX,CAAE,GACpC,IAAG2U,EAAAC,KAAA,gBAKA,GAHG+X,EAAWd,EAAS1L,MAAK,SAACxf,GAAC,OAAKA,EAAE4T,WAAavU,CAAE,IACvDisB,GAAgB,SAACrM,GACf,MAAO,GAAPxa,OAAA6D,KAAW2W,GAAI,CAAE5f,GACnB,IAEK2sB,EAAU,CAAFhY,EAAAC,KAAA,SACM,OAAjBuX,EAAansB,GAAI2U,EAAAC,KAAA,GACXkX,aAAQ,EAARA,EAAWY,GAAK,QACtBP,EAAa,IAAI,yBAAAxX,EAAAO,OAAA,GAAAZ,EAAA,KAGtB,gBAAAa,GAAA,OAAAhT,EAAAgD,MAAA,KAAAN,UAAA,EAnBkB,EAmBlB,GACD,CAACynB,EAAYR,EAAUD,IAGnBe,GAAc7sB,EAAAA,EAAAA,cAClB,SAACwU,GACC,IAAMsY,EAAmBtY,EACrBsX,EAAS5hB,QAAO,SAACtJ,GAAC,OAAKA,EAAE4T,WAAaA,CAAQ,IAC9CsX,EAAS5hB,QAAO,SAACtJ,GAAC,OAAKkrB,EAASiB,OAAM,SAAC1M,GAAC,OAAKzf,EAAE4T,WAAa6L,EAAEpgB,EAAE,GAAC,IAErE,OAAgC,IAA5B6sB,EAAiB/nB,OAAqB,MAGxC7E,EAAAA,EAAAA,KAAA,MAAIE,WAAWS,EAAAA,GAAAA,IAAG,OAAQ,CAAEG,QAASurB,EAAW/X,KAAanU,SAC1DysB,EAAiBnsB,KAAI,SAACC,GAAC,OACtBN,EAAAA,EAAAA,MAAA,MAEEY,QAASurB,EAAgB7rB,EAAEX,IAC3BG,UAAU,mBAAkBC,SAAA,EAE5BC,EAAAA,EAAAA,MAAA,OACEF,WAAWS,EAAAA,GAAAA,IACT,4EACA,CAAE,aAAc+B,IAAUhC,EAAEX,KAC5BI,SAAA,EAEFH,EAAAA,EAAAA,KAAA,QAAME,WAAWS,EAAAA,GAAAA,IAAG,WAAWR,SAAEO,EAAEsiB,QAClCtiB,EAAEosB,SACD9sB,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CACLC,QAAS,QACThB,UAAU,SACVc,QAASwrB,EAAiB9rB,GAC1BsH,SAAUikB,IAAcvrB,EAAEX,GAAGI,SAE5B8rB,IAAcvrB,EAAEX,IACfC,EAAAA,EAAAA,KAAC2L,GAAAA,EAAO,CAACzL,UAAU,iBACjBmsB,EAAW3rB,EAAEX,KACfC,EAAAA,EAAAA,KAACiS,GAAAA,EAAW,KAEZjS,EAAAA,EAAAA,KAAC4iB,EAAAA,EAAY,SAKpB+J,EAAYjsB,EAAEX,MA5BVW,EAAEX,GA6BJ,KAIb,GACA,CAACysB,EAAkBD,EAAiBF,EAAYJ,EAAWL,EAAUlpB,IASvE,OANAqqB,EAAAA,EAAAA,YAAU,YACJlN,EAAAA,GAAAA,SAAQ+L,KACVC,SAAAA,EAAW,CAAE9rB,GAAI,GAAIuU,SAAU,GAAI0O,MAAO,KAE9C,GAAG,CAAC6I,EAAUD,KAGZxrB,EAAAA,EAAAA,MAACgR,GAAAA,GAAO,CAAC1N,KAAMA,EAAMC,aAAcmoB,EAAQ3rB,SAAA,EACzCH,EAAAA,EAAAA,KAACsR,GAAAA,GAAc,CAACpC,SAAO,EAAA/O,UACrBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,+EAA8EC,SAAA,CAC1FgsB,IACCnsB,EAAAA,EAAAA,KAAA,QAAME,UAAU,iBAAgBC,SAAEoC,EAAE,0BAEtCvC,EAAAA,EAAAA,KAACiS,GAAAA,EAAW,CAAC/R,UAAU,kBAG3BF,EAAAA,EAAAA,KAACkS,GAAAA,GAAc,CAAChS,UAAU,iDAAgDC,UACxEH,EAAAA,EAAAA,KAAA,MAAAG,SAAKwsB,UAIb,CC1IO,SAASK,GAAUttB,GAAiD,IAA9CuD,EAASvD,EAATuD,UAAWlC,EAAIrB,EAAJqB,KAAMmC,EAAOxD,EAAPwD,QACpCX,GAAMC,EAAAA,EAAAA,MAAND,EAEA8S,GAAc1B,EAAAA,GAAAA,KAAd0B,UAERlS,GAAkCC,EAAAA,EAAAA,UAA0B,IAAGC,EAAAC,IAAAH,EAAA,GAAxD8pB,EAAS5pB,EAAA,GAAE6pB,EAAY7pB,EAAA,GAE9BohB,GAAgCrhB,EAAAA,EAAAA,UAAS,IAAGshB,EAAAphB,IAAAmhB,EAAA,GAArCmH,EAAQlH,EAAA,GAAEyI,EAAWzI,EAAA,GAEtB0I,GAAattB,EAAAA,EAAAA,aAAW,eAAAsC,EAAA8R,IAAAC,MAAAC,MAC5B,SAAAC,EAAAnS,GAAA,IAAAnC,EAAAob,EAAA,OAAAhH,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,OAAW,OAAF5U,EAAEmC,EAAFnC,GAAE2U,EAAAC,KAAA,EACSU,EAAUtV,GAAa,OACxB,KADXob,EAAGzG,EAAAK,MACD6C,MACNuV,GAAY,SAACE,GACX,OAAOA,EAAKloB,OACVgW,EAAI3G,KAAKjR,MACNyG,QAAO,SAACtJ,GAAQ,MAAgB,WAAXA,EAAEuD,IAAiB,IACxCxD,KAAI,SAACC,GAAQ,MAAM,CAClBX,GAAIW,EAAEX,GACNuU,SAAU5T,EAAEoU,UACZkO,MAAOtiB,EAAEiG,KACTmmB,OACgC,kBAAvBpsB,EAAE4sB,mBACJ5sB,EAAE4sB,iBAEV,IAEP,IACD,wBAAA5Y,EAAAO,OAAA,GAAAZ,EAAA,KACF,gBAAAa,GAAA,OAAA9S,EAAA8C,MAAA,KAAAN,UAAA,EApB2B,GAqB5B,CAACyQ,IAGGoM,GAAe3hB,EAAAA,EAAAA,cAAY,WAC/BiB,SAAAA,EAAOksB,EACT,GAAG,CAAClsB,EAAMksB,IAEV,OACEjtB,EAAAA,EAAAA,KAACyD,EAAAA,GAAM,CAACC,MAAI,EAACC,aAAcV,EAAU9C,UACnCC,EAAAA,EAAAA,MAACwD,EAAAA,GAAa,CAAAzD,SAAA,EACZH,EAAAA,EAAAA,KAAC6D,EAAAA,GAAY,CAAA1D,UACXH,EAAAA,EAAAA,KAAC8D,EAAAA,GAAW,CAAA3D,SAAEoC,EAAE,oBAElBvC,EAAAA,EAAAA,KAAA,OAAAG,UACEH,EAAAA,EAAAA,KAAC2rB,GAAe,CACdC,SAAUA,EACVlpB,MAAOuqB,EACPznB,SAAU0nB,EACVrB,SAAUuB,OAGdptB,EAAAA,EAAAA,KAAC+D,EAAAA,GAAY,CAAA5D,UACXH,EAAAA,EAAAA,KAACgE,EAAAA,GAAa,CACZC,KAAK,SACLjD,QAASygB,EACTzZ,UAAU6X,EAAAA,GAAAA,SAAQoN,GAClB/pB,QAASA,EAAQ/C,SAEhBoC,EAAE,uBAMf,CC/EO,IAAMgrB,GAAsB,WACjC,IdkNYzU,EAVJ5B,EACFE,EACE7U,EAERwW,Ec5MAyU,GdwMQtW,GAAwBC,EAAAA,EAAAA,MAAxBD,oBACFE,GAAcC,EAAAA,EAAAA,MACZ9U,GAAMC,EAAAA,EAAAA,MAAND,EAERwW,GAIIjF,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAACsM,GACdpM,YAAU6E,EAAA5E,IAAAC,MAAAC,MAAE,SAAAsF,EAAOlC,GAA+C,IAAAqC,EAAArF,EAAA,OAAAL,MAAAM,MAAA,SAAAqF,GAAA,cAAAA,EAAAvI,KAAAuI,EAAAnF,MAAA,cAAAmF,EAAAnF,KAAA,EACzCC,EAAAA,EAAmB+C,WAAWH,GAAO,OAO3D,OAP2DqC,EAAAC,EAAA/E,KAC1C,KADVP,EAAIqF,EAAJrF,MACCoD,OACPwB,EAAAA,GAAQhQ,QAAQ7G,EAAE,oBAClB2U,EAAoB,GACpBE,EAAYS,kBAAkB,CAC5B1B,SAAU,CAACkK,MAEdvG,EAAA9E,OAAA,SACMR,EAAKoD,MAAI,wBAAAkC,EAAA7E,OAAA,GAAAyE,EAAA,KACjB,SAAAL,GAAA,OAAAP,EAAA5T,MAAA,KAAAN,UAAA,KAGI,CAAE4P,KAlBHuE,EAAJvE,KAkBatR,QAjBK6V,EAAlB3D,UAiBsB2C,WAhBXgB,EAAX5D,cc/MkBsY,EAAcD,EAA1BzV,WACFzD,EAAWf,KAEXma,GAAmB5tB,EAAAA,EAAAA,aAAW,eAAAJ,EAAAwU,IAAAC,MAAAC,MAClC,SAAAC,EAAOiS,GAAiB,IAAA1O,EAAA,OAAAzD,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACH8Y,EAAe,CAAEnH,QAAAA,EAAShS,SAAAA,IAAW,OAA9C,OAAJsD,EAAIlD,EAAAK,KAAAL,EAAAM,OAAA,SAEH4C,GAAI,wBAAAlD,EAAAO,OAAA,GAAAZ,EAAA,KACZ,gBAAAa,GAAA,OAAAxV,EAAAwF,MAAA,KAAAN,UAAA,EALiC,GAMlC,CAAC0P,EAAUmZ,IAGb,MAAO,CAAEC,iBAAAA,EACX,ECbO,IAAMC,GAAwB,WACnC,If0GY1V,EAVJf,EACFE,EACE7U,EAER2V,EepGA0M,GAIIC,EAAAA,GAAAA,MAHO+I,EAAwBhJ,EAAjCG,QACW8I,EAAqBjJ,EAAhC3hB,UACW6qB,EAAqBlJ,EAAhCK,UAEF8I,Gf2FQ7W,GAAwBC,EAAAA,EAAAA,MAAxBD,oBACFE,GAAcC,EAAAA,EAAAA,MACZ9U,GAAMC,EAAAA,EAAAA,MAAND,EAER2V,GAIIpE,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAACsM,GACdpM,YAAUgE,EAAA/D,IAAAC,MAAAC,MAAE,SAAAmD,EAAOC,GAA0C,IAAAjB,EAAA/B,EAAA,OAAAL,MAAAM,MAAA,SAAAiD,GAAA,cAAAA,EAAAnG,KAAAmG,EAAA/C,MAAA,cAAA+C,EAAA/C,KAAA,EACpCC,EAAAA,EAAmB6F,aAAY1Y,IAAAA,IAAC,CAAC,EACnDyV,GAAM,IACTvT,KAAM,YACN,OAOD,OAPCsS,EAAAmB,EAAA3C,KACgB,KAJVP,EAAI+B,EAAJ/B,MAICoD,OACPwB,EAAAA,GAAQhQ,QAAQ7G,EAAE,oBAClB2U,EAAoB,GACpBE,EAAYS,kBAAkB,CAC5B1B,SAAU,CAACkK,MAEd3I,EAAA1C,OAAA,SACMR,EAAKoD,MAAI,wBAAAF,EAAAzC,OAAA,GAAAsC,EAAA,KACjB,SAAAoB,GAAA,OAAAV,EAAA/S,MAAA,KAAAN,UAAA,KAGI,CAAE4P,KArBH0D,EAAJ1D,KAqBatR,QApBKgV,EAAlB9C,UAoBsBqF,aAnBXvC,EAAX/C,celGMsF,EAAYsT,EAAZtT,aAAcvX,EAAO6qB,EAAP7qB,QAChBnD,EAAKwT,KAELya,GAAmBluB,EAAAA,EAAAA,aAAW,eAAAJ,EAAAwU,IAAAC,MAAAC,MAClC,SAAAC,EAAO1N,GAAY,OAAAwN,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACC8F,EAAa,CAAEnG,SAAUvU,EAAI4G,KAAAA,IAAO,OAE1C,IAFH+N,EAAAK,MAGP8Y,IACD,wBAAAnZ,EAAAO,OAAA,GAAAZ,EAAA,KACF,gBAAAa,GAAA,OAAAxV,EAAAwF,MAAA,KAAAN,UAAA,EAPiC,GAQlC,CAAC6V,EAAcoT,EAAuB9tB,IAGxC,MAAO,CACLkuB,oBAAqB/qB,EACrB8qB,iBAAAA,EACAJ,yBAAAA,EACAC,sBAAAA,EACAC,sBAAAA,EAEJ,EC3BaI,GAAoB,SAAHxuB,GAEwB,IhB+ExCuX,EATNG,EACE7U,EAER+U,EgB1EAkI,EAAiB9f,EAAjB8f,kBAEAoF,GAIIC,EAAAA,GAAAA,MAHOsJ,EAAevJ,EAAxBG,QACWqJ,EAAiBxJ,EAA5B3hB,UACWwgB,EAAiBmB,EAA5BK,UAEFoJ,GhBgEMjX,GAAcC,EAAAA,EAAAA,MACZ9U,GAAMC,EAAAA,EAAAA,MAAND,EAER+U,GAIIxD,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAACsM,GACdpM,YAAUgD,EAAA/C,IAAAC,MAAAC,MAAE,SAAAkC,EAAOkB,GAAqB,IAAAjD,EAAAC,EAAA,OAAAL,MAAAM,MAAA,SAAA+B,GAAA,cAAAA,EAAAjF,KAAAiF,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACfC,EAAAA,EAAmB+H,SAASnF,GAAO,OAMzD,OANyDjD,EAAAiC,EAAAzB,KACxC,KADVP,EAAID,EAAJC,MACCoD,OACPwB,EAAAA,GAAQhQ,QAAQ7G,EAAE,qBAClB6U,EAAYS,kBAAkB,CAC5B1B,SAAU,CAACkK,MAEd7J,EAAAxB,OAAA,SACMR,EAAKoD,MAAI,wBAAApB,EAAAvB,OAAA,GAAAqB,EAAA,KACjB,SAAAwB,GAAA,OAAAb,EAAA/R,MAAA,KAAAN,UAAA,KAGI,CAAE4P,KAjBH8C,EAAJ9C,KAiBatR,QAhBKoU,EAAlBlC,UAgBsBuH,SAfXrF,EAAXnC,cgBtEMwH,EAAQ0R,EAAR1R,SAAUzZ,EAAOmrB,EAAPnrB,QAClBC,GAA0CC,EAAAA,EAAAA,UAAmB,IAAGC,EAAAC,IAAAH,EAAA,GAAzDmrB,EAAajrB,EAAA,GAAEkrB,EAAgBlrB,EAAA,GAChCmrB,GAAYC,EAAAA,EAAAA,SAAO,GAEnBC,GAAe5uB,EAAAA,EAAAA,aAAW,eAAAoC,EAAAgS,IAAAC,MAAAC,MAC9B,SAAAC,EAAOsa,GAAsB,IAAAxT,EAAA,OAAAhH,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACTgI,EAAS,CACzBiS,aAAcN,EACdO,aAAcF,IACd,OAOD,OALW,KALNxT,EAAGzG,EAAAK,QAMHyZ,EAAU/pB,SACZ+a,IAEF4O,KACD1Z,EAAAM,OAAA,SACMmG,GAAG,wBAAAzG,EAAAO,OAAA,GAAAZ,EAAA,KACX,gBAAAa,GAAA,OAAAhT,EAAAgD,MAAA,KAAAN,UAAA,EAd6B,GAe9B,CAAC+X,EAAU2R,EAAeF,EAAmB5O,IAGzCwE,GAA0BlkB,EAAAA,EAAAA,cAC9B,SAACgvB,GAAkC,IAAnBC,EAAMnqB,UAAAC,OAAA,QAAAqB,IAAAtB,UAAA,IAAAA,UAAA,GACpB4pB,EAAU/pB,QAAUsqB,EACpBR,EAAiBO,GACjBrL,GACF,GACA,CAACA,IAGH,MAAO,CACLsC,aAAc,GACdiJ,gBAAiB9rB,EACjBwrB,aAAAA,EACAP,gBAAAA,EACAC,kBAAAA,EACA3K,kBAAmBO,EAEvB,EC/CaiL,GAAsB,WACjC,IjBqCYrb,EATJsD,EACA3U,EACF6U,EACNvD,EiB/BA+Q,GAIIC,EAAAA,GAAAA,MAHOqK,EAAiBtK,EAA1BG,QACWoK,EAAmBvK,EAA9B3hB,UACWmsB,EAAmBxK,EAA9BK,UAEFoK,GjBuBQnY,GAAwBC,EAAAA,EAAAA,MAAxBD,oBACA3U,GAAMC,EAAAA,EAAAA,MAAND,EACF6U,GAAcC,EAAAA,EAAAA,MACpBxD,GAIIC,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAACsM,GACdpM,YAAUL,EAAAM,IAAAC,MAAAC,MAAE,SAAAC,EAAOmD,GAA8C,IAAAuD,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAhH,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,OAU5D,OATGoG,EAAWvD,EAAOuD,SAClBC,EAAWxD,EAAOuD,SAASta,KAC/B,SAAC4F,GAAI,OAAMA,EAAagV,kBAAkB,KAEtCJ,EAAW,IAAIK,UACZC,OAAO,YAAa/D,EAAOlD,UACpCyG,EAAS9R,SAAQ,SAAC5C,EAAW0D,GAC3BkR,EAASM,OAAO,OAAQlV,GACxB4U,EAASM,OAAO,OAAQP,EAASjR,GACnC,IAAG2K,EAAAnD,KAAA,EAAAmD,EAAAC,KAAA,EAEiBC,EAAAA,EAAmB4G,WAAWP,GAAS,OAOxD,OANsB,KAAnBE,OADEA,EAAGzG,EAAAK,WACF,EAAHoG,EAAK3G,KAAKoD,QACZwB,EAAAA,GAAQhQ,QAAQ7G,EAAE,qBAClB2U,EAAoB,GACpBE,EAAYS,kBAAkB,CAC5B1B,SAAU,CAACkK,MAEd3L,EAAAM,OAAA,SACMmG,SAAS,QAAND,EAAHC,EAAK3G,YAAI,IAAA0G,OAAA,EAATA,EAAWtD,MAAI,QAAAlD,EAAAnD,KAAA,GAAAmD,EAAA+G,GAAA/G,EAAA,kCAAAA,EAAAO,OAAA,GAAAZ,EAAA,mBAEzB,SAAAa,GAAA,OAAAtB,EAAA1O,MAAA,KAAAN,UAAA,KAGI,CAAE4P,KA9BHX,EAAJW,KA8BatR,QA7BK2Q,EAAlBuB,UA6BsBoG,WA5BX3H,EAAXsB,ciB7BMqG,EAAU6T,EAAV7T,WAAYtY,EAAOmsB,EAAPnsB,QACdnD,EAAKwT,KAEL+b,GAAiBxvB,EAAAA,EAAAA,aAAW,eAAAJ,EAAAwU,IAAAC,MAAAC,MAChC,SAAAC,EAAO0G,GAAgB,IAAAI,EAAA,OAAAhH,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,YACjBoG,EAASlW,OAAS,GAAC,CAAA6P,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EACK6G,EAAW,CAAET,SAAAA,EAAUzG,SAAUvU,IAAK,OAG/D,OAFW,KADNob,EAAWzG,EAAAK,OAEfoa,IACDza,EAAAM,OAAA,SACMmG,GAAG,wBAAAzG,EAAAO,OAAA,GAAAZ,EAAA,KAEb,gBAAAa,GAAA,OAAAxV,EAAAwF,MAAA,KAAAN,UAAA,EAT+B,GAUhC,CAAC4W,EAAY2T,EAAqBpvB,IAGpC,MAAO,CACLwvB,kBAAmBrsB,EACnBosB,eAAAA,EACAJ,kBAAAA,EACAC,oBAAAA,EACAC,oBAAAA,EAEJ,ECTe,SAAShQ,KACtB,IAAQ7c,GAAMC,EAAAA,EAAAA,MAAND,EACRitB,EAMIP,KALFC,EAAiBM,EAAjBN,kBACAC,EAAmBK,EAAnBL,oBACAC,EAAmBI,EAAnBJ,oBACAG,EAAiBC,EAAjBD,kBACAD,EAAcE,EAAdF,eAGFG,EAMI9B,KALFC,EAAwB6B,EAAxB7B,yBACAE,EAAqB2B,EAArB3B,sBACAD,EAAqB4B,EAArB5B,sBACAI,EAAmBwB,EAAnBxB,oBACAD,EAAgByB,EAAhBzB,iBAGF0B,EAQIpa,IAPFS,EAAU2Z,EAAV3Z,WACAxS,EAAKmsB,EAALnsB,MACAwT,EAAK2Y,EAAL3Y,MACA7T,EAAOwsB,EAAPxsB,QACA8S,EAAa0Z,EAAb1Z,cACAL,EAAY+Z,EAAZ/Z,aACAC,EAAiB8Z,EAAjB9Z,kBAGF+Z,GAMItQ,EAAAA,EAAAA,KALFC,EAAYqQ,EAAZrQ,aACAC,EAAeoQ,EAAfpQ,gBACAK,EAAmB+P,EAAnB/P,oBACAJ,EAAiBmQ,EAAjBnQ,kBACAC,EAAakQ,EAAblQ,cAGFmQ,EAMI1B,GAAkB,CAAE1O,kBAAAA,IALtBiE,EAAiBmM,EAAjBnM,kBACA0K,EAAeyB,EAAfzB,gBACAO,EAAYkB,EAAZlB,aACAN,EAAiBwB,EAAjBxB,kBACAY,EAAeY,EAAfZ,gBAGFa,EC7DK,SAA2BnwB,GASL,IAoBhBowB,EA5BXvsB,EAAK7D,EAAL6D,MACA+b,EAAY5f,EAAZ4f,aACAmE,EAAiB/jB,EAAjB+jB,kBACAlE,EAAe7f,EAAf6f,gBAMQhd,GAAMC,EAAAA,EAAAA,MAAND,EAEAwd,GAAgBD,EAAAA,EAAAA,GAAeR,EAAc/b,GAA7Cwc,YAEA2N,EAAqBH,KAArBG,iBAEF/tB,EAAO,CACX,CACEI,GAAI,OACJqB,MAAOmB,EAAE,eACTpB,MAAMnB,EAAAA,EAAAA,KAACkkB,GAAAA,EAAW,IAClBljB,QAAS,WACPyiB,EAAkB1D,GAAa,EACjC,GAEF,CACEhgB,GAAI,SACJqB,MAAOmB,EAAE,iBACTpB,MAAMnB,EAAAA,EAAAA,KAACukB,GAAAA,EAAM,IACbvjB,SAAO8uB,EAAA5b,IAAAC,MAAAC,MAAE,SAAAC,IAAA,OAAAF,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACY+Y,EAAiB3N,GAAY,OACnC,IADHrL,EAAAK,MAERwK,EAAgB,CAAC,GAClB,wBAAA7K,EAAAO,OAAA,GAAAZ,EAAA,KACF,kBAAAyb,EAAA5qB,MAAA,KAAAN,UAAA,KAIL,MAAO,CAAEjF,KAAAA,EACX,CDsBmBowB,CAAmB,CAClCxsB,MAAAA,EACA+b,aAAAA,EACAmE,kBAAAA,EACAlE,gBAAAA,IAJM5f,EAAIkwB,EAAJlwB,KAOFwjB,EAAkBL,KAElBkN,GACJhwB,EAAAA,EAAAA,KAAA,OAAAG,SACGgjB,EAAgBte,OAAS,GAAI7E,EAAAA,EAAAA,KAACkjB,GAAc,IAAqB,SAItE,OACE9iB,EAAAA,EAAAA,MAAA,WAASF,UAAU,MAAKC,SAAA,EACtBH,EAAAA,EAAAA,KAACiwB,EAAAA,EAAa,CACZD,UAAWA,EACXra,aAAcA,EACdua,eAAgBta,EAChBua,YAAY,EACZhvB,KAAM,OAAOhB,UAEbC,EAAAA,EAAAA,MAACgwB,EAAAA,GAAY,CAAAjwB,SAAA,EACXH,EAAAA,EAAAA,KAACqwB,EAAAA,GAAmB,CAACnhB,SAAO,EAAA/O,UAC1BC,EAAAA,EAAAA,MAACa,EAAAA,GAAM,CAAAd,SAAA,EACLH,EAAAA,EAAAA,KAAC6J,EAAAA,EAAM,IACNtH,EAAE,kCAGPnC,EAAAA,EAAAA,MAACkwB,EAAAA,GAAmB,CAACpwB,UAAU,OAAMC,SAAA,EACnCH,EAAAA,EAAAA,KAACuwB,EAAAA,GAAgB,CAACvvB,QAASouB,EAAoBjvB,SAC5CoC,EAAE,6BAELvC,EAAAA,EAAAA,KAACwwB,EAAAA,GAAqB,KACtBxwB,EAAAA,EAAAA,KAACuwB,EAAAA,GAAgB,CAACvvB,QAAS8sB,EAAsB3tB,SAC9CoC,EAAE,oCAKTqd,IACA5f,EAAAA,EAAAA,KAACP,EAAAA,EAAc,CAACE,KAAMA,EAAMC,MAAO6f,KAErCzf,EAAAA,EAAAA,KAACmnB,GAAU,CACT5jB,MAAOA,EACPwT,MAAOA,EACPhB,WAAYA,EACZC,cAAeA,EACf9S,QAASA,EACToc,aAAcA,EACdC,gBAAiBA,EACjBkE,kBAAmBA,IAEpByL,IACClvB,EAAAA,EAAAA,KAACgD,EAAAA,EAAgB,CACfC,UAAWksB,EACXpuB,KAAMuuB,EACNpsB,QAASqsB,IAGZ3B,IACC5tB,EAAAA,EAAAA,KAACoiB,EAAkB,CACjBlf,QAAS+qB,EACTlJ,QAAS6I,EACT3qB,UAAW4qB,EACX9sB,KAAMitB,IAGTG,IACCnuB,EAAAA,EAAAA,KAACgtB,GAAU,CACT/pB,UAAWmrB,EACXrtB,KAAM2tB,EACNxrB,QAAS8rB,MAKnB,C,wDEpJO,IAAK5R,EAAM,SAANA,GAAM,OAANA,EAAM,eAANA,EAAM,aAANA,EAAM,qBAANA,EAAM,uBAANA,EAAAA,EAAM,WAAAjY,OAKHiY,EAAOqT,aAAWtrB,OAAGiY,EAAOqT,cAAW,UAL1CrT,EAAM,eAANA,EAAM,kCAANA,EAAM,iBAANA,EAAM,0BAANA,EAAM,sBAANA,EAAM,oBAANA,EAAM,kBAANA,EAAM,eAANA,EAAM,kCAANA,EAAM,0BAANA,EAAM,0BAANA,EAAM,eAANA,EAAM,2BAANA,EAAM,iBAANA,EAAM,6BAANA,EAAM,iBAANA,EAAM,2BAANA,CAAM,MA0JRA,EAAOK,KAKHL,EAAOK,KACF,UAAFtY,OAAYiY,EAAOK,MAK1BL,EAAOC,SAKHD,EAAOC,SACF,UAAFlY,OAAYiY,EAAOC,UAK1BD,EAAOS,MAKHT,EAAOS,MACF,UAAF1Y,OAAYiY,EAAOS,OAK1BT,EAAOW,KAEF,UAAF5Y,OAAYiY,EAAOS,MAAK,SAG3BT,EAAOmB,SAKHnB,EAAOmB,SACF,UAAFpZ,OAAYiY,EAAOmB,UAK1BnB,EAAOjQ,OAEF,UAAFhI,OAAYiY,EAAOjQ,QAGtBiQ,EAAOa,OAKHb,EAAOa,OACF,UAAF9Y,OAAYiY,EAAOa,QAK1B,GAAF9Y,OAAKiY,EAAOe,MAAK,QAEV,UAAFhZ,OAAYiY,EAAOe,OAGtBf,EAAOiB,eAEF,UAAFlZ,OAAYiY,EAAOa,QAAM9Y,OAAGiY,EAAOiB,gBAGtCjB,EAAOgC,MAKHhC,EAAOgC,MACF,UAAFja,OAAYiY,EAAOgC,OAK1BhC,EAAOqT,YAGIrT,EAAOqT,YAAuBrT,EAAOG,QAGhDH,EAAOqT,YAEF,UAAFtrB,OAAYiY,EAAOqT,aAGlB,GAAFtrB,OAAKiY,EAAOG,QAAO,QACZ,UAAFpY,OAAYiY,EAAOG,SAGtB,GAAFpY,OAAKiY,EAAOqT,aAAWtrB,OAAGiY,EAAOsT,eAAc,QACxC,UAAFvrB,OAAYiY,EAAOqT,aAAWtrB,OAAGiY,EAAOsT,gBAG3C,GAAFvrB,OAAKiY,EAAOqT,aAAWtrB,OAAGiY,EAAOuT,eAAc,QACxC,UAAFxrB,OAAYiY,EAAOqT,aAAWtrB,OAAGiY,EAAOuT,gBAK/C,GAAFxrB,OAAKiY,EAAOuB,aAAY,WAEjB,UAAFxZ,OAAYiY,EAAOwT,MAAK,2DAG3BxT,EAAOwT,MAIHxT,EAAOwT,MACF,UAAFzrB,OAAYiY,EAAOwT,OAOlB,GAAFzrB,OAAKiY,EAAOyT,YAAW,QAChB,UAAF1rB,OAAYiY,EAAOwT,MAAK,iBAG3B,GAAFzrB,OAAKiY,EAAO0T,WAAU,QACf,UAAF3rB,OAAYiY,EAAOwT,MAAK,gBAOnCxT,EAAOwT,MAEF,UAAFzrB,OAAYiY,EAAOwT,OAGtBxT,EAAOO,eAEF,UAAFxY,OAAYiY,EAAOO,gBAGlBP,EAAOO,eACH,GAAFxY,OAAKiY,EAAOO,eAAc,YAG5B,GAAFxY,OAAKiY,EAAOO,eAAc,YACnB,UAAFxY,OAAYiY,EAAOO,eAAc,YAGpC,GAAFxY,OAAKiY,EAAOO,eAAc,SACnB,UAAFxY,OAAYiY,EAAOO,eAAc,SAGpC,GAAFxY,OAAKiY,EAAOO,eAAc,SACnB,UAAFxY,OAAYiY,EAAOO,eAAc,SAGpC,GAAFxY,OAAKiY,EAAOO,eAAc,UACnB,UAAFxY,OAAYiY,EAAOO,eAAc,UAGpC,GAAFxY,OAAKiY,EAAOO,eAAc,WACnB,UAAFxY,OAAYiY,EAAOO,eAAc,U,6DChUhD9I,EAUEkc,EAAAA,EAVFlc,SACA8C,EASEoZ,EAAAA,EATFpZ,WACA6D,EAQEuV,EAAAA,EARFvV,WACArC,EAOE4X,EAAAA,EAPF5X,WACAY,EAMEgX,EAAAA,EANFhX,mBACAU,EAKEsW,EAAAA,EALFtW,aACA0B,EAIE4U,EAAAA,EAJF5U,uBACA6U,EAGED,EAAAA,EAHFC,kBAKIC,EAAU,CACdpc,SAAU,CACRqc,IAAKrc,EACLsc,OAAQ,OAEVxZ,WAAY,CACVuZ,IAAKvZ,EACLwZ,OAAQ,QAEV3V,WAAY,CACV0V,IAAK1V,EACL2V,OAAQ,QAEVhY,WAAY,CACV+X,IAAK/X,EACLgY,OAAQ,QAEVpX,mBAAoB,CAClBmX,IAAKnX,EACLoX,OAAQ,OAEV1W,aAAc,CACZyW,IAAKzW,EACL0W,OAAQ,QAEVhV,uBAAwB,CACtB+U,IAAK/U,EACLgV,OAAQ,QAEV5Y,QAAS,CACP2Y,IAhCAH,EAAAA,EAFFxY,QAmCE4Y,OAAQ,MACRC,aAAc,QAEhBC,gBAAiB,CACfH,IAAKF,EACLG,OAAQ,MACRC,aAAc,QAEhBzU,SAAU,CACRuU,IA1CAH,EAAAA,EADFpU,SA4CEwU,OAAQ,SAINvc,GAAqB0c,EAAAA,EAAAA,GACzBL,EACAM,EAAAA,IAGF,K,2TC/DaC,EAAuB,SAACC,GACnC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcN,GACrBI,EAAOG,OAAS,WAEd,IAAMC,EAAM,IAAIC,MAChBD,EAAIxrB,IAAMorB,EAAOM,OAEjBF,EAAID,OAAS,WAEX,IAAMI,EAASC,SAASC,cAAc,UAChCC,EAAMH,EAAOlH,WAAW,MAG1BtkB,EAAQqrB,EAAIrrB,MACZC,EAASorB,EAAIprB,OACXhE,EAAU,IAEZ+D,EAAQC,GAAUD,EAAQ/D,GAC5BgE,EAAUA,EAAShE,EAAW+D,EAC9BA,EAAQ/D,GACCgE,EAAShE,IAClB+D,EAASA,EAAQ/D,EAAWgE,EAC5BA,EAAShE,GAIXuvB,EAAOxrB,MAAQA,EACfwrB,EAAOvrB,OAASA,EAGhB0rB,SAAAA,EAAKC,UAAUP,EAAK,EAAG,EAAGrrB,EAAOC,GAGjC,IAAM4rB,EAAmBL,EAAOM,UAAU,aAC1Cf,EAAQc,EACV,EAEAR,EAAIU,QAAUf,CAChB,EACAC,EAAOc,QAAUf,CACnB,GACF,EAoBagB,EAAW,SAAC5nB,GACvB,OAAIjG,MAAMkhB,QAAQjb,GACTA,EAEFA,aAAC,EAADA,EAAG+P,QACZ,EAEa8X,EAA8B,SAACC,GAC1C,IAAI/X,EAAyB,GAM7B,OAJI+X,IACF/X,EAAW,CAAC,CAAEgY,IAAK,IAAKpsB,KAAM,OAAQqsB,SAAUF,EAAQG,OAAQ,UAG3DlY,CACT,EAEamY,EAA2B,eAAAxzB,EAAAwU,IAAAC,MAAAC,MAAG,SAAAC,EAAO0G,GAAuB,IAAA1U,EAAA8sB,EAAAC,EAAA,OAAAjf,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAC,MAAA,YACnE5P,MAAMkhB,QAAQlL,IAAaA,EAASlW,OAAS,GAAC,CAAA6P,EAAAC,KAAA,SAER,GADlCtO,EAAO0U,EAAS,KAChBoY,EAAgB9sB,EAAK8sB,eACR,CAAFze,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,EACM6c,EAAqB2B,GAAc,OAA5C,OAANC,EAAM1e,EAAAK,KAAAL,EAAAM,OAAA,SACLoe,GAAM,eAAA1e,EAAAM,OAAA,SAEN3O,EAAK2sB,UAAQ,eAAAte,EAAAM,OAAA,SAKjB,IAAE,yBAAAN,EAAAO,OAAA,GAAAZ,EAAA,KACV,gBAduCa,GAAA,OAAAxV,EAAAwF,MAAA,KAAAN,UAAA,KActC,SAEayuB,EAAiBvb,EAAAa,GAAA,OAAA2a,EAAApuB,MAAC,KAADN,UAAA,UAAA0uB,IAO/B,OAP+BA,EAAApf,IAAAC,MAAAC,MAAhC,SAAA4E,EAAiCjZ,EAAYwzB,GAAuB,IAAAnb,EAAAC,EAAA,OAAAlE,MAAAM,MAAA,SAAAyE,GAAA,cAAAA,EAAA3H,KAAA2H,EAAAvE,MAAA,cAAAuE,EAAAvE,KAAA,EAC3CC,EAAAA,EAAmByc,gBAAgB,CAAC,EAAGtxB,GAAG,OAG/D,OAHIqY,EAAQc,EAAAnE,KACRsD,EAAO,IAAIG,KAAK,CAACJ,EAAS5D,MAAO,CACrCvQ,KAAMsvB,GAAYnb,EAAS5D,KAAKvQ,OAChCiV,EAAAlE,OAAA,SAEKqD,GAAI,wBAAAa,EAAAjE,OAAA,GAAA+D,EAAA,MACZ9T,MAAA,KAAAN,UAAA,CAEM,SAAe4uB,EAAena,GAAA,OAAAoa,EAAAvuB,MAAC,KAADN,UAAA,CAOpC,SAAA6uB,IAAA,OAAAA,EAAAvf,IAAAC,MAAAC,MAPM,SAAAsF,EAA+B3Z,GAAU,IAAAsY,EAAA6Y,EAAA/mB,EAAA,OAAAgK,MAAAM,MAAA,SAAAqF,GAAA,cAAAA,EAAAvI,KAAAuI,EAAAnF,MAAA,cAAAmF,EAAAnF,KAAA,EAC3B0e,EAAkBtzB,EAAI2zB,EAAAA,GAAaC,MAAK,OAArDtb,EAAIyB,EAAA/E,KACJmc,EAAMroB,IAAIC,gBAAgBuP,IAC1BlO,EAAOkoB,SAASC,cAAc,MAC/BrnB,KAAOimB,EACZ/mB,EAAKypB,QACL/qB,IAAIQ,gBAAgB6nB,GAAK,wBAAApX,EAAA7E,OAAA,GAAAyE,EAAA,MAC1BxU,MAAA,KAAAN,UAAA,CAEM,IAAM6T,EAAuB,SAACJ,EAAY1R,GAC/C,IAAMuqB,EAAM2C,OAAOhrB,IAAIC,gBAAgBuP,GACjCyb,EAAIzB,SAASC,cAAc,KACjCwB,EAAE7oB,KAAOimB,EACLvqB,IACFmtB,EAAEC,SAAWptB,GAEfmtB,EAAEF,QACFC,OAAOhrB,IAAIQ,gBAAgB6nB,EAC7B,EAEa8C,EAAgB,eAAA5xB,EAAA8R,IAAAC,MAAAC,MAAG,SAAAkC,EAAApU,GAAA,IAAAnC,EAAA2Y,EAAAL,EAAA,OAAAlE,MAAAM,MAAA,SAAA+B,GAAA,cAAAA,EAAAjF,KAAAiF,EAAA7B,MAAA,OAEtB,OADR5U,EAAEmC,EAAFnC,GACA2Y,EAAQxW,EAARwW,SAAQlC,EAAA7B,KAAA,EAKW0e,EAAkBtzB,GAAG,OAAlCsY,EAAI7B,EAAAzB,KACV0D,EAAqBJ,EAAMK,GAAU,wBAAAlC,EAAAvB,OAAA,GAAAqB,EAAA,KACtC,gBAT4BoE,GAAA,OAAAtY,EAAA8C,MAAA,KAAAN,UAAA,KAWvBqvB,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAErD/sB,EAAc,SAACxG,GAI1B,IAHA,IAAIwzB,EAAI,EACNC,GAAkB,iBAANzzB,EAAiB0zB,SAAS1zB,EAAG,IAAMA,IAAM,EAEhDyzB,GAAK,QAAUD,GACpBC,GAAQ,KAGV,OAAOA,EAAEE,QAAQF,EAAI,IAAMD,EAAI,EAAI,EAAI,GAAK,IAAMD,EAAMC,EAC1D,EAEaI,EAAgB,eAAA7qB,EAAAyK,IAAAC,MAAAC,MAAG,SAAAmD,EAC9B/C,EACA+f,GAAgB,IAAAlc,EAAA,OAAAlE,MAAAM,MAAA,SAAAiD,GAAA,cAAAA,EAAAnG,KAAAmG,EAAA/C,MAAA,OAEV0D,EAAO,IAAIG,KAAK,CAACgc,KAAKC,UAAUjgB,IAAQ,CAAEvQ,KAAMyvB,EAAAA,GAAagB,OACnEjc,EAAqBJ,EAAMkc,GAAU,wBAAA7c,EAAAzC,OAAA,GAAAsC,EAAA,KACtC,gBAN4BqE,EAAAQ,GAAA,OAAA3S,EAAAvE,MAAA,KAAAN,UAAA,I","sources":["webpack:///./src/components/bulk-operate-bar.tsx","webpack:///./src/components/ui/tabs.tsx","webpack:///./src/components/file-upload-dialog/index.tsx","webpack:///./src/components/ui/scroll-area.tsx","webpack:///./src/hooks/use-callback-ref.ts","webpack:///./src/hooks/use-controllable-state.ts","webpack:///./src/components/file-uploader.tsx","webpack:///./src/components/new-document-link.tsx","webpack:///./src/components/table-skeleton.tsx","webpack:///./src/components/ui/badge.tsx","webpack:///./src/components/ui/card.tsx","webpack:///./src/components/ui/command.tsx","webpack:///./src/components/ui/dialog.tsx","webpack:///./src/components/ui/hover-card.tsx","webpack:///./src/components/ui/loading-button.tsx","webpack:///./src/components/ui/multi-select.tsx","webpack:///./src/components/ui/progress.tsx","webpack:///./src/components/ui/table.tsx","webpack:///./src/hooks/file-manager-hooks.ts","webpack:///./src/hooks/logic-hooks/navigate-hooks.ts","webpack:///./src/hooks/logic-hooks/use-row-selection.ts","webpack:///./src/hooks/use-file-request.ts","webpack:///./src/pages/files/create-folder-dialog/create-folder-form.tsx","webpack:///./src/pages/files/create-folder-dialog/index.tsx","webpack:///./src/components/ui/breadcrumb.tsx","webpack:///./src/pages/files/use-navigate-to-folder.ts","webpack:///./src/pages/files/file-breadcrumb.tsx","webpack:///./src/pages/files/util.ts","webpack:///./src/pages/files/action-cell.tsx","webpack:///./src/pages/files/hooks.ts","webpack:///./src/pages/files/knowledge-cell.tsx","webpack:///./src/pages/files/link-to-dataset-dialog.tsx","webpack:///./src/pages/files/files-table.tsx","webpack:///./src/components/ui/async-tree-select.tsx","webpack:///./src/pages/files/move-dialog.tsx","webpack:///./src/pages/files/use-delete-file.ts","webpack:///./src/pages/files/use-create-folder.ts","webpack:///./src/pages/files/use-move-file.ts","webpack:///./src/pages/files/use-upload-file.ts","webpack:///./src/pages/files/index.tsx","webpack:///./src/pages/files/use-bulk-operate-file.tsx","webpack:///./src/routes.ts","webpack:///./src/services/file-manager-service.ts","webpack:///./src/utils/file-util.ts"],"sourcesContent":["import { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { cn } from '@/lib/utils';\nimport { BrushCleaning } from 'lucide-react';\nimport { ReactNode, useCallback } from 'react';\nimport { ConfirmDeleteDialog } from './confirm-delete-dialog';\nimport { Separator } from './ui/separator';\n\nexport type BulkOperateItemType = {\n  id: string;\n  label: ReactNode;\n  icon: ReactNode;\n  onClick(): void;\n};\n\ntype BulkOperateBarProps = { list: BulkOperateItemType[]; count: number };\n\nexport function BulkOperateBar({ list, count }: BulkOperateBarProps) {\n  const isDeleteItem = useCallback((id: string) => {\n    return id === 'delete';\n  }, []);\n\n  return (\n    <Card className=\"mb-4\">\n      <CardContent className=\"p-1 pl-5 flex items-center gap-6\">\n        <section className=\"text-text-sub-title-invert flex items-center gap-2\">\n          <span>Selected: {count} Files</span>\n          <BrushCleaning className=\"size-3\" />\n        </section>\n        <Separator orientation={'vertical'} className=\"h-3\"></Separator>\n        <ul className=\"flex gap-2\">\n          {list.map((x) => (\n            <li\n              key={x.id}\n              className={cn({ ['text-text-delete-red']: isDeleteItem(x.id) })}\n            >\n              <ConfirmDeleteDialog\n                hidden={!isDeleteItem(x.id)}\n                onOk={x.onClick}\n              >\n                <Button\n                  variant={'ghost'}\n                  onClick={isDeleteItem(x.id) ? () => {} : x.onClick}\n                >\n                  {x.icon} {x.label}\n                </Button>\n              </ConfirmDeleteDialog>\n            </li>\n          ))}\n        </ul>\n      </CardContent>\n    </Card>\n  );\n}\n","'use client';\n\nimport * as TabsPrimitive from '@radix-ui/react-tabs';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      'inline-flex h-10 items-center justify-center rounded-md bg-colors-background-inverse-standard p-1 text-colors-text-neutral-standard',\n      className,\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-colors-background-inverse-strong data-[state=active]:text-colors-text-inverse-strong data-[state=active]:shadow-sm',\n      className,\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',\n      className,\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsContent, TabsList, TabsTrigger };\n","import { ButtonLoading } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { IModalProps } from '@/interfaces/common';\nimport { Dispatch, SetStateAction, useCallback, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { FileUploader } from '../file-uploader';\n\ntype UploaderTabsProps = {\n  setFiles: Dispatch<SetStateAction<File[]>>;\n};\n\nexport function UploaderTabs({ setFiles }: UploaderTabsProps) {\n  const { t } = useTranslation();\n\n  return (\n    <Tabs defaultValue=\"account\">\n      <TabsList className=\"grid w-full grid-cols-2 mb-4\">\n        <TabsTrigger value=\"account\">{t('fileManager.local')}</TabsTrigger>\n        <TabsTrigger value=\"password\">{t('fileManager.s3')}</TabsTrigger>\n      </TabsList>\n      <TabsContent value=\"account\">\n        <FileUploader\n          maxFileCount={8}\n          maxSize={8 * 1024 * 1024}\n          onValueChange={setFiles}\n          accept={{ '*': [] }}\n        />\n      </TabsContent>\n      <TabsContent value=\"password\">{t('common.comingSoon')}</TabsContent>\n    </Tabs>\n  );\n}\n\nexport function FileUploadDialog({\n  hideModal,\n  onOk,\n  loading,\n}: IModalProps<File[]>) {\n  const { t } = useTranslation();\n  const [files, setFiles] = useState<File[]>([]);\n\n  const handleOk = useCallback(() => {\n    onOk?.(files);\n  }, [files, onOk]);\n\n  return (\n    <Dialog open onOpenChange={hideModal}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>{t('fileManager.uploadFile')}</DialogTitle>\n        </DialogHeader>\n        <UploaderTabs setFiles={setFiles}></UploaderTabs>\n        <DialogFooter>\n          <ButtonLoading type=\"submit\" onClick={handleOk} loading={loading}>\n            {t('common.save')}\n          </ButtonLoading>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","'use client';\n\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = 'vertical', ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      'flex touch-none select-none transition-colors',\n      orientation === 'vertical' &&\n        'h-full w-2.5 border-l border-l-transparent p-[1px]',\n      orientation === 'horizontal' &&\n        'h-2.5 flex-col border-t border-t-transparent p-[1px]',\n      className,\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n));\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn('relative overflow-hidden', className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n));\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\n\nexport { ScrollArea, ScrollBar };\n","import * as React from 'react';\n\n/**\n * @see https://github.com/radix-ui/primitives/blob/main/packages/react/use-callback-ref/src/useCallbackRef.tsx\n */\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: never[]) => unknown>(\n  callback: T | undefined,\n): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(\n    () => ((...args) => callbackRef.current?.(...args)) as T,\n    [],\n  );\n}\n\nexport { useCallbackRef };\n","import * as React from 'react';\n\nimport { useCallbackRef } from '@/hooks/use-callback-ref';\n\n/**\n * @see https://github.com/radix-ui/primitives/blob/main/packages/react/use-controllable-state/src/useControllableState.tsx\n */\n\ntype UseControllableStateParams<T> = {\n  prop?: T | undefined;\n  defaultProp?: T | undefined;\n  onChange?: (state: T) => void;\n};\n\ntype SetStateFn<T> = (prevState?: T) => T;\n\nfunction useUncontrolledState<T>({\n  defaultProp,\n  onChange,\n}: Omit<UseControllableStateParams<T>, 'prop'>) {\n  const uncontrolledState = React.useState<T | undefined>(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = React.useRef(value);\n  const handleChange = useCallbackRef(onChange);\n\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value as T);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n\n  return uncontrolledState;\n}\n\nfunction useControllableState<T>({\n  prop,\n  defaultProp,\n  onChange = () => {},\n}: UseControllableStateParams<T>) {\n  const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({\n    defaultProp,\n    onChange,\n  });\n  const isControlled = prop !== undefined;\n  const value = isControlled ? prop : uncontrolledProp;\n  const handleChange = useCallbackRef(onChange);\n\n  const setValue: React.Dispatch<React.SetStateAction<T | undefined>> =\n    React.useCallback(\n      (nextValue) => {\n        if (isControlled) {\n          const setter = nextValue as SetStateFn<T>;\n          const value =\n            typeof nextValue === 'function' ? setter(prop) : nextValue;\n          if (value !== prop) handleChange(value as T);\n        } else {\n          setUncontrolledProp(nextValue);\n        }\n      },\n      [isControlled, prop, setUncontrolledProp, handleChange],\n    );\n\n  return [value, setValue] as const;\n}\n\nexport { useControllableState };\n","// https://github.com/sadmann7/file-uploader\n\n'use client';\n\nimport { FileText, Upload, X } from 'lucide-react';\nimport * as React from 'react';\nimport Dropzone, {\n  type DropzoneProps,\n  type FileRejection,\n} from 'react-dropzone';\nimport { toast } from 'sonner';\n\nimport { Button } from '@/components/ui/button';\nimport { Progress } from '@/components/ui/progress';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { useControllableState } from '@/hooks/use-controllable-state';\nimport { cn, formatBytes } from '@/lib/utils';\n\nfunction isFileWithPreview(file: File): file is File & { preview: string } {\n  return 'preview' in file && typeof file.preview === 'string';\n}\n\ninterface FileCardProps {\n  file: File;\n  onRemove: () => void;\n  progress?: number;\n}\n\ninterface FilePreviewProps {\n  file: File & { preview: string };\n}\n\nfunction FilePreview({ file }: FilePreviewProps) {\n  if (file.type.startsWith('image/')) {\n    return (\n      <img\n        src={file.preview}\n        alt={file.name}\n        width={48}\n        height={48}\n        loading=\"lazy\"\n        className=\"aspect-square shrink-0 rounded-md object-cover\"\n      />\n    );\n  }\n\n  return (\n    <FileText className=\"size-10 text-muted-foreground\" aria-hidden=\"true\" />\n  );\n}\n\nfunction FileCard({ file, progress, onRemove }: FileCardProps) {\n  return (\n    <div className=\"relative flex items-center gap-2.5\">\n      <div className=\"flex flex-1 gap-2.5\">\n        {isFileWithPreview(file) ? <FilePreview file={file} /> : null}\n        <div className=\"flex w-full flex-col gap-2\">\n          <div className=\"flex flex-col gap-px\">\n            <p className=\"line-clamp-1 text-sm font-medium text-foreground/80\">\n              {file.name}\n            </p>\n            <p className=\"text-xs text-muted-foreground\">\n              {formatBytes(file.size)}\n            </p>\n          </div>\n          {progress ? <Progress value={progress} /> : null}\n        </div>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"size-7\"\n          onClick={onRemove}\n        >\n          <X className=\"size-4\" aria-hidden=\"true\" />\n          <span className=\"sr-only\">Remove file</span>\n        </Button>\n      </div>\n    </div>\n  );\n}\n\ninterface FileUploaderProps extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Value of the uploader.\n   * @type File[]\n   * @default undefined\n   * @example value={files}\n   */\n  value?: File[];\n\n  /**\n   * Function to be called when the value changes.\n   * @type (files: File[]) => void\n   * @default undefined\n   * @example onValueChange={(files) => setFiles(files)}\n   */\n  onValueChange?: (files: File[]) => void;\n\n  /**\n   * Function to be called when files are uploaded.\n   * @type (files: File[]) => Promise<void>\n   * @default undefined\n   * @example onUpload={(files) => uploadFiles(files)}\n   */\n  onUpload?: (files: File[]) => Promise<void>;\n\n  /**\n   * Progress of the uploaded files.\n   * @type Record<string, number> | undefined\n   * @default undefined\n   * @example progresses={{ \"file1.png\": 50 }}\n   */\n  progresses?: Record<string, number>;\n\n  /**\n   * Accepted file types for the uploader.\n   * @type { [key: string]: string[]}\n   * @default\n   * ```ts\n   * { \"image/*\": [] }\n   * ```\n   * @example accept={[\"image/png\", \"image/jpeg\"]}\n   */\n  accept?: DropzoneProps['accept'];\n\n  /**\n   * Maximum file size for the uploader.\n   * @type number | undefined\n   * @default 1024 * 1024 * 2 // 2MB\n   * @example maxSize={1024 * 1024 * 2} // 2MB\n   */\n  maxSize?: DropzoneProps['maxSize'];\n\n  /**\n   * Maximum number of files for the uploader.\n   * @type number | undefined\n   * @default 1\n   * @example maxFileCount={4}\n   */\n  maxFileCount?: DropzoneProps['maxFiles'];\n\n  /**\n   * Whether the uploader should accept multiple files.\n   * @type boolean\n   * @default false\n   * @example multiple\n   */\n  multiple?: boolean;\n\n  /**\n   * Whether the uploader is disabled.\n   * @type boolean\n   * @default false\n   * @example disabled\n   */\n  disabled?: boolean;\n}\n\nexport function FileUploader(props: FileUploaderProps) {\n  const {\n    value: valueProp,\n    onValueChange,\n    onUpload,\n    progresses,\n    accept = {\n      'image/*': [],\n    },\n    maxSize = 1024 * 1024 * 2,\n    maxFileCount = 1,\n    multiple = false,\n    disabled = false,\n    className,\n    ...dropzoneProps\n  } = props;\n\n  const [files, setFiles] = useControllableState({\n    prop: valueProp,\n    onChange: onValueChange,\n  });\n\n  const onDrop = React.useCallback(\n    (acceptedFiles: File[], rejectedFiles: FileRejection[]) => {\n      if (!multiple && maxFileCount === 1 && acceptedFiles.length > 1) {\n        toast.error('Cannot upload more than 1 file at a time');\n        return;\n      }\n\n      if ((files?.length ?? 0) + acceptedFiles.length > maxFileCount) {\n        toast.error(`Cannot upload more than ${maxFileCount} files`);\n        return;\n      }\n\n      const newFiles = acceptedFiles.map((file) =>\n        Object.assign(file, {\n          preview: URL.createObjectURL(file),\n        }),\n      );\n\n      const updatedFiles = files ? [...files, ...newFiles] : newFiles;\n\n      setFiles(updatedFiles);\n\n      if (rejectedFiles.length > 0) {\n        rejectedFiles.forEach(({ file }) => {\n          toast.error(`File ${file.name} was rejected`);\n        });\n      }\n\n      if (\n        onUpload &&\n        updatedFiles.length > 0 &&\n        updatedFiles.length <= maxFileCount\n      ) {\n        const target =\n          updatedFiles.length > 0 ? `${updatedFiles.length} files` : `file`;\n\n        toast.promise(onUpload(updatedFiles), {\n          loading: `Uploading ${target}...`,\n          success: () => {\n            setFiles([]);\n            return `${target} uploaded`;\n          },\n          error: `Failed to upload ${target}`,\n        });\n      }\n    },\n\n    [files, maxFileCount, multiple, onUpload, setFiles],\n  );\n\n  function onRemove(index: number) {\n    if (!files) return;\n    const newFiles = files.filter((_, i) => i !== index);\n    setFiles(newFiles);\n    onValueChange?.(newFiles);\n  }\n\n  // Revoke preview url when component unmounts\n  React.useEffect(() => {\n    return () => {\n      if (!files) return;\n      files.forEach((file) => {\n        if (isFileWithPreview(file)) {\n          URL.revokeObjectURL(file.preview);\n        }\n      });\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const isDisabled = disabled || (files?.length ?? 0) >= maxFileCount;\n\n  return (\n    <div className=\"relative flex flex-col gap-6 overflow-hidden\">\n      <Dropzone\n        onDrop={onDrop}\n        accept={accept}\n        maxSize={maxSize}\n        maxFiles={maxFileCount}\n        multiple={maxFileCount > 1 || multiple}\n        disabled={isDisabled}\n      >\n        {({ getRootProps, getInputProps, isDragActive }) => (\n          <div\n            {...getRootProps()}\n            className={cn(\n              'group relative grid h-52 w-full cursor-pointer place-items-center rounded-lg border-2 border-dashed border-muted-foreground/25 px-5 py-2.5 text-center transition hover:bg-muted/25',\n              'ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',\n              isDragActive && 'border-muted-foreground/50',\n              isDisabled && 'pointer-events-none opacity-60',\n              className,\n            )}\n            {...dropzoneProps}\n          >\n            <input {...getInputProps()} />\n            {isDragActive ? (\n              <div className=\"flex flex-col items-center justify-center gap-4 sm:px-5\">\n                <div className=\"rounded-full border border-dashed p-3\">\n                  <Upload\n                    className=\"size-7 text-muted-foreground\"\n                    aria-hidden=\"true\"\n                  />\n                </div>\n                <p className=\"font-medium text-muted-foreground\">\n                  Drop the files here\n                </p>\n              </div>\n            ) : (\n              <div className=\"flex flex-col items-center justify-center gap-4 sm:px-5\">\n                <div className=\"rounded-full border border-dashed p-3\">\n                  <Upload\n                    className=\"size-7 text-muted-foreground\"\n                    aria-hidden=\"true\"\n                  />\n                </div>\n                <div className=\"flex flex-col gap-px\">\n                  <p className=\"font-medium text-muted-foreground\">\n                    Drag {`'n'`} drop files here, or click to select files\n                  </p>\n                  <p className=\"text-sm text-muted-foreground/70\">\n                    You can upload\n                    {maxFileCount > 1\n                      ? ` ${maxFileCount === Infinity ? 'multiple' : maxFileCount}\n                      files (up to ${formatBytes(maxSize)} each)`\n                      : ` a file with ${formatBytes(maxSize)}`}\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </Dropzone>\n      {files?.length ? (\n        <ScrollArea className=\"h-fit w-full px-3\">\n          <div className=\"flex max-h-48 flex-col gap-4\">\n            {files?.map((file, index) => (\n              <FileCard\n                key={index}\n                file={file}\n                onRemove={() => onRemove(index)}\n                progress={progresses?.[file.name]}\n              />\n            ))}\n          </div>\n        </ScrollArea>\n      ) : null}\n    </div>\n  );\n}\n","import {\n  getExtension,\n  isSupportedPreviewDocumentType,\n} from '@/utils/document-util';\nimport React from 'react';\n\ninterface IProps extends React.PropsWithChildren {\n  link?: string;\n  preventDefault?: boolean;\n  color?: string;\n  documentName: string;\n  documentId?: string;\n  prefix?: string;\n  className?: string;\n}\n\nconst NewDocumentLink = ({\n  children,\n  link,\n  preventDefault = false,\n  color = 'rgb(15, 79, 170)',\n  documentId,\n  documentName,\n  prefix = 'file',\n  className,\n}: IProps) => {\n  let nextLink = link;\n  const extension = getExtension(documentName);\n  if (!link) {\n    nextLink = `/document/${documentId}?ext=${extension}&prefix=${prefix}`;\n  }\n\n  return (\n    <a\n      target=\"_blank\"\n      onClick={\n        !preventDefault || isSupportedPreviewDocumentType(extension)\n          ? undefined\n          : (e) => e.preventDefault()\n      }\n      href={nextLink}\n      rel=\"noreferrer\"\n      style={{ color: className ? '' : color, wordBreak: 'break-all' }}\n      className={className}\n    >\n      {children}\n    </a>\n  );\n};\n\nexport default NewDocumentLink;\n","import { Loader2 } from 'lucide-react';\nimport { PropsWithChildren } from 'react';\nimport { TableCell, TableRow } from './ui/table';\n\ntype IProps = { columnsLength: number };\n\nfunction Row({ children, columnsLength }: PropsWithChildren & IProps) {\n  return (\n    <TableRow>\n      <TableCell colSpan={columnsLength} className=\"h-24 text-center\">\n        {children}\n      </TableCell>\n    </TableRow>\n  );\n}\n\nexport function TableSkeleton({\n  columnsLength,\n  children,\n}: PropsWithChildren & IProps) {\n  return (\n    <Row columnsLength={columnsLength}>\n      {children || (\n        <Loader2 className=\"animate-spin size-16 inline-block text-gray-400\" />\n      )}\n    </Row>\n  );\n}\n\nexport function TableEmpty({ columnsLength }: { columnsLength: number }) {\n  return <Row columnsLength={columnsLength}>No results.</Row>;\n}\n","import { cva, type VariantProps } from 'class-variance-authority';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',\n        secondary:\n          'border-transparent bg-background-card text-text-sub-title-invert hover:bg-secondary/80 rounded-md',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',\n        outline: 'text-foreground',\n        tertiary:\n          'border-transparent bg-colors-background-core-strong text-colors-text-persist-light hover:bg-colors-background-core-strong/80',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n","import * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'rounded-lg  bg-background-card  text-card-foreground shadow-sm',\n      className,\n    )}\n    {...props}\n  />\n));\nCard.displayName = 'Card';\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\n    {...props}\n  />\n));\nCardHeader.displayName = 'CardHeader';\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'text-2xl font-semibold leading-none tracking-tight',\n      className,\n    )}\n    {...props}\n  />\n));\nCardTitle.displayName = 'CardTitle';\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nCardDescription.displayName = 'CardDescription';\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n));\nCardContent.displayName = 'CardContent';\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center p-6 pt-0', className)}\n    {...props}\n  />\n));\nCardFooter.displayName = 'CardFooter';\n\nexport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n};\n","'use client';\n\nimport { type DialogProps } from '@radix-ui/react-dialog';\nimport { Command as CommandPrimitive } from 'cmdk';\nimport { Search } from 'lucide-react';\nimport * as React from 'react';\n\nimport { Dialog, DialogContent } from '@/components/ui/dialog';\nimport { cn } from '@/lib/utils';\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      'flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground',\n      className,\n    )}\n    {...props}\n  />\n));\nCommand.displayName = CommandPrimitive.displayName;\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        'flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  </div>\n));\n\nCommandInput.displayName = CommandPrimitive.Input.displayName;\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn('max-h-[300px] overflow-y-auto overflow-x-hidden', className)}\n    {...props}\n  />\n));\n\nCommandList.displayName = CommandPrimitive.List.displayName;\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n));\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      'overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground',\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn('-mx-1 h-px bg-border', className)}\n    {...props}\n  />\n));\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandItem.displayName = CommandPrimitive.Item.displayName;\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        'ml-auto text-xs tracking-widest text-muted-foreground',\n        className,\n      )}\n      {...props}\n    />\n  );\n};\nCommandShortcut.displayName = 'CommandShortcut';\n\nexport {\n  Command,\n  CommandDialog,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n  CommandShortcut,\n};\n","'use client';\n\nimport * as DialogPrimitive from '@radix-ui/react-dialog';\nimport { X } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-colors-background-neutral-standard p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col space-y-1.5 text-center sm:text-left',\n      className,\n    )}\n    {...props}\n  />\n);\nDialogHeader.displayName = 'DialogHeader';\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',\n      className,\n    )}\n    {...props}\n  />\n);\nDialogFooter.displayName = 'DialogFooter';\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      'text-lg font-semibold leading-none tracking-tight',\n      className,\n    )}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n","'use client';\n\nimport * as HoverCardPrimitive from '@radix-ui/react-hover-card';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst HoverCard = HoverCardPrimitive.Root;\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger;\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      'z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]',\n      className,\n    )}\n    {...props}\n  />\n));\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName;\n\nexport { HoverCard, HoverCardContent, HoverCardTrigger };\n","// https://github.com/hsuanyi-chou/shadcn-ui-expansions/blob/main/components/ui/loading-button.tsx\n\nimport { cn } from '@/lib/utils';\nimport { Slot, Slottable } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { Loader2 } from 'lucide-react';\nimport * as React from 'react';\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline:\n          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n        tertiary:\n          'bg-colors-background-sentiment-solid-primary text-colors-text-persist-light hover:bg-colors-background-sentiment-solid-primary/80',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n  loading?: boolean;\n}\n\nconst LoadingButton = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      className,\n      loading = false,\n      children,\n      disabled,\n      variant,\n      size,\n      asChild = false,\n      ...props\n    },\n    ref,\n  ) => {\n    const Comp = asChild ? Slot : 'button';\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        disabled={loading || disabled}\n        {...props}\n      >\n        {loading && <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />}\n        <Slottable>{children}</Slottable>\n      </Comp>\n    );\n  },\n);\nLoadingButton.displayName = 'LoadingButton';\n\nexport { LoadingButton, buttonVariants };\n","// src/components/multi-select.tsx\n\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport {\n  CheckIcon,\n  ChevronDown,\n  WandSparkles,\n  XCircle,\n  XIcon,\n} from 'lucide-react';\nimport * as React from 'react';\n\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n} from '@/components/ui/command';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\nimport { Separator } from '@/components/ui/separator';\nimport { cn } from '@/lib/utils';\n\n/**\n * Variants for the multi-select component to handle different styles.\n * Uses class-variance-authority (cva) to define different styles based on \"variant\" prop.\n */\nconst multiSelectVariants = cva(\n  'm-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-foreground/10 text-foreground bg-card hover:bg-card/80',\n        secondary:\n          'border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',\n        inverted: 'inverted',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n);\n\n/**\n * Props for MultiSelect component\n */\ninterface MultiSelectProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof multiSelectVariants> {\n  /**\n   * An array of option objects to be displayed in the multi-select component.\n   * Each option object has a label, value, and an optional icon.\n   */\n  options: {\n    /** The text to display for the option. */\n    label: string;\n    /** The unique value associated with the option. */\n    value: string;\n    /** Optional icon component to display alongside the option. */\n    icon?: React.ComponentType<{ className?: string }>;\n  }[];\n\n  /**\n   * Callback function triggered when the selected values change.\n   * Receives an array of the new selected values.\n   */\n  onValueChange: (value: string[]) => void;\n\n  /** The default selected values when the component mounts. */\n  defaultValue?: string[];\n\n  /**\n   * Placeholder text to be displayed when no values are selected.\n   * Optional, defaults to \"Select options\".\n   */\n  placeholder?: string;\n\n  /**\n   * Animation duration in seconds for the visual effects (e.g., bouncing badges).\n   * Optional, defaults to 0 (no animation).\n   */\n  animation?: number;\n\n  /**\n   * Maximum number of items to display. Extra selected items will be summarized.\n   * Optional, defaults to 3.\n   */\n  maxCount?: number;\n\n  /**\n   * The modality of the popover. When set to true, interaction with outside elements\n   * will be disabled and only popover content will be visible to screen readers.\n   * Optional, defaults to false.\n   */\n  modalPopover?: boolean;\n\n  /**\n   * If true, renders the multi-select component as a child of another component.\n   * Optional, defaults to false.\n   */\n  asChild?: boolean;\n\n  /**\n   * Additional class names to apply custom styles to the multi-select component.\n   * Optional, can be used to add custom styles.\n   */\n  className?: string;\n}\n\nexport const MultiSelect = React.forwardRef<\n  HTMLButtonElement,\n  MultiSelectProps\n>(\n  (\n    {\n      options,\n      onValueChange,\n      variant,\n      defaultValue = [],\n      placeholder = 'Select options',\n      animation = 0,\n      maxCount = 3,\n      modalPopover = false,\n      asChild = false,\n      className,\n      ...props\n    },\n    ref,\n  ) => {\n    const [selectedValues, setSelectedValues] =\n      React.useState<string[]>(defaultValue);\n    const [isPopoverOpen, setIsPopoverOpen] = React.useState(false);\n    const [isAnimating, setIsAnimating] = React.useState(false);\n\n    const handleInputKeyDown = (\n      event: React.KeyboardEvent<HTMLInputElement>,\n    ) => {\n      if (event.key === 'Enter') {\n        setIsPopoverOpen(true);\n      } else if (event.key === 'Backspace' && !event.currentTarget.value) {\n        const newSelectedValues = [...selectedValues];\n        newSelectedValues.pop();\n        setSelectedValues(newSelectedValues);\n        onValueChange(newSelectedValues);\n      }\n    };\n\n    const toggleOption = (option: string) => {\n      const newSelectedValues = selectedValues.includes(option)\n        ? selectedValues.filter((value) => value !== option)\n        : [...selectedValues, option];\n      setSelectedValues(newSelectedValues);\n      onValueChange(newSelectedValues);\n    };\n\n    const handleClear = () => {\n      setSelectedValues([]);\n      onValueChange([]);\n    };\n\n    const handleTogglePopover = () => {\n      setIsPopoverOpen((prev) => !prev);\n    };\n\n    const clearExtraOptions = () => {\n      const newSelectedValues = selectedValues.slice(0, maxCount);\n      setSelectedValues(newSelectedValues);\n      onValueChange(newSelectedValues);\n    };\n\n    const toggleAll = () => {\n      if (selectedValues.length === options.length) {\n        handleClear();\n      } else {\n        const allValues = options.map((option) => option.value);\n        setSelectedValues(allValues);\n        onValueChange(allValues);\n      }\n    };\n\n    return (\n      <Popover\n        open={isPopoverOpen}\n        onOpenChange={setIsPopoverOpen}\n        modal={modalPopover}\n      >\n        <PopoverTrigger asChild>\n          <Button\n            ref={ref}\n            {...props}\n            onClick={handleTogglePopover}\n            className={cn(\n              'flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto',\n              className,\n            )}\n          >\n            {selectedValues.length > 0 ? (\n              <div className=\"flex justify-between items-center w-full\">\n                <div className=\"flex flex-wrap items-center\">\n                  {selectedValues.slice(0, maxCount).map((value) => {\n                    const option = options.find((o) => o.value === value);\n                    const IconComponent = option?.icon;\n                    return (\n                      <Badge\n                        key={value}\n                        className={cn(\n                          isAnimating ? 'animate-bounce' : '',\n                          multiSelectVariants({ variant }),\n                        )}\n                        style={{ animationDuration: `${animation}s` }}\n                      >\n                        {IconComponent && (\n                          <IconComponent className=\"h-4 w-4 mr-2\" />\n                        )}\n                        {option?.label}\n                        <XCircle\n                          className=\"ml-2 h-4 w-4 cursor-pointer\"\n                          onClick={(event) => {\n                            event.stopPropagation();\n                            toggleOption(value);\n                          }}\n                        />\n                      </Badge>\n                    );\n                  })}\n                  {selectedValues.length > maxCount && (\n                    <Badge\n                      className={cn(\n                        'bg-transparent text-foreground border-foreground/1 hover:bg-transparent',\n                        isAnimating ? 'animate-bounce' : '',\n                        multiSelectVariants({ variant }),\n                      )}\n                      style={{ animationDuration: `${animation}s` }}\n                    >\n                      {`+ ${selectedValues.length - maxCount} more`}\n                      <XCircle\n                        className=\"ml-2 h-4 w-4 cursor-pointer\"\n                        onClick={(event) => {\n                          event.stopPropagation();\n                          clearExtraOptions();\n                        }}\n                      />\n                    </Badge>\n                  )}\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <XIcon\n                    className=\"h-4 mx-2 cursor-pointer text-muted-foreground\"\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      handleClear();\n                    }}\n                  />\n                  <Separator\n                    orientation=\"vertical\"\n                    className=\"flex min-h-6 h-full\"\n                  />\n                  <ChevronDown className=\"h-4 mx-2 cursor-pointer text-muted-foreground\" />\n                </div>\n              </div>\n            ) : (\n              <div className=\"flex items-center justify-between w-full mx-auto\">\n                <span className=\"text-sm text-muted-foreground mx-3\">\n                  {placeholder}\n                </span>\n                <ChevronDown className=\"h-4 cursor-pointer text-muted-foreground mx-2\" />\n              </div>\n            )}\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent\n          className=\"w-auto p-0\"\n          align=\"start\"\n          onEscapeKeyDown={() => setIsPopoverOpen(false)}\n        >\n          <Command>\n            <CommandInput\n              placeholder=\"Search...\"\n              onKeyDown={handleInputKeyDown}\n            />\n            <CommandList>\n              <CommandEmpty>No results found.</CommandEmpty>\n              <CommandGroup>\n                <CommandItem\n                  key=\"all\"\n                  onSelect={toggleAll}\n                  className=\"cursor-pointer\"\n                >\n                  <div\n                    className={cn(\n                      'mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary',\n                      selectedValues.length === options.length\n                        ? 'bg-primary text-primary-foreground'\n                        : 'opacity-50 [&_svg]:invisible',\n                    )}\n                  >\n                    <CheckIcon className=\"h-4 w-4\" />\n                  </div>\n                  <span>(Select All)</span>\n                </CommandItem>\n                {options.map((option) => {\n                  const isSelected = selectedValues.includes(option.value);\n                  return (\n                    <CommandItem\n                      key={option.value}\n                      onSelect={() => toggleOption(option.value)}\n                      className=\"cursor-pointer\"\n                    >\n                      <div\n                        className={cn(\n                          'mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary',\n                          isSelected\n                            ? 'bg-primary text-primary-foreground'\n                            : 'opacity-50 [&_svg]:invisible',\n                        )}\n                      >\n                        <CheckIcon className=\"h-4 w-4\" />\n                      </div>\n                      {option.icon && (\n                        <option.icon className=\"mr-2 h-4 w-4 text-muted-foreground\" />\n                      )}\n                      <span>{option.label}</span>\n                    </CommandItem>\n                  );\n                })}\n              </CommandGroup>\n              <CommandSeparator />\n              <CommandGroup>\n                <div className=\"flex items-center justify-between\">\n                  {selectedValues.length > 0 && (\n                    <>\n                      <CommandItem\n                        onSelect={handleClear}\n                        className=\"flex-1 justify-center cursor-pointer\"\n                      >\n                        Clear\n                      </CommandItem>\n                      <Separator\n                        orientation=\"vertical\"\n                        className=\"flex min-h-6 h-full\"\n                      />\n                    </>\n                  )}\n                  <CommandItem\n                    onSelect={() => setIsPopoverOpen(false)}\n                    className=\"flex-1 justify-center cursor-pointer max-w-full\"\n                  >\n                    Close\n                  </CommandItem>\n                </div>\n              </CommandGroup>\n            </CommandList>\n          </Command>\n        </PopoverContent>\n        {animation > 0 && selectedValues.length > 0 && (\n          <WandSparkles\n            className={cn(\n              'cursor-pointer my-2 text-foreground bg-background w-3 h-3',\n              isAnimating ? '' : 'text-muted-foreground',\n            )}\n            onClick={() => setIsAnimating(!isAnimating)}\n          />\n        )}\n      </Popover>\n    );\n  },\n);\n\nMultiSelect.displayName = 'MultiSelect';\n","'use client';\n\nimport * as ProgressPrimitive from '@radix-ui/react-progress';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      'relative h-4 w-full overflow-hidden rounded-full bg-secondary',\n      className,\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n","import * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement> & { rootClassName?: string }\n>(({ className, rootClassName, ...props }, ref) => (\n  <div\n    className={cn(\n      'relative w-full overflow-auto rounded-2xl bg-background-card',\n      rootClassName,\n    )}\n  >\n    <table\n      ref={ref}\n      className={cn('w-full caption-bottom text-sm ', className)}\n      {...props}\n    />\n  </div>\n));\nTable.displayName = 'Table';\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead\n    ref={ref}\n    className={cn('[&_tr]:border-b top-0 sticky', className)}\n    {...props}\n  />\n));\nTableHeader.displayName = 'TableHeader';\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn('[&_tr:last-child]:border-0', className)}\n    {...props}\n  />\n));\nTableBody.displayName = 'TableBody';\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      'border-t bg-muted/50 font-medium [&>tr]:last:border-b-0',\n      className,\n    )}\n    {...props}\n  />\n));\nTableFooter.displayName = 'TableFooter';\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      'border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted',\n      className,\n    )}\n    {...props}\n  />\n));\nTableRow.displayName = 'TableRow';\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      'h-12 px-4 text-left align-middle font-normal text-text-sub-title [&:has([role=checkbox])]:pr-0',\n      className,\n    )}\n    {...props}\n  />\n));\nTableHead.displayName = 'TableHead';\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      'p-4 align-middle [&:has([role=checkbox])]:pr-0 text-text-title font-normal',\n      className,\n    )}\n    {...props}\n  />\n));\nTableCell.displayName = 'TableCell';\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn('mt-4 text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nTableCaption.displayName = 'TableCaption';\n\nexport {\n  Table,\n  TableBody,\n  TableCaption,\n  TableCell,\n  TableFooter,\n  TableHead,\n  TableHeader,\n  TableRow,\n};\n","import { ResponseType } from '@/interfaces/database/base';\nimport { IFolder } from '@/interfaces/database/file-manager';\nimport { IConnectRequestBody } from '@/interfaces/request/file-manager';\nimport fileManagerService from '@/services/file-manager-service';\nimport { downloadFileFromBlob } from '@/utils/file-util';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { PaginationProps, UploadFile, message } from 'antd';\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSearchParams } from 'umi';\nimport {\n  useGetPaginationWithRouter,\n  useHandleSearchChange,\n} from './logic-hooks';\nimport { useSetPaginationParams } from './route-hook';\n\nexport const useGetFolderId = () => {\n  const [searchParams] = useSearchParams();\n  const id = searchParams.get('folderId') as string;\n\n  return id ?? '';\n};\n\nexport interface IListResult {\n  searchString: string;\n  handleInputChange: React.ChangeEventHandler<HTMLInputElement>;\n  pagination: PaginationProps;\n  setPagination: (pagination: { page: number; pageSize: number }) => void;\n  loading: boolean;\n}\n\nexport const useFetchPureFileList = () => {\n  const { mutateAsync, isPending: loading } = useMutation({\n    mutationKey: ['fetchPureFileList'],\n    gcTime: 0,\n\n    mutationFn: async (parentId: string) => {\n      const { data } = await fileManagerService.listFile({\n        parent_id: parentId,\n      });\n\n      return data;\n    },\n  });\n\n  return { loading, fetchList: mutateAsync };\n};\n\nexport const useFetchFileList = (): ResponseType<any> & IListResult => {\n  const { searchString, handleInputChange } = useHandleSearchChange();\n  const { pagination, setPagination } = useGetPaginationWithRouter();\n  const id = useGetFolderId();\n\n  const { data, isFetching: loading } = useQuery({\n    queryKey: [\n      'fetchFileList',\n      {\n        id,\n        searchString,\n        ...pagination,\n      },\n    ],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await fileManagerService.listFile({\n        parent_id: id,\n        keywords: searchString,\n        page_size: pagination.pageSize,\n        page: pagination.current,\n      });\n\n      return data;\n    },\n  });\n\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = useCallback(\n    (e) => {\n      setPagination({ page: 1 });\n      handleInputChange(e);\n    },\n    [handleInputChange, setPagination],\n  );\n\n  return {\n    ...data,\n    searchString,\n    handleInputChange: onInputChange,\n    pagination: { ...pagination, total: data?.data?.total },\n    setPagination,\n    loading,\n  };\n};\n\nexport const useDeleteFile = () => {\n  const { setPaginationParams } = useSetPaginationParams();\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteFile'],\n    mutationFn: async (params: { fileIds: string[]; parentId: string }) => {\n      const { data } = await fileManagerService.removeFile(params);\n      if (data.code === 0) {\n        setPaginationParams(1); // TODO: There should be a better way to paginate the request list\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, deleteFile: mutateAsync };\n};\n\nexport const useDownloadFile = () => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['downloadFile'],\n    mutationFn: async (params: { id: string; filename?: string }) => {\n      const response = await fileManagerService.getFile({}, params.id);\n      const blob = new Blob([response.data], { type: response.data.type });\n      downloadFileFromBlob(blob, params.filename);\n    },\n  });\n  return { data, loading, downloadFile: mutateAsync };\n};\n\nexport const useRenameFile = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['renameFile'],\n    mutationFn: async (params: { fileId: string; name: string }) => {\n      const { data } = await fileManagerService.renameFile(params);\n      if (data.code === 0) {\n        message.success(t('message.renamed'));\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, renameFile: mutateAsync };\n};\n\nexport const useFetchParentFolderList = (): IFolder[] => {\n  const id = useGetFolderId();\n  const { data } = useQuery({\n    queryKey: ['fetchParentFolderList', id],\n    initialData: [],\n    enabled: !!id,\n    queryFn: async () => {\n      const { data } = await fileManagerService.getAllParentFolder({\n        fileId: id,\n      });\n\n      return data?.data?.parent_folders?.toReversed() ?? [];\n    },\n  });\n\n  return data;\n};\n\nexport const useCreateFolder = () => {\n  const { setPaginationParams } = useSetPaginationParams();\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['createFolder'],\n    mutationFn: async (params: { parentId: string; name: string }) => {\n      const { data } = await fileManagerService.createFolder({\n        ...params,\n        type: 'folder',\n      });\n      if (data.code === 0) {\n        message.success(t('message.created'));\n        setPaginationParams(1);\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, createFolder: mutateAsync };\n};\n\nexport const useUploadFile = () => {\n  const { setPaginationParams } = useSetPaginationParams();\n  const { t } = useTranslation();\n  const queryClient = useQueryClient();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['uploadFile'],\n    mutationFn: async (params: {\n      fileList: UploadFile[];\n      parentId: string;\n    }) => {\n      const fileList = params.fileList;\n      const pathList = params.fileList.map(\n        (file) => (file as any).webkitRelativePath,\n      );\n      const formData = new FormData();\n      formData.append('parent_id', params.parentId);\n      fileList.forEach((file: any, index: number) => {\n        formData.append('file', file);\n        formData.append('path', pathList[index]);\n      });\n      try {\n        const ret = await fileManagerService.uploadFile(formData);\n        if (ret?.data.code === 0) {\n          message.success(t('message.uploaded'));\n          setPaginationParams(1);\n          queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n        }\n        return ret?.data?.code;\n      } catch (error) {\n        console.log('🚀 ~ useUploadFile ~ error:', error);\n      }\n    },\n  });\n\n  return { data, loading, uploadFile: mutateAsync };\n};\n\nexport const useConnectToKnowledge = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['connectFileToKnowledge'],\n    mutationFn: async (params: IConnectRequestBody) => {\n      const { data } = await fileManagerService.connectFileToKnowledge(params);\n      if (data.code === 0) {\n        message.success(t('message.operated'));\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, connectFileToKnowledge: mutateAsync };\n};\n\nexport interface IMoveFileBody {\n  src_file_ids: string[];\n  dest_file_id: string; // target folder id\n}\n\nexport const useMoveFile = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['moveFile'],\n    mutationFn: async (params: IMoveFileBody) => {\n      const { data } = await fileManagerService.moveFile(params);\n      if (data.code === 0) {\n        message.success(t('message.operated'));\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, moveFile: mutateAsync };\n};\n","import { Routes } from '@/routes';\nimport { useCallback } from 'react';\nimport { useNavigate, useParams, useSearchParams } from 'umi';\n\nexport enum QueryStringMap {\n  KnowledgeId = 'knowledgeId',\n}\n\nexport const useNavigatePage = () => {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const { id } = useParams();\n\n  const navigateToDatasetList = useCallback(() => {\n    navigate(Routes.Datasets);\n  }, [navigate]);\n\n  const navigateToDataset = useCallback(\n    (id: string) => () => {\n      navigate(`${Routes.Dataset}/${id}`);\n    },\n    [navigate],\n  );\n\n  const navigateToHome = useCallback(() => {\n    navigate(Routes.Home);\n  }, [navigate]);\n\n  const navigateToProfile = useCallback(() => {\n    navigate(Routes.ProfileSetting);\n  }, [navigate]);\n\n  const navigateToChatList = useCallback(() => {\n    navigate(Routes.Chats);\n  }, [navigate]);\n\n  const navigateToChat = useCallback(() => {\n    navigate(Routes.Chat);\n  }, [navigate]);\n\n  const navigateToAgentList = useCallback(() => {\n    navigate(Routes.Agents);\n  }, [navigate]);\n\n  const navigateToAgent = useCallback(\n    (id: string) => () => {\n      navigate(`${Routes.Agent}/${id}`);\n    },\n    [navigate],\n  );\n\n  const navigateToAgentTemplates = useCallback(() => {\n    navigate(Routes.AgentTemplates);\n  }, [navigate]);\n\n  const navigateToSearchList = useCallback(() => {\n    navigate(Routes.Searches);\n  }, [navigate]);\n\n  const navigateToSearch = useCallback(() => {\n    navigate(Routes.Search);\n  }, [navigate]);\n\n  const navigateToChunkParsedResult = useCallback(\n    (id: string, knowledgeId?: string) => () => {\n      navigate(\n        // `${Routes.ParsedResult}/${id}?${QueryStringMap.KnowledgeId}=${knowledgeId}`,\n        `${Routes.ParsedResult}/chunks?id=${knowledgeId}&doc_id=${id}`,\n      );\n    },\n    [navigate],\n  );\n\n  const getQueryString = useCallback(\n    (queryStringKey?: QueryStringMap) => {\n      const allQueryString = {\n        [QueryStringMap.KnowledgeId]: searchParams.get(\n          QueryStringMap.KnowledgeId,\n        ),\n      };\n      if (queryStringKey) {\n        return allQueryString[queryStringKey];\n      }\n      return allQueryString;\n    },\n    [searchParams],\n  );\n\n  const navigateToChunk = useCallback(\n    (route: Routes) => {\n      navigate(\n        `${route}/${id}?${QueryStringMap.KnowledgeId}=${getQueryString(QueryStringMap.KnowledgeId)}`,\n      );\n    },\n    [getQueryString, id, navigate],\n  );\n\n  const navigateToFiles = useCallback(\n    (folderId?: string) => {\n      navigate(`${Routes.Files}?folderId=${folderId}`);\n    },\n    [navigate],\n  );\n\n  return {\n    navigateToDatasetList,\n    navigateToDataset,\n    navigateToHome,\n    navigateToProfile,\n    navigateToChatList,\n    navigateToChat,\n    navigateToChunkParsedResult,\n    getQueryString,\n    navigateToChunk,\n    navigateToAgentList,\n    navigateToAgent,\n    navigateToAgentTemplates,\n    navigateToSearchList,\n    navigateToSearch,\n    navigateToFiles,\n  };\n};\n","import { RowSelectionState } from '@tanstack/react-table';\nimport { isEmpty } from 'lodash';\nimport { useCallback, useMemo, useState } from 'react';\n\nexport function useRowSelection() {\n  const [rowSelection, setRowSelection] = useState<RowSelectionState>({});\n\n  const clearRowSelection = useCallback(() => {\n    setRowSelection({});\n  }, []);\n\n  const selectedCount = useMemo(() => {\n    return Object.keys(rowSelection).length;\n  }, [rowSelection]);\n\n  return {\n    rowSelection,\n    setRowSelection,\n    rowSelectionIsEmpty: isEmpty(rowSelection),\n    clearRowSelection,\n    selectedCount,\n  };\n}\n\nexport type UseRowSelectionType = ReturnType<typeof useRowSelection>;\n\nexport function useSelectedIds<T extends Array<{ id: string }>>(\n  rowSelection: RowSelectionState,\n  list: T,\n) {\n  const selectedIds = useMemo(() => {\n    const indexes = Object.keys(rowSelection);\n    return list\n      .filter((x, idx) => indexes.some((y) => Number(y) === idx))\n      .map((x) => x.id);\n  }, [list, rowSelection]);\n\n  return { selectedIds };\n}\n","import {\n  IFetchFileListResult,\n  IFolder,\n} from '@/interfaces/database/file-manager';\nimport fileManagerService from '@/services/file-manager-service';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { useDebounce } from 'ahooks';\nimport { PaginationProps, message } from 'antd';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSearchParams } from 'umi';\nimport {\n  useGetPaginationWithRouter,\n  useHandleSearchChange,\n} from './logic-hooks';\nimport { useSetPaginationParams } from './route-hook';\n\nexport const enum FileApiAction {\n  UploadFile = 'uploadFile',\n  FetchFileList = 'fetchFileList',\n  MoveFile = 'moveFile',\n  CreateFolder = 'createFolder',\n  FetchParentFolderList = 'fetchParentFolderList',\n  DeleteFile = 'deleteFile',\n}\n\nexport const useGetFolderId = () => {\n  const [searchParams] = useSearchParams();\n  const id = searchParams.get('folderId') as string;\n\n  return id ?? '';\n};\n\nexport const useUploadFile = () => {\n  const { setPaginationParams } = useSetPaginationParams();\n  const { t } = useTranslation();\n  const queryClient = useQueryClient();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: [FileApiAction.UploadFile],\n    mutationFn: async (params: { fileList: File[]; parentId: string }) => {\n      const fileList = params.fileList;\n      const pathList = params.fileList.map(\n        (file) => (file as any).webkitRelativePath,\n      );\n      const formData = new FormData();\n      formData.append('parent_id', params.parentId);\n      fileList.forEach((file: any, index: number) => {\n        formData.append('file', file);\n        formData.append('path', pathList[index]);\n      });\n      try {\n        const ret = await fileManagerService.uploadFile(formData);\n        if (ret?.data.code === 0) {\n          message.success(t('message.uploaded'));\n          setPaginationParams(1);\n          queryClient.invalidateQueries({\n            queryKey: [FileApiAction.FetchFileList],\n          });\n        }\n        return ret?.data?.code;\n      } catch (error) {}\n    },\n  });\n\n  return { data, loading, uploadFile: mutateAsync };\n};\n\nexport interface IMoveFileBody {\n  src_file_ids: string[];\n  dest_file_id: string; // target folder id\n}\n\nexport const useMoveFile = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: [FileApiAction.MoveFile],\n    mutationFn: async (params: IMoveFileBody) => {\n      const { data } = await fileManagerService.moveFile(params);\n      if (data.code === 0) {\n        message.success(t('message.operated'));\n        queryClient.invalidateQueries({\n          queryKey: [FileApiAction.FetchFileList],\n        });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, moveFile: mutateAsync };\n};\n\nexport const useCreateFolder = () => {\n  const { setPaginationParams } = useSetPaginationParams();\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: [FileApiAction.CreateFolder],\n    mutationFn: async (params: { parentId: string; name: string }) => {\n      const { data } = await fileManagerService.createFolder({\n        ...params,\n        type: 'folder',\n      });\n      if (data.code === 0) {\n        message.success(t('message.created'));\n        setPaginationParams(1);\n        queryClient.invalidateQueries({\n          queryKey: [FileApiAction.FetchFileList],\n        });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, createFolder: mutateAsync };\n};\n\nexport const useFetchParentFolderList = () => {\n  const id = useGetFolderId();\n  const { data } = useQuery<IFolder[]>({\n    queryKey: [FileApiAction.FetchParentFolderList, id],\n    initialData: [],\n    enabled: !!id,\n    queryFn: async () => {\n      const { data } = await fileManagerService.getAllParentFolder({\n        fileId: id,\n      });\n\n      return data?.data?.parent_folders?.toReversed() ?? [];\n    },\n  });\n\n  return data;\n};\n\nexport interface IListResult {\n  searchString: string;\n  handleInputChange: React.ChangeEventHandler<HTMLInputElement>;\n  pagination: PaginationProps;\n  setPagination: (pagination: { page: number; pageSize: number }) => void;\n  loading: boolean;\n}\n\nexport const useFetchFileList = () => {\n  const { searchString, handleInputChange } = useHandleSearchChange();\n  const { pagination, setPagination } = useGetPaginationWithRouter();\n  const id = useGetFolderId();\n  const debouncedSearchString = useDebounce(searchString, { wait: 500 });\n\n  const { data, isFetching: loading } = useQuery<IFetchFileListResult>({\n    queryKey: [\n      FileApiAction.FetchFileList,\n      {\n        id,\n        debouncedSearchString,\n        ...pagination,\n      },\n    ],\n    initialData: { files: [], parent_folder: {} as IFolder, total: 0 },\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await fileManagerService.listFile({\n        parent_id: id,\n        keywords: debouncedSearchString,\n        page_size: pagination.pageSize,\n        page: pagination.current,\n      });\n\n      return data?.data;\n    },\n  });\n\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = useCallback(\n    (e) => {\n      setPagination({ page: 1 });\n      handleInputChange(e);\n    },\n    [handleInputChange, setPagination],\n  );\n\n  return {\n    ...data,\n    searchString,\n    handleInputChange: onInputChange,\n    pagination: { ...pagination, total: data?.total },\n    setPagination,\n    loading,\n  };\n};\n\nexport const useDeleteFile = () => {\n  const { setPaginationParams } = useSetPaginationParams();\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: [FileApiAction.DeleteFile],\n    mutationFn: async (params: { fileIds: string[]; parentId: string }) => {\n      const { data } = await fileManagerService.removeFile(params);\n      if (data.code === 0) {\n        message.success(t('message.deleted'));\n        setPaginationParams(1); // TODO: There should be a better way to paginate the request list\n        queryClient.invalidateQueries({\n          queryKey: [FileApiAction.FetchFileList],\n        });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, deleteFile: mutateAsync };\n};\n","'use client';\n\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { useForm } from 'react-hook-form';\nimport { z } from 'zod';\n\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { IModalProps } from '@/interfaces/common';\nimport { TagRenameId } from '@/pages/add-knowledge/constant';\nimport { useTranslation } from 'react-i18next';\n\nexport function CreateFolderForm({ hideModal, onOk }: IModalProps<any>) {\n  const { t } = useTranslation();\n  const FormSchema = z.object({\n    name: z\n      .string()\n      .min(1, {\n        message: t('common.namePlaceholder'),\n      })\n      .trim(),\n  });\n\n  const form = useForm<z.infer<typeof FormSchema>>({\n    resolver: zodResolver(FormSchema),\n    defaultValues: { name: '' },\n  });\n\n  async function onSubmit(data: z.infer<typeof FormSchema>) {\n    const ret = await onOk?.(data.name);\n    if (ret) {\n      hideModal?.();\n    }\n  }\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(onSubmit)}\n        className=\"space-y-6\"\n        id={TagRenameId}\n      >\n        <FormField\n          control={form.control}\n          name=\"name\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>{t('common.name')}</FormLabel>\n              <FormControl>\n                <Input\n                  placeholder={t('common.namePlaceholder')}\n                  {...field}\n                  autoComplete=\"off\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n      </form>\n    </Form>\n  );\n}\n","import {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { LoadingButton } from '@/components/ui/loading-button';\nimport { IModalProps } from '@/interfaces/common';\nimport { TagRenameId } from '@/pages/add-knowledge/constant';\nimport { useTranslation } from 'react-i18next';\nimport { CreateFolderForm } from './create-folder-form';\n\nexport function CreateFolderDialog({\n  hideModal,\n  onOk,\n  loading,\n}: IModalProps<any>) {\n  const { t } = useTranslation();\n\n  return (\n    <Dialog open onOpenChange={hideModal}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>{t('fileManager.newFolder')}</DialogTitle>\n        </DialogHeader>\n        <CreateFolderForm hideModal={hideModal} onOk={onOk}></CreateFolderForm>\n        <DialogFooter>\n          <LoadingButton type=\"submit\" form={TagRenameId} loading={loading}>\n            {t('common.save')}\n          </LoadingButton>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { Slot } from '@radix-ui/react-slot';\nimport { ChevronRight, MoreHorizontal } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<'nav'> & {\n    separator?: React.ReactNode;\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />);\nBreadcrumb.displayName = 'Breadcrumb';\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<'ol'>\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      'flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5',\n      className,\n    )}\n    {...props}\n  />\n));\nBreadcrumbList.displayName = 'BreadcrumbList';\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<'li'>\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn('inline-flex items-center gap-1.5', className)}\n    {...props}\n  />\n));\nBreadcrumbItem.displayName = 'BreadcrumbItem';\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<'a'> & {\n    asChild?: boolean;\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : 'a';\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn('transition-colors hover:text-foreground', className)}\n      {...props}\n    />\n  );\n});\nBreadcrumbLink.displayName = 'BreadcrumbLink';\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<'span'>\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn('font-normal text-foreground', className)}\n    {...props}\n  />\n));\nBreadcrumbPage.displayName = 'BreadcrumbPage';\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<'li'>) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn('[&>svg]:w-3.5 [&>svg]:h-3.5', className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n);\nBreadcrumbSeparator.displayName = 'BreadcrumbSeparator';\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn('flex h-9 w-9 items-center justify-center', className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n);\nBreadcrumbEllipsis.displayName = 'BreadcrumbElipssis';\n\nexport {\n  Breadcrumb,\n  BreadcrumbEllipsis,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n};\n","import { useNavigatePage } from '@/hooks/logic-hooks/navigate-hooks';\nimport { useFetchParentFolderList } from '@/hooks/use-file-request';\nimport { Routes } from '@/routes';\nimport { useCallback } from 'react';\n\nexport const useNavigateToOtherFolder = () => {\n  const { navigateToFiles } = useNavigatePage();\n\n  const navigateToOtherFolder = useCallback(\n    (folderId: string) => {\n      navigateToFiles(folderId);\n    },\n    [navigateToFiles],\n  );\n\n  return navigateToOtherFolder;\n};\n\nexport const useSelectBreadcrumbItems = () => {\n  const parentFolderList = useFetchParentFolderList();\n\n  return parentFolderList.length === 1\n    ? []\n    : parentFolderList.map((x) => ({\n        title: x.name === '/' ? 'root' : x.name,\n        path: `${Routes.Files}?folderId=${x.id}`,\n      }));\n};\n","import {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n} from '@/components/ui/breadcrumb';\nimport { useNavigate } from 'umi';\nimport { useSelectBreadcrumbItems } from './use-navigate-to-folder';\n\nexport function FileBreadcrumb() {\n  const breadcrumbItems = useSelectBreadcrumbItems();\n  const navigate = useNavigate();\n  return (\n    <Breadcrumb>\n      <BreadcrumbList>\n        {breadcrumbItems.map((x, idx) => (\n          <div key={x.path} className=\"flex items-center gap-2\">\n            {idx !== 0 && <BreadcrumbSeparator />}\n            <BreadcrumbItem\n              key={x.path}\n              onClick={() => navigate(x.path)}\n              className=\"cursor-pointer\"\n            >\n              {idx === breadcrumbItems.length - 1 ? (\n                <BreadcrumbPage>{x.title}</BreadcrumbPage>\n              ) : (\n                x.title\n              )}\n            </BreadcrumbItem>\n          </div>\n        ))}\n      </BreadcrumbList>\n    </Breadcrumb>\n  );\n}\n","export function isFolderType(type: string) {\n  return type === 'folder';\n}\n","import { ConfirmDeleteDialog } from '@/components/confirm-delete-dialog';\nimport NewDocumentLink from '@/components/new-document-link';\nimport { Button } from '@/components/ui/button';\nimport { useDownloadFile } from '@/hooks/file-manager-hooks';\nimport { IFile } from '@/interfaces/database/file-manager';\nimport {\n  getExtension,\n  isSupportedPreviewDocumentType,\n} from '@/utils/document-util';\nimport { CellContext } from '@tanstack/react-table';\nimport {\n  ArrowDownToLine,\n  Eye,\n  FolderInput,\n  FolderPen,\n  Link2,\n  Trash2,\n} from 'lucide-react';\nimport { useCallback } from 'react';\nimport {\n  UseHandleConnectToKnowledgeReturnType,\n  UseRenameCurrentFileReturnType,\n} from './hooks';\nimport { UseMoveDocumentShowType } from './use-move-file';\nimport { isFolderType } from './util';\n\ntype IProps = Pick<CellContext<IFile, unknown>, 'row'> &\n  Pick<UseHandleConnectToKnowledgeReturnType, 'showConnectToKnowledgeModal'> &\n  Pick<UseRenameCurrentFileReturnType, 'showFileRenameModal'> &\n  UseMoveDocumentShowType;\n\nexport function ActionCell({\n  row,\n  showConnectToKnowledgeModal,\n  showFileRenameModal,\n  showMoveFileModal,\n}: IProps) {\n  const record = row.original;\n  const documentId = record.id;\n  const { downloadFile } = useDownloadFile();\n  const isFolder = isFolderType(record.type);\n  const extension = getExtension(record.name);\n\n  const handleShowConnectToKnowledgeModal = useCallback(() => {\n    showConnectToKnowledgeModal(record);\n  }, [record, showConnectToKnowledgeModal]);\n\n  const onDownloadDocument = useCallback(() => {\n    downloadFile({\n      id: documentId,\n      filename: record.name,\n    });\n  }, [documentId, downloadFile, record.name]);\n\n  const handleShowFileRenameModal = useCallback(() => {\n    showFileRenameModal(record);\n  }, [record, showFileRenameModal]);\n\n  const handleShowMoveFileModal = useCallback(() => {\n    showMoveFileModal([record.id]);\n  }, [record, showMoveFileModal]);\n\n  return (\n    <section className=\"flex gap-4 items-center text-text-sub-title-invert\">\n      <Button\n        variant=\"ghost\"\n        size={'sm'}\n        onClick={handleShowConnectToKnowledgeModal}\n      >\n        <Link2 />\n      </Button>\n      <Button variant=\"ghost\" size={'sm'} onClick={handleShowMoveFileModal}>\n        <FolderInput />\n      </Button>\n\n      <Button variant=\"ghost\" size={'sm'} onClick={handleShowFileRenameModal}>\n        <FolderPen />\n      </Button>\n\n      {isFolder || (\n        <Button variant={'ghost'} size={'sm'} onClick={onDownloadDocument}>\n          <ArrowDownToLine />\n        </Button>\n      )}\n\n      {isSupportedPreviewDocumentType(extension) && (\n        <NewDocumentLink\n          documentId={documentId}\n          documentName={record.name}\n          className=\"text-text-sub-title-invert\"\n        >\n          <Button variant={'ghost'} size={'sm'}>\n            <Eye />\n          </Button>\n        </NewDocumentLink>\n      )}\n\n      {/* <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"ghost\" size={'sm'}>\n            <EllipsisVertical />\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"end\">\n          <DropdownMenuItem onClick={handleShowMoveFileModal}>\n            {t('common.move')}\n          </DropdownMenuItem>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem onClick={handleShowFileRenameModal}>\n            {t('common.rename')}\n          </DropdownMenuItem>\n          <DropdownMenuSeparator />\n          {isFolder || (\n            <DropdownMenuItem onClick={onDownloadDocument}>\n              {t('common.download')}\n            </DropdownMenuItem>\n          )}\n        </DropdownMenuContent>\n      </DropdownMenu> */}\n      <ConfirmDeleteDialog>\n        <Button variant=\"ghost\" size={'sm'}>\n          <Trash2 />\n        </Button>\n      </ConfirmDeleteDialog>\n    </section>\n  );\n}\n","import { useSetModalState } from '@/hooks/common-hooks';\nimport {\n  useConnectToKnowledge,\n  useRenameFile,\n} from '@/hooks/file-manager-hooks';\nimport { IFile } from '@/interfaces/database/file-manager';\nimport { TableRowSelection } from 'antd/es/table/interface';\nimport { useCallback, useMemo, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'umi';\n\nexport const useGetFolderId = () => {\n  const [searchParams] = useSearchParams();\n  const id = searchParams.get('folderId') as string;\n\n  return id ?? '';\n};\n\nexport const useGetRowSelection = () => {\n  const [selectedRowKeys, setSelectedRowKeys] = useState<React.Key[]>([]);\n\n  const rowSelection: TableRowSelection<IFile> = {\n    selectedRowKeys,\n    getCheckboxProps: (record) => {\n      return { disabled: record.source_type === 'knowledgebase' };\n    },\n    onChange: (newSelectedRowKeys: React.Key[]) => {\n      setSelectedRowKeys(newSelectedRowKeys);\n    },\n  };\n\n  return { rowSelection, setSelectedRowKeys };\n};\n\nexport const useRenameCurrentFile = () => {\n  const [file, setFile] = useState<IFile>({} as IFile);\n  const {\n    visible: fileRenameVisible,\n    hideModal: hideFileRenameModal,\n    showModal: showFileRenameModal,\n  } = useSetModalState();\n  const { renameFile, loading } = useRenameFile();\n\n  const onFileRenameOk = useCallback(\n    async (name: string) => {\n      const ret = await renameFile({\n        fileId: file.id,\n        name,\n      });\n\n      if (ret === 0) {\n        hideFileRenameModal();\n      }\n    },\n    [renameFile, file, hideFileRenameModal],\n  );\n\n  const handleShowFileRenameModal = useCallback(\n    async (record: IFile) => {\n      setFile(record);\n      showFileRenameModal();\n    },\n    [showFileRenameModal],\n  );\n\n  return {\n    fileRenameLoading: loading,\n    initialFileName: file.name,\n    onFileRenameOk,\n    fileRenameVisible,\n    hideFileRenameModal,\n    showFileRenameModal: handleShowFileRenameModal,\n  };\n};\n\nexport type UseRenameCurrentFileReturnType = ReturnType<\n  typeof useRenameCurrentFile\n>;\n\nexport const useHandleConnectToKnowledge = () => {\n  const {\n    visible: connectToKnowledgeVisible,\n    hideModal: hideConnectToKnowledgeModal,\n    showModal: showConnectToKnowledgeModal,\n  } = useSetModalState();\n  const { connectFileToKnowledge: connectToKnowledge, loading } =\n    useConnectToKnowledge();\n  const [record, setRecord] = useState<IFile>({} as IFile);\n\n  const initialValue = useMemo(() => {\n    return Array.isArray(record?.kbs_info)\n      ? record?.kbs_info?.map((x) => x.kb_id)\n      : [];\n  }, [record?.kbs_info]);\n\n  const onConnectToKnowledgeOk = useCallback(\n    async (knowledgeIds: string[]) => {\n      const ret = await connectToKnowledge({\n        fileIds: [record.id],\n        kbIds: knowledgeIds,\n      });\n\n      if (ret === 0) {\n        hideConnectToKnowledgeModal();\n      }\n      return ret;\n    },\n    [connectToKnowledge, hideConnectToKnowledgeModal, record.id],\n  );\n\n  const handleShowConnectToKnowledgeModal = useCallback(\n    (record: IFile) => {\n      setRecord(record);\n      showConnectToKnowledgeModal();\n    },\n    [showConnectToKnowledgeModal],\n  );\n\n  return {\n    initialConnectedIds: initialValue,\n    connectToKnowledgeLoading: loading,\n    onConnectToKnowledgeOk,\n    connectToKnowledgeVisible,\n    hideConnectToKnowledgeModal,\n    showConnectToKnowledgeModal: handleShowConnectToKnowledgeModal,\n  };\n};\n\nexport type UseHandleConnectToKnowledgeReturnType = ReturnType<\n  typeof useHandleConnectToKnowledge\n>;\n\nexport const useHandleBreadcrumbClick = () => {\n  const navigate = useNavigate();\n\n  const handleBreadcrumbClick = useCallback(\n    (path?: string) => {\n      if (path) {\n        navigate(path);\n      }\n    },\n    [navigate],\n  );\n\n  return { handleBreadcrumbClick };\n};\n","import { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\n\nimport {\n  HoverCard,\n  HoverCardContent,\n  HoverCardTrigger,\n} from '@/components/ui/hover-card';\nimport { IFile } from '@/interfaces/database/file-manager';\nimport { Ellipsis } from 'lucide-react';\nimport { useCallback } from 'react';\n\nexport function KnowledgeCell({ value }: { value: IFile['kbs_info'] }) {\n  const renderBadges = useCallback((list: IFile['kbs_info'] = []) => {\n    return list.map((x) => (\n      <Badge key={x.kb_id} variant={'secondary'}>\n        {x.kb_name}\n      </Badge>\n    ));\n  }, []);\n\n  return Array.isArray(value) ? (\n    <section className=\"flex gap-2 items-center\">\n      {renderBadges(value?.slice(0, 2))}\n\n      {value.length > 2 && (\n        <HoverCard>\n          <HoverCardTrigger>\n            <Button variant={'ghost'} size={'sm'}>\n              <Ellipsis />\n            </Button>\n          </HoverCardTrigger>\n          <HoverCardContent className=\"flex gap-2 flex-wrap\">\n            {renderBadges(value)}\n          </HoverCardContent>\n        </HoverCard>\n      )}\n    </section>\n  ) : (\n    ''\n  );\n}\n","import { ButtonLoading } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { MultiSelect } from '@/components/ui/multi-select';\nimport { useSelectKnowledgeOptions } from '@/hooks/knowledge-hooks';\nimport { IModalProps } from '@/interfaces/common';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { Link2 } from 'lucide-react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport { z } from 'zod';\nimport { UseHandleConnectToKnowledgeReturnType } from './hooks';\n\nconst FormId = 'LinkToDatasetForm';\n\nconst FormSchema = z.object({\n  knowledgeIds: z.array(z.string()).min(0, {\n    message: 'Username must be at least 1 characters.',\n  }),\n});\n\nfunction LinkToDatasetForm({\n  initialConnectedIds,\n  onConnectToKnowledgeOk,\n}: Pick<\n  UseHandleConnectToKnowledgeReturnType,\n  'initialConnectedIds' | 'onConnectToKnowledgeOk'\n>) {\n  const { t } = useTranslation();\n  const form = useForm<z.infer<typeof FormSchema>>({\n    resolver: zodResolver(FormSchema),\n    defaultValues: {\n      knowledgeIds: initialConnectedIds,\n    },\n  });\n\n  const options = useSelectKnowledgeOptions();\n\n  function onSubmit(data: z.infer<typeof FormSchema>) {\n    onConnectToKnowledgeOk(data.knowledgeIds);\n  }\n\n  //   useEffect(() => {\n  //     form.setValue('knowledgeIds', initialConnectedIds); // this is invalid\n  //   }, [form, initialConnectedIds]);\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(onSubmit)}\n        className=\"space-y-6\"\n        id={FormId}\n      >\n        <FormField\n          control={form.control}\n          name=\"knowledgeIds\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>{t('common.name')}</FormLabel>\n              <FormControl>\n                <MultiSelect\n                  options={options}\n                  onValueChange={field.onChange}\n                  defaultValue={field.value}\n                  placeholder={t('fileManager.pleaseSelect')}\n                  maxCount={100}\n                  //   {...field}\n                  modalPopover\n                />\n              </FormControl>\n\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n      </form>\n    </Form>\n  );\n}\n\nexport function LinkToDatasetDialog({\n  hideModal,\n  initialConnectedIds,\n  onConnectToKnowledgeOk,\n  loading,\n}: IModalProps<any> &\n  Pick<\n    UseHandleConnectToKnowledgeReturnType,\n    'initialConnectedIds' | 'onConnectToKnowledgeOk'\n  >) {\n  const { t } = useTranslation();\n  return (\n    <Dialog open onOpenChange={hideModal}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>{t('fileManager.addToKnowledge')}</DialogTitle>\n        </DialogHeader>\n        <LinkToDatasetForm\n          initialConnectedIds={initialConnectedIds}\n          onConnectToKnowledgeOk={onConnectToKnowledgeOk}\n        ></LinkToDatasetForm>\n        <DialogFooter>\n          <ButtonLoading type=\"submit\" form={FormId} loading={loading}>\n            <div className=\"flex gap-2 items-center\">\n              <Link2 /> Save\n            </div>\n          </ButtonLoading>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","'use client';\n\nimport {\n  ColumnDef,\n  ColumnFiltersState,\n  SortingState,\n  VisibilityState,\n  flexRender,\n  getCoreRowModel,\n  getFilteredRowModel,\n  getSortedRowModel,\n  useReactTable,\n} from '@tanstack/react-table';\nimport { ArrowUpDown } from 'lucide-react';\nimport * as React from 'react';\n\nimport { FileIcon } from '@/components/icon-font';\nimport { RenameDialog } from '@/components/rename-dialog';\nimport { TableEmpty, TableSkeleton } from '@/components/table-skeleton';\nimport { Button } from '@/components/ui/button';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RAGFlowPagination } from '@/components/ui/ragflow-pagination';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from '@/components/ui/tooltip';\nimport { UseRowSelectionType } from '@/hooks/logic-hooks/use-row-selection';\nimport { useFetchFileList } from '@/hooks/use-file-request';\nimport { IFile } from '@/interfaces/database/file-manager';\nimport { cn } from '@/lib/utils';\nimport { formatFileSize } from '@/utils/common-util';\nimport { formatDate } from '@/utils/date';\nimport { pick } from 'lodash';\nimport { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ActionCell } from './action-cell';\nimport { useHandleConnectToKnowledge, useRenameCurrentFile } from './hooks';\nimport { KnowledgeCell } from './knowledge-cell';\nimport { LinkToDatasetDialog } from './link-to-dataset-dialog';\nimport { UseMoveDocumentShowType } from './use-move-file';\nimport { useNavigateToOtherFolder } from './use-navigate-to-folder';\nimport { isFolderType } from './util';\n\ntype FilesTableProps = Pick<\n  ReturnType<typeof useFetchFileList>,\n  'files' | 'loading' | 'pagination' | 'setPagination' | 'total'\n> &\n  Pick<UseRowSelectionType, 'rowSelection' | 'setRowSelection'> &\n  UseMoveDocumentShowType;\n\nexport function FilesTable({\n  files,\n  total,\n  pagination,\n  setPagination,\n  loading,\n  rowSelection,\n  setRowSelection,\n  showMoveFileModal,\n}: FilesTableProps) {\n  const [sorting, setSorting] = React.useState<SortingState>([]);\n  const [columnFilters, setColumnFilters] = React.useState<ColumnFiltersState>(\n    [],\n  );\n  const [columnVisibility, setColumnVisibility] =\n    React.useState<VisibilityState>({});\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'fileManager',\n  });\n  const navigateToOtherFolder = useNavigateToOtherFolder();\n  const {\n    connectToKnowledgeVisible,\n    hideConnectToKnowledgeModal,\n    showConnectToKnowledgeModal,\n    initialConnectedIds,\n    onConnectToKnowledgeOk,\n    connectToKnowledgeLoading,\n  } = useHandleConnectToKnowledge();\n  const {\n    fileRenameVisible,\n    showFileRenameModal,\n    hideFileRenameModal,\n    onFileRenameOk,\n    initialFileName,\n    fileRenameLoading,\n  } = useRenameCurrentFile();\n\n  const columns: ColumnDef<IFile>[] = [\n    {\n      id: 'select',\n      header: ({ table }) => (\n        <Checkbox\n          checked={\n            table.getIsAllPageRowsSelected() ||\n            (table.getIsSomePageRowsSelected() && 'indeterminate')\n          }\n          onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n          aria-label=\"Select all\"\n        />\n      ),\n      cell: ({ row }) => (\n        <Checkbox\n          checked={row.getIsSelected()}\n          onCheckedChange={(value) => row.toggleSelected(!!value)}\n          aria-label=\"Select row\"\n        />\n      ),\n      enableSorting: false,\n      enableHiding: false,\n    },\n    {\n      accessorKey: 'name',\n      header: ({ column }) => {\n        return (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n          >\n            {t('name')}\n            <ArrowUpDown />\n          </Button>\n        );\n      },\n      meta: { cellClassName: 'max-w-[20vw]' },\n      cell: ({ row }) => {\n        const name: string = row.getValue('name');\n        const type = row.original.type;\n        const id = row.original.id;\n        const isFolder = isFolderType(type);\n\n        const handleNameClick = () => {\n          if (isFolder) {\n            navigateToOtherFolder(id);\n          }\n        };\n\n        return (\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <div className=\"flex gap-2\">\n                <span className=\"size-4\">\n                  <FileIcon name={name} type={type}></FileIcon>\n                </span>\n                <span\n                  className={cn('truncate', { ['cursor-pointer']: isFolder })}\n                  onClick={handleNameClick}\n                >\n                  {name}\n                </span>\n              </div>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>{name}</p>\n            </TooltipContent>\n          </Tooltip>\n        );\n      },\n    },\n    {\n      accessorKey: 'create_time',\n      header: ({ column }) => {\n        return (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n          >\n            {t('uploadDate')}\n            <ArrowUpDown />\n          </Button>\n        );\n      },\n      cell: ({ row }) => (\n        <div className=\"lowercase\">\n          {formatDate(row.getValue('create_time'))}\n        </div>\n      ),\n    },\n    {\n      accessorKey: 'size',\n      header: ({ column }) => {\n        return (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n          >\n            {t('size')}\n            <ArrowUpDown />\n          </Button>\n        );\n      },\n      cell: ({ row }) => (\n        <div className=\"capitalize\">{formatFileSize(row.getValue('size'))}</div>\n      ),\n    },\n    {\n      accessorKey: 'kbs_info',\n      header: t('knowledgeBase'),\n      cell: ({ row }) => {\n        const value: IFile['kbs_info'] = row.getValue('kbs_info');\n        return <KnowledgeCell value={value}></KnowledgeCell>;\n      },\n    },\n    {\n      id: 'actions',\n      header: t('action'),\n      enableHiding: false,\n      cell: ({ row }) => {\n        return (\n          <ActionCell\n            row={row}\n            showConnectToKnowledgeModal={showConnectToKnowledgeModal}\n            showFileRenameModal={showFileRenameModal}\n            showMoveFileModal={showMoveFileModal}\n          ></ActionCell>\n        );\n      },\n    },\n  ];\n\n  const currentPagination = useMemo(() => {\n    return {\n      pageIndex: (pagination.current || 1) - 1,\n      pageSize: pagination.pageSize || 10,\n    };\n  }, [pagination]);\n\n  const table = useReactTable({\n    data: files || [],\n    columns,\n    onSortingChange: setSorting,\n    onColumnFiltersChange: setColumnFilters,\n    getCoreRowModel: getCoreRowModel(),\n    // getPaginationRowModel: getPaginationRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    onColumnVisibilityChange: setColumnVisibility,\n    onRowSelectionChange: setRowSelection,\n\n    manualPagination: true, //we're doing manual \"server-side\" pagination\n\n    state: {\n      sorting,\n      columnFilters,\n      columnVisibility,\n      rowSelection,\n      pagination: currentPagination,\n    },\n    rowCount: total ?? 0,\n    debugTable: true,\n  });\n\n  return (\n    <div className=\"w-full\">\n      <Table>\n        <TableHeader>\n          {table.getHeaderGroups().map((headerGroup) => (\n            <TableRow key={headerGroup.id}>\n              {headerGroup.headers.map((header) => {\n                return (\n                  <TableHead key={header.id}>\n                    {header.isPlaceholder\n                      ? null\n                      : flexRender(\n                          header.column.columnDef.header,\n                          header.getContext(),\n                        )}\n                  </TableHead>\n                );\n              })}\n            </TableRow>\n          ))}\n        </TableHeader>\n        <TableBody>\n          {loading ? (\n            <TableSkeleton columnsLength={columns.length}></TableSkeleton>\n          ) : table.getRowModel().rows?.length ? (\n            table.getRowModel().rows.map((row) => (\n              <TableRow\n                key={row.id}\n                data-state={row.getIsSelected() && 'selected'}\n              >\n                {row.getVisibleCells().map((cell) => (\n                  <TableCell\n                    key={cell.id}\n                    className={cell.column.columnDef.meta?.cellClassName}\n                  >\n                    {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                  </TableCell>\n                ))}\n              </TableRow>\n            ))\n          ) : (\n            <TableEmpty columnsLength={columns.length}></TableEmpty>\n          )}\n        </TableBody>\n      </Table>\n\n      <div className=\"flex items-center justify-end py-4\">\n        <div className=\"space-x-2\">\n          <RAGFlowPagination\n            {...pick(pagination, 'current', 'pageSize')}\n            total={total}\n            onChange={(page, pageSize) => {\n              setPagination({ page, pageSize });\n            }}\n          ></RAGFlowPagination>\n        </div>\n      </div>\n      {connectToKnowledgeVisible && (\n        <LinkToDatasetDialog\n          hideModal={hideConnectToKnowledgeModal}\n          initialConnectedIds={initialConnectedIds}\n          onConnectToKnowledgeOk={onConnectToKnowledgeOk}\n          loading={connectToKnowledgeLoading}\n        ></LinkToDatasetDialog>\n      )}\n      {fileRenameVisible && (\n        <RenameDialog\n          hideModal={hideFileRenameModal}\n          onOk={onFileRenameOk}\n          initialName={initialFileName}\n          loading={fileRenameLoading}\n        ></RenameDialog>\n      )}\n    </div>\n  );\n}\n","import {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\nimport { isEmpty } from 'lodash';\nimport { ChevronDown, ChevronRight, Loader2 } from 'lucide-react';\nimport { ReactNode, useCallback, useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from './button';\n\ntype TreeId = number | string;\n\nexport type TreeNodeType = {\n  id: TreeId;\n  title: ReactNode;\n  parentId: TreeId;\n  isLeaf?: boolean;\n};\n\ntype AsyncTreeSelectProps = {\n  treeData: TreeNodeType[];\n  value?: TreeId;\n  onChange?(value: TreeId): void;\n  loadData?(node: TreeNodeType): Promise<any>;\n};\n\nexport function AsyncTreeSelect({\n  treeData,\n  value,\n  loadData,\n  onChange,\n}: AsyncTreeSelectProps) {\n  const [open, setOpen] = useState(false);\n  const { t } = useTranslation();\n\n  const [expandedKeys, setExpandedKeys] = useState<TreeId[]>([]);\n  const [loadingId, setLoadingId] = useState<TreeId>('');\n\n  const selectedTitle = useMemo(() => {\n    return treeData.find((x) => x.id === value)?.title;\n  }, [treeData, value]);\n\n  const isExpanded = useCallback(\n    (id: TreeId | undefined) => {\n      if (id === undefined) {\n        return true;\n      }\n      return expandedKeys.indexOf(id) !== -1;\n    },\n    [expandedKeys],\n  );\n\n  const handleNodeClick = useCallback(\n    (id: TreeId) => (e: React.MouseEvent<HTMLLIElement>) => {\n      e.stopPropagation();\n      onChange?.(id);\n      setOpen(false);\n    },\n    [onChange],\n  );\n\n  const handleArrowClick = useCallback(\n    (node: TreeNodeType) => async (e: React.MouseEvent<HTMLButtonElement>) => {\n      e.stopPropagation();\n      const { id } = node;\n      if (isExpanded(id)) {\n        setExpandedKeys((keys) => {\n          return keys.filter((x) => x !== id);\n        });\n      } else {\n        const hasChild = treeData.some((x) => x.parentId === id);\n        setExpandedKeys((keys) => {\n          return [...keys, id];\n        });\n\n        if (!hasChild) {\n          setLoadingId(id);\n          await loadData?.(node);\n          setLoadingId('');\n        }\n      }\n    },\n    [isExpanded, loadData, treeData],\n  );\n\n  const renderNodes = useCallback(\n    (parentId?: TreeId) => {\n      const currentLevelList = parentId\n        ? treeData.filter((x) => x.parentId === parentId)\n        : treeData.filter((x) => treeData.every((y) => x.parentId !== y.id));\n\n      if (currentLevelList.length === 0) return null;\n\n      return (\n        <ul className={cn('pl-2', { hidden: !isExpanded(parentId) })}>\n          {currentLevelList.map((x) => (\n            <li\n              key={x.id}\n              onClick={handleNodeClick(x.id)}\n              className=\"cursor-pointer  \"\n            >\n              <div\n                className={cn(\n                  'flex justify-between items-center hover:bg-accent py-0.5 px-1 rounded-md ',\n                  { 'bg-cyan-50': value === x.id },\n                )}\n              >\n                <span className={cn('flex-1 ')}>{x.title}</span>\n                {x.isLeaf || (\n                  <Button\n                    variant={'ghost'}\n                    className=\"size-7\"\n                    onClick={handleArrowClick(x)}\n                    disabled={loadingId === x.id}\n                  >\n                    {loadingId === x.id ? (\n                      <Loader2 className=\"animate-spin\" />\n                    ) : isExpanded(x.id) ? (\n                      <ChevronDown />\n                    ) : (\n                      <ChevronRight />\n                    )}\n                  </Button>\n                )}\n              </div>\n              {renderNodes(x.id)}\n            </li>\n          ))}\n        </ul>\n      );\n    },\n    [handleArrowClick, handleNodeClick, isExpanded, loadingId, treeData, value],\n  );\n\n  useEffect(() => {\n    if (isEmpty(treeData)) {\n      loadData?.({ id: '', parentId: '', title: '' });\n    }\n  }, [loadData, treeData]);\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <div className=\"flex justify-between border px-2 py-1.5 rounded-md gap-2 items-center w-full\">\n          {selectedTitle || (\n            <span className=\"text-slate-400\">{t('common.pleaseSelect')}</span>\n          )}\n          <ChevronDown className=\"size-5 \" />\n        </div>\n      </PopoverTrigger>\n      <PopoverContent className=\"p-1 min-w-[var(--radix-popover-trigger-width)]\">\n        <ul>{renderNodes()}</ul>\n      </PopoverContent>\n    </Popover>\n  );\n}\n","import {\n  AsyncTreeSelect,\n  TreeNodeType,\n} from '@/components/ui/async-tree-select';\nimport { ButtonLoading } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { useFetchPureFileList } from '@/hooks/file-manager-hooks';\nimport { IModalProps } from '@/interfaces/common';\nimport { IFile } from '@/interfaces/database/file-manager';\nimport { isEmpty } from 'lodash';\nimport { useCallback, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport function MoveDialog({ hideModal, onOk, loading }: IModalProps<any>) {\n  const { t } = useTranslation();\n\n  const { fetchList } = useFetchPureFileList();\n\n  const [treeValue, setTreeValue] = useState<number | string>('');\n\n  const [treeData, setTreeData] = useState([]);\n\n  const onLoadData = useCallback(\n    async ({ id }: TreeNodeType) => {\n      const ret = await fetchList(id as string);\n      if (ret.code === 0) {\n        setTreeData((tree) => {\n          return tree.concat(\n            ret.data.files\n              .filter((x: IFile) => x.type === 'folder')\n              .map((x: IFile) => ({\n                id: x.id,\n                parentId: x.parent_id,\n                title: x.name,\n                isLeaf:\n                  typeof x.has_child_folder === 'boolean'\n                    ? !x.has_child_folder\n                    : false,\n              })),\n          );\n        });\n      }\n    },\n    [fetchList],\n  );\n\n  const handleSubmit = useCallback(() => {\n    onOk?.(treeValue);\n  }, [onOk, treeValue]);\n\n  return (\n    <Dialog open onOpenChange={hideModal}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>{t('common.move')}</DialogTitle>\n        </DialogHeader>\n        <div>\n          <AsyncTreeSelect\n            treeData={treeData}\n            value={treeValue}\n            onChange={setTreeValue}\n            loadData={onLoadData}\n          ></AsyncTreeSelect>\n        </div>\n        <DialogFooter>\n          <ButtonLoading\n            type=\"submit\"\n            onClick={handleSubmit}\n            disabled={isEmpty(treeValue)}\n            loading={loading}\n          >\n            {t('common.save')}\n          </ButtonLoading>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useDeleteFile } from '@/hooks/use-file-request';\nimport { useCallback } from 'react';\nimport { useGetFolderId } from './hooks';\n\nexport const useHandleDeleteFile = () => {\n  const { deleteFile: removeDocument } = useDeleteFile();\n  const parentId = useGetFolderId();\n\n  const handleRemoveFile = useCallback(\n    async (fileIds: string[]) => {\n      const code = await removeDocument({ fileIds, parentId });\n\n      return code;\n    },\n    [parentId, removeDocument],\n  );\n\n  return { handleRemoveFile };\n};\n","import { useSetModalState } from '@/hooks/common-hooks';\nimport { useCreateFolder } from '@/hooks/use-file-request';\nimport { useCallback } from 'react';\nimport { useGetFolderId } from './hooks';\n\nexport const useHandleCreateFolder = () => {\n  const {\n    visible: folderCreateModalVisible,\n    hideModal: hideFolderCreateModal,\n    showModal: showFolderCreateModal,\n  } = useSetModalState();\n  const { createFolder, loading } = useCreateFolder();\n  const id = useGetFolderId();\n\n  const onFolderCreateOk = useCallback(\n    async (name: string) => {\n      const ret = await createFolder({ parentId: id, name });\n\n      if (ret === 0) {\n        hideFolderCreateModal();\n      }\n    },\n    [createFolder, hideFolderCreateModal, id],\n  );\n\n  return {\n    folderCreateLoading: loading,\n    onFolderCreateOk,\n    folderCreateModalVisible,\n    hideFolderCreateModal,\n    showFolderCreateModal,\n  };\n};\n","import { useSetModalState } from '@/hooks/common-hooks';\nimport { UseRowSelectionType } from '@/hooks/logic-hooks/use-row-selection';\nimport { useMoveFile } from '@/hooks/use-file-request';\nimport { useCallback, useRef, useState } from 'react';\n\nexport const useHandleMoveFile = ({\n  clearRowSelection,\n}: Pick<UseRowSelectionType, 'clearRowSelection'>) => {\n  const {\n    visible: moveFileVisible,\n    hideModal: hideMoveFileModal,\n    showModal: showMoveFileModal,\n  } = useSetModalState();\n  const { moveFile, loading } = useMoveFile();\n  const [sourceFileIds, setSourceFileIds] = useState<string[]>([]);\n  const isBulkRef = useRef(false);\n\n  const onMoveFileOk = useCallback(\n    async (targetFolderId: string) => {\n      const ret = await moveFile({\n        src_file_ids: sourceFileIds,\n        dest_file_id: targetFolderId,\n      });\n\n      if (ret === 0) {\n        if (isBulkRef.current) {\n          clearRowSelection();\n        }\n        hideMoveFileModal();\n      }\n      return ret;\n    },\n    [moveFile, sourceFileIds, hideMoveFileModal, clearRowSelection],\n  );\n\n  const handleShowMoveFileModal = useCallback(\n    (ids: string[], isBulk = false) => {\n      isBulkRef.current = isBulk;\n      setSourceFileIds(ids);\n      showMoveFileModal();\n    },\n    [showMoveFileModal],\n  );\n\n  return {\n    initialValue: '',\n    moveFileLoading: loading,\n    onMoveFileOk,\n    moveFileVisible,\n    hideMoveFileModal,\n    showMoveFileModal: handleShowMoveFileModal,\n  };\n};\n\nexport type UseMoveDocumentReturnType = ReturnType<typeof useHandleMoveFile>;\n\nexport type UseMoveDocumentShowType = Pick<\n  ReturnType<typeof useHandleMoveFile>,\n  'showMoveFileModal'\n>;\n","import { useSetModalState } from '@/hooks/common-hooks';\nimport { useUploadFile } from '@/hooks/use-file-request';\nimport { useCallback } from 'react';\nimport { useGetFolderId } from './hooks';\n\nexport const useHandleUploadFile = () => {\n  const {\n    visible: fileUploadVisible,\n    hideModal: hideFileUploadModal,\n    showModal: showFileUploadModal,\n  } = useSetModalState();\n  const { uploadFile, loading } = useUploadFile();\n  const id = useGetFolderId();\n\n  const onFileUploadOk = useCallback(\n    async (fileList: File[]): Promise<number | undefined> => {\n      if (fileList.length > 0) {\n        const ret: number = await uploadFile({ fileList, parentId: id });\n        if (ret === 0) {\n          hideFileUploadModal();\n        }\n        return ret;\n      }\n    },\n    [uploadFile, hideFileUploadModal, id],\n  );\n\n  return {\n    fileUploadLoading: loading,\n    onFileUploadOk,\n    fileUploadVisible,\n    hideFileUploadModal,\n    showFileUploadModal,\n  };\n};\n","import { BulkOperateBar } from '@/components/bulk-operate-bar';\nimport { FileUploadDialog } from '@/components/file-upload-dialog';\nimport ListFilterBar from '@/components/list-filter-bar';\nimport { Button } from '@/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { useRowSelection } from '@/hooks/logic-hooks/use-row-selection';\nimport { useFetchFileList } from '@/hooks/use-file-request';\nimport { Upload } from 'lucide-react';\nimport { useTranslation } from 'react-i18next';\nimport { CreateFolderDialog } from './create-folder-dialog';\nimport { FileBreadcrumb } from './file-breadcrumb';\nimport { FilesTable } from './files-table';\nimport { MoveDialog } from './move-dialog';\nimport { useBulkOperateFile } from './use-bulk-operate-file';\nimport { useHandleCreateFolder } from './use-create-folder';\nimport { useHandleMoveFile } from './use-move-file';\nimport { useSelectBreadcrumbItems } from './use-navigate-to-folder';\nimport { useHandleUploadFile } from './use-upload-file';\n\nexport default function Files() {\n  const { t } = useTranslation();\n  const {\n    fileUploadVisible,\n    hideFileUploadModal,\n    showFileUploadModal,\n    fileUploadLoading,\n    onFileUploadOk,\n  } = useHandleUploadFile();\n\n  const {\n    folderCreateModalVisible,\n    showFolderCreateModal,\n    hideFolderCreateModal,\n    folderCreateLoading,\n    onFolderCreateOk,\n  } = useHandleCreateFolder();\n\n  const {\n    pagination,\n    files,\n    total,\n    loading,\n    setPagination,\n    searchString,\n    handleInputChange,\n  } = useFetchFileList();\n\n  const {\n    rowSelection,\n    setRowSelection,\n    rowSelectionIsEmpty,\n    clearRowSelection,\n    selectedCount,\n  } = useRowSelection();\n\n  const {\n    showMoveFileModal,\n    moveFileVisible,\n    onMoveFileOk,\n    hideMoveFileModal,\n    moveFileLoading,\n  } = useHandleMoveFile({ clearRowSelection });\n\n  const { list } = useBulkOperateFile({\n    files,\n    rowSelection,\n    showMoveFileModal,\n    setRowSelection,\n  });\n\n  const breadcrumbItems = useSelectBreadcrumbItems();\n\n  const leftPanel = (\n    <div>\n      {breadcrumbItems.length > 0 ? <FileBreadcrumb></FileBreadcrumb> : 'File'}\n    </div>\n  );\n\n  return (\n    <section className=\"p-8\">\n      <ListFilterBar\n        leftPanel={leftPanel}\n        searchString={searchString}\n        onSearchChange={handleInputChange}\n        showFilter={false}\n        icon={'file'}\n      >\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button>\n              <Upload />\n              {t('knowledgeDetails.addFile')}\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent className=\"w-56\">\n            <DropdownMenuItem onClick={showFileUploadModal}>\n              {t('fileManager.uploadFile')}\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={showFolderCreateModal}>\n              {t('fileManager.newFolder')}\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </ListFilterBar>\n      {!rowSelectionIsEmpty && (\n        <BulkOperateBar list={list} count={selectedCount}></BulkOperateBar>\n      )}\n      <FilesTable\n        files={files}\n        total={total}\n        pagination={pagination}\n        setPagination={setPagination}\n        loading={loading}\n        rowSelection={rowSelection}\n        setRowSelection={setRowSelection}\n        showMoveFileModal={showMoveFileModal}\n      ></FilesTable>\n      {fileUploadVisible && (\n        <FileUploadDialog\n          hideModal={hideFileUploadModal}\n          onOk={onFileUploadOk}\n          loading={fileUploadLoading}\n        ></FileUploadDialog>\n      )}\n      {folderCreateModalVisible && (\n        <CreateFolderDialog\n          loading={folderCreateLoading}\n          visible={folderCreateModalVisible}\n          hideModal={hideFolderCreateModal}\n          onOk={onFolderCreateOk}\n        ></CreateFolderDialog>\n      )}\n      {moveFileVisible && (\n        <MoveDialog\n          hideModal={hideMoveFileModal}\n          onOk={onMoveFileOk}\n          loading={moveFileLoading}\n        ></MoveDialog>\n      )}\n    </section>\n  );\n}\n","import { useSelectedIds } from '@/hooks/logic-hooks/use-row-selection';\nimport { IFile } from '@/interfaces/database/file-manager';\nimport { OnChangeFn, RowSelectionState } from '@tanstack/react-table';\nimport { FolderInput, Trash2 } from 'lucide-react';\nimport { useTranslation } from 'react-i18next';\nimport { useHandleDeleteFile } from './use-delete-file';\nimport { UseMoveDocumentShowType } from './use-move-file';\n\nexport function useBulkOperateFile({\n  files,\n  rowSelection,\n  showMoveFileModal,\n  setRowSelection,\n}: {\n  files: IFile[];\n  rowSelection: RowSelectionState;\n  setRowSelection: OnChangeFn<RowSelectionState>;\n} & UseMoveDocumentShowType) {\n  const { t } = useTranslation();\n\n  const { selectedIds } = useSelectedIds(rowSelection, files);\n\n  const { handleRemoveFile } = useHandleDeleteFile();\n\n  const list = [\n    {\n      id: 'move',\n      label: t('common.move'),\n      icon: <FolderInput />,\n      onClick: () => {\n        showMoveFileModal(selectedIds, true);\n      },\n    },\n    {\n      id: 'delete',\n      label: t('common.delete'),\n      icon: <Trash2 />,\n      onClick: async () => {\n        const code = await handleRemoveFile(selectedIds);\n        if (code === 0) {\n          setRowSelection({});\n        }\n      },\n    },\n  ];\n\n  return { list };\n}\n","export enum Routes {\n  Login = '/login',\n  Home = '/home',\n  Datasets = '/datasets',\n  DatasetBase = '/dataset',\n  Dataset = `${Routes.DatasetBase}${Routes.DatasetBase}`,\n  Agent = '/agent',\n  AgentTemplates = '/agent-templates',\n  Agents = '/agents',\n  Searches = '/next-searches',\n  Search = '/next-search',\n  Chats = '/next-chats',\n  Chat = '/next-chat',\n  Files = '/files',\n  ProfileSetting = '/profile-setting',\n  DatasetTesting = '/testing',\n  DatasetSetting = '/setting',\n  Chunk = '/chunk',\n  ChunkResult = `${Chunk}${Chunk}`,\n  Parsed = '/parsed',\n  ParsedResult = `${Chunk}${Parsed}`,\n  Result = '/result',\n  ResultView = `${Chunk}${Result}`,\n}\n\nconst routes = [\n  {\n    path: '/login',\n    component: '@/pages/login',\n    layout: false,\n  },\n  {\n    path: '/login-next',\n    component: '@/pages/login-next',\n    layout: false,\n  },\n  {\n    path: '/chat/share',\n    component: '@/pages/chat/share',\n    layout: false,\n  },\n  {\n    path: '/',\n    component: '@/layouts',\n    layout: false,\n    wrappers: ['@/wrappers/auth'],\n    routes: [\n      { path: '/', redirect: '/knowledge' },\n      {\n        path: '/knowledge',\n        component: '@/pages/knowledge',\n        // component: '@/pages/knowledge/datasets',\n      },\n      {\n        path: '/knowledge',\n        component: '@/pages/add-knowledge',\n        routes: [\n          {\n            path: '/knowledge/dataset',\n            component: '@/pages/add-knowledge/components/knowledge-dataset',\n            routes: [\n              {\n                path: '/knowledge/dataset',\n                component: '@/pages/add-knowledge/components/knowledge-file',\n              },\n              {\n                path: '/knowledge/dataset/chunk',\n                component: '@/pages/add-knowledge/components/knowledge-chunk',\n              },\n            ],\n          },\n          {\n            path: '/knowledge/configuration',\n            component: '@/pages/add-knowledge/components/knowledge-setting',\n          },\n          {\n            path: '/knowledge/testing',\n            component: '@/pages/add-knowledge/components/knowledge-testing',\n          },\n          {\n            path: '/knowledge/knowledgeGraph',\n            component: '@/pages/add-knowledge/components/knowledge-graph',\n          },\n        ],\n      },\n      {\n        path: '/chat',\n        component: '@/pages/chat',\n      },\n      {\n        path: '/user-setting',\n        component: '@/pages/user-setting',\n        routes: [\n          { path: '/user-setting', redirect: '/user-setting/profile' },\n          {\n            path: '/user-setting/profile',\n            // component: '@/pages/user-setting/setting-profile',\n            component: '@/pages/user-setting/setting-profile',\n          },\n          {\n            path: '/user-setting/locale',\n            component: '@/pages/user-setting/setting-locale',\n          },\n          {\n            path: '/user-setting/password',\n            component: '@/pages/user-setting/setting-password',\n          },\n          {\n            path: '/user-setting/model',\n            component: '@/pages/user-setting/setting-model',\n          },\n          {\n            path: '/user-setting/team',\n            component: '@/pages/user-setting/setting-team',\n          },\n          {\n            path: '/user-setting/system',\n            component: '@/pages/user-setting/setting-system',\n          },\n          {\n            path: '/user-setting/api',\n            component: '@/pages/user-setting/setting-api',\n          },\n        ],\n      },\n      {\n        path: '/file',\n        component: '@/pages/file-manager',\n      },\n      {\n        path: '/flow',\n        component: '@/pages/flow/list',\n      },\n      {\n        path: '/flow/:id',\n        component: '@/pages/flow',\n      },\n      {\n        path: '/search',\n        component: '@/pages/search',\n      },\n    ],\n  },\n  {\n    path: '/document/:id',\n    component: '@/pages/document-viewer',\n    layout: false,\n  },\n  {\n    path: '/*',\n    component: '@/pages/404',\n    layout: false,\n  },\n  {\n    path: Routes.Home,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Home,\n        component: `@/pages${Routes.Home}`,\n      },\n    ],\n  },\n  {\n    path: Routes.Datasets,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Datasets,\n        component: `@/pages${Routes.Datasets}`,\n      },\n    ],\n  },\n  {\n    path: Routes.Chats,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Chats,\n        component: `@/pages${Routes.Chats}`,\n      },\n    ],\n  },\n  {\n    path: Routes.Chat,\n    layout: false,\n    component: `@/pages${Routes.Chats}/chat`,\n  },\n  {\n    path: Routes.Searches,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Searches,\n        component: `@/pages${Routes.Searches}`,\n      },\n    ],\n  },\n  {\n    path: Routes.Search,\n    layout: false,\n    component: `@/pages${Routes.Search}`,\n  },\n  {\n    path: Routes.Agents,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Agents,\n        component: `@/pages${Routes.Agents}`,\n      },\n    ],\n  },\n  {\n    path: `${Routes.Agent}/:id`,\n    layout: false,\n    component: `@/pages${Routes.Agent}`,\n  },\n  {\n    path: Routes.AgentTemplates,\n    layout: false,\n    component: `@/pages${Routes.Agents}${Routes.AgentTemplates}`,\n  },\n  {\n    path: Routes.Files,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Files,\n        component: `@/pages${Routes.Files}`,\n      },\n    ],\n  },\n  {\n    path: Routes.DatasetBase,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [{ path: Routes.DatasetBase, redirect: Routes.Dataset }],\n  },\n  {\n    path: Routes.DatasetBase,\n    layout: false,\n    component: `@/pages${Routes.DatasetBase}`,\n    routes: [\n      {\n        path: `${Routes.Dataset}/:id`,\n        component: `@/pages${Routes.Dataset}`,\n      },\n      {\n        path: `${Routes.DatasetBase}${Routes.DatasetSetting}/:id`,\n        component: `@/pages${Routes.DatasetBase}${Routes.DatasetSetting}`,\n      },\n      {\n        path: `${Routes.DatasetBase}${Routes.DatasetTesting}/:id`,\n        component: `@/pages${Routes.DatasetBase}${Routes.DatasetTesting}`,\n      },\n    ],\n  },\n  {\n    path: `${Routes.ParsedResult}/chunks`,\n    layout: false,\n    component: `@/pages${Routes.Chunk}/parsed-result/add-knowledge/components/knowledge-chunk`,\n  },\n  {\n    path: Routes.Chunk,\n    layout: false,\n    routes: [\n      {\n        path: Routes.Chunk,\n        component: `@/pages${Routes.Chunk}`,\n        routes: [\n          // {\n          //   path: `${Routes.ParsedResult}/:id`,\n          //   component: `@/pages${Routes.Chunk}/parsed-result`,\n          // },\n          {\n            path: `${Routes.ChunkResult}/:id`,\n            component: `@/pages${Routes.Chunk}/chunk-result`,\n          },\n          {\n            path: `${Routes.ResultView}/:id`,\n            component: `@/pages${Routes.Chunk}/result-view`,\n          },\n        ],\n      },\n    ],\n  },\n  {\n    path: Routes.Chunk,\n    layout: false,\n    component: `@/pages${Routes.Chunk}`,\n  },\n  {\n    path: Routes.ProfileSetting,\n    layout: false,\n    component: `@/pages${Routes.ProfileSetting}`,\n    routes: [\n      {\n        path: Routes.ProfileSetting,\n        redirect: `${Routes.ProfileSetting}/profile`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/profile`,\n        component: `@/pages${Routes.ProfileSetting}/profile`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/team`,\n        component: `@/pages${Routes.ProfileSetting}/team`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/plan`,\n        component: `@/pages${Routes.ProfileSetting}/plan`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/model`,\n        component: `@/pages${Routes.ProfileSetting}/model`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/prompt`,\n        component: `@/pages${Routes.ProfileSetting}/prompt`,\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request from '@/utils/request';\n\nconst {\n  listFile,\n  removeFile,\n  uploadFile,\n  renameFile,\n  getAllParentFolder,\n  createFolder,\n  connectFileToKnowledge,\n  get_document_file,\n  getFile,\n  moveFile,\n} = api;\n\nconst methods = {\n  listFile: {\n    url: listFile,\n    method: 'get',\n  },\n  removeFile: {\n    url: removeFile,\n    method: 'post',\n  },\n  uploadFile: {\n    url: uploadFile,\n    method: 'post',\n  },\n  renameFile: {\n    url: renameFile,\n    method: 'post',\n  },\n  getAllParentFolder: {\n    url: getAllParentFolder,\n    method: 'get',\n  },\n  createFolder: {\n    url: createFolder,\n    method: 'post',\n  },\n  connectFileToKnowledge: {\n    url: connectFileToKnowledge,\n    method: 'post',\n  },\n  getFile: {\n    url: getFile,\n    method: 'get',\n    responseType: 'blob',\n  },\n  getDocumentFile: {\n    url: get_document_file,\n    method: 'get',\n    responseType: 'blob',\n  },\n  moveFile: {\n    url: moveFile,\n    method: 'post',\n  },\n} as const;\n\nconst fileManagerService = registerServer<keyof typeof methods>(\n  methods,\n  request,\n);\n\nexport default fileManagerService;\n","import { FileMimeType } from '@/constants/common';\nimport fileManagerService from '@/services/file-manager-service';\nimport { UploadFile } from 'antd';\n\nexport const transformFile2Base64 = (val: any): Promise<any> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(val);\n    reader.onload = (): void => {\n      // Create image object\n      const img = new Image();\n      img.src = reader.result as string;\n\n      img.onload = () => {\n        // Create canvas\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n\n        // Calculate compressed dimensions, set max width/height to 800px\n        let width = img.width;\n        let height = img.height;\n        const maxSize = 100;\n\n        if (width > height && width > maxSize) {\n          height = (height * maxSize) / width;\n          width = maxSize;\n        } else if (height > maxSize) {\n          width = (width * maxSize) / height;\n          height = maxSize;\n        }\n\n        // Set canvas dimensions\n        canvas.width = width;\n        canvas.height = height;\n\n        // Draw image\n        ctx?.drawImage(img, 0, 0, width, height);\n\n        // Convert to base64, maintain original format and transparency\n        const compressedBase64 = canvas.toDataURL('image/png');\n        resolve(compressedBase64);\n      };\n\n      img.onerror = reject;\n    };\n    reader.onerror = reject;\n  });\n};\n\nexport const transformBase64ToFile = (\n  dataUrl: string,\n  filename: string = 'file',\n) => {\n  let arr = dataUrl.split(','),\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n\n  const mime = arr[0].match(/:(.*?);/);\n  const mimeType = mime ? mime[1] : 'image/png';\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], filename, { type: mimeType });\n};\n\nexport const normFile = (e: any) => {\n  if (Array.isArray(e)) {\n    return e;\n  }\n  return e?.fileList;\n};\n\nexport const getUploadFileListFromBase64 = (avatar: string) => {\n  let fileList: UploadFile[] = [];\n\n  if (avatar) {\n    fileList = [{ uid: '1', name: 'file', thumbUrl: avatar, status: 'done' }];\n  }\n\n  return fileList;\n};\n\nexport const getBase64FromUploadFileList = async (fileList?: UploadFile[]) => {\n  if (Array.isArray(fileList) && fileList.length > 0) {\n    const file = fileList[0];\n    const originFileObj = file.originFileObj;\n    if (originFileObj) {\n      const base64 = await transformFile2Base64(originFileObj);\n      return base64;\n    } else {\n      return file.thumbUrl;\n    }\n    // return fileList[0].thumbUrl; TODO: Even JPG files will be converted to base64 parameters in png format\n  }\n\n  return '';\n};\n\nasync function fetchDocumentBlob(id: string, mimeType?: FileMimeType) {\n  const response = await fileManagerService.getDocumentFile({}, id);\n  const blob = new Blob([response.data], {\n    type: mimeType || response.data.type,\n  });\n\n  return blob;\n}\n\nexport async function previewHtmlFile(id: string) {\n  const blob = await fetchDocumentBlob(id, FileMimeType.Html);\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.click();\n  URL.revokeObjectURL(url);\n}\n\nexport const downloadFileFromBlob = (blob: Blob, name?: string) => {\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  if (name) {\n    a.download = name;\n  }\n  a.click();\n  window.URL.revokeObjectURL(url);\n};\n\nexport const downloadDocument = async ({\n  id,\n  filename,\n}: {\n  id: string;\n  filename?: string;\n}) => {\n  const blob = await fetchDocumentBlob(id);\n  downloadFileFromBlob(blob, filename);\n};\n\nconst Units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport const formatBytes = (x: string | number) => {\n  let l = 0,\n    n = (typeof x === 'string' ? parseInt(x, 10) : x) || 0;\n\n  while (n >= 1024 && ++l) {\n    n = n / 1024;\n  }\n\n  return n.toFixed(n < 10 && l > 0 ? 1 : 0) + ' ' + Units[l];\n};\n\nexport const downloadJsonFile = async (\n  data: Record<string, any>,\n  fileName: string,\n) => {\n  const blob = new Blob([JSON.stringify(data)], { type: FileMimeType.Json });\n  downloadFileFromBlob(blob, fileName);\n};\n\nexport function transformBase64ToFileWithPreview(\n  dataUrl: string,\n  filename: string = 'file',\n) {\n  const file = transformBase64ToFile(dataUrl, filename);\n\n  (file as any).preview = dataUrl;\n\n  return file;\n}\n\nexport const getBase64FromFileList = async (fileList?: File[]) => {\n  if (Array.isArray(fileList) && fileList.length > 0) {\n    const file = fileList[0];\n    if (file) {\n      const base64 = await transformFile2Base64(file);\n      return base64;\n    }\n  }\n\n  return '';\n};\n"],"names":["BulkOperateBar","_ref","list","count","isDeleteItem","useCallback","id","_jsx","Card","className","children","_jsxs","CardContent","BrushCleaning","Separator","orientation","map","x","cn","_defineProperty","ConfirmDeleteDialog","hidden","onOk","onClick","Button","variant","icon","label","_excluded","_excluded2","_excluded3","Tabs","TabsPrimitive","TabsList","React","ref","props","_objectWithoutProperties","_objectSpread","displayName","TabsTrigger","_ref2","TabsContent","_ref3","UploaderTabs","setFiles","t","useTranslation","defaultValue","value","FileUploader","maxFileCount","maxSize","onValueChange","accept","FileUploadDialog","hideModal","loading","_useState","useState","_useState2","_slicedToArray","files","handleOk","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","DialogFooter","ButtonLoading","type","ScrollBar","_ref$orientation","ScrollAreaPrimitive","ScrollArea","useCallbackRef","callback","callbackRef","current","_callbackRef$current","_len","arguments","length","args","Array","_key","call","apply","concat","useControllableState","prop","defaultProp","_ref2$onChange","onChange","_useUncontrolledState","uncontrolledState","prevValueRef","handleChange","useUncontrolledState","_useUncontrolledState2","uncontrolledProp","setUncontrolledProp","isControlled","undefined","nextValue","isFileWithPreview","file","preview","FilePreview","startsWith","src","alt","name","width","height","FileText","FileCard","progress","onRemove","formatBytes","size","Progress","X","_files$length2","valueProp","onUpload","progresses","_props$accept","_props$maxSize","_props$maxFileCount","_props$multiple","multiple","_props$disabled","disabled","dropzoneProps","_useControllableState","_useControllableState2","onDrop","acceptedFiles","rejectedFiles","_files$length","toast","error","newFiles","Object","assign","URL","createObjectURL","updatedFiles","_toConsumableArray","forEach","target","promise","success","revokeObjectURL","isDisabled","Dropzone","maxFiles","_ref4","getRootProps","getInputProps","isDragActive","Upload","Infinity","index","filter","_","i","link","_ref$preventDefault","preventDefault","_ref$color","color","documentId","documentName","_ref$prefix","prefix","nextLink","extension","getExtension","isSupportedPreviewDocumentType","e","href","rel","style","wordBreak","Row","columnsLength","TableRow","TableCell","colSpan","TableSkeleton","Loader2","TableEmpty","badgeVariants","cva","variants","default","secondary","destructive","outline","tertiary","defaultVariants","Badge","CardHeader","CardTitle","CardDescription","_excluded4","_ref5","_excluded5","_ref6","_excluded6","_excluded7","Command","CommandPrimitive","CommandInput","Search","Input","CommandList","List","CommandEmpty","Empty","CommandGroup","Group","CommandSeparator","CommandItem","_ref7","Item","DialogPrimitive","DialogTrigger","DialogPortal","DialogOverlay","HoverCard","HoverCardPrimitive","HoverCardTrigger","HoverCardContent","_ref$align","align","_ref$sideOffset","sideOffset","buttonVariants","ghost","sm","lg","LoadingButton","_ref$loading","_ref$asChild","asChild","Comp","Slot","Slottable","multiSelectVariants","inverted","MultiSelect","options","_ref$defaultValue","_ref$placeholder","placeholder","_ref$animation","animation","_ref$maxCount","maxCount","_ref$modalPopover","modalPopover","_React$useState","_React$useState2","selectedValues","setSelectedValues","_React$useState3","_React$useState4","isPopoverOpen","setIsPopoverOpen","_React$useState5","_React$useState6","isAnimating","setIsAnimating","toggleOption","option","newSelectedValues","includes","handleClear","Popover","modal","PopoverTrigger","prev","slice","find","o","IconComponent","animationDuration","XCircle","event","stopPropagation","XIcon","ChevronDown","PopoverContent","onEscapeKeyDown","onKeyDown","key","currentTarget","pop","onSelect","allValues","CheckIcon","isSelected","_Fragment","WandSparkles","ProgressPrimitive","transform","Table","rootClassName","TableHeader","TableBody","TableHead","_ref8","_excluded8","useGetFolderId","_useSearchParams","useSearchParams","get","useFetchPureFileList","_mutationFn","_useMutation","useMutation","mutationKey","gcTime","mutationFn","_asyncToGenerator","_regeneratorRuntime","mark","_callee","parentId","_yield$fileManagerSer","data","wrap","_context","next","fileManagerService","listFile","parent_id","sent","abrupt","stop","_x","mutateAsync","isPending","fetchList","useFetchFileList","_data$data","_queryFn","_useHandleSearchChang","useHandleSearchChange","searchString","handleInputChange","_useGetPaginationWith","useGetPaginationWithRouter","pagination","setPagination","_useQuery","useQuery","queryKey","initialData","queryFn","_callee2","_yield$fileManagerSer2","_context2","keywords","page_size","pageSize","page","isFetching","onInputChange","total","useDeleteFile","_mutationFn2","setPaginationParams","useSetPaginationParams","queryClient","useQueryClient","_useMutation2","_callee3","params","_yield$fileManagerSer3","_context3","removeFile","code","invalidateQueries","_x2","deleteFile","useDownloadFile","_mutationFn3","_useMutation3","_callee4","response","blob","_context4","getFile","Blob","downloadFileFromBlob","filename","_x3","downloadFile","useRenameFile","_mutationFn4","_useMutation4","_callee5","_yield$fileManagerSer4","_context5","renameFile","message","_x4","useFetchParentFolderList","_queryFn2","_useQuery2","enabled","_callee6","_data$data$parent_fol","_data$data2","_yield$fileManagerSer5","_context6","getAllParentFolder","fileId","parent_folders","toReversed","useCreateFolder","_mutationFn5","_useMutation5","_callee7","_yield$fileManagerSer6","_context7","createFolder","_x5","useUploadFile","_mutationFn6","_useMutation6","_callee8","fileList","pathList","formData","_ret$data","ret","_context8","webkitRelativePath","FormData","append","uploadFile","t0","console","log","_x6","useConnectToKnowledge","_mutationFn7","_useMutation7","_callee9","_yield$fileManagerSer7","_context9","connectFileToKnowledge","_x7","useMoveFile","_mutationFn8","_useMutation8","_callee10","_yield$fileManagerSer8","_context10","moveFile","_x8","QueryStringMap","useNavigatePage","navigate","useNavigate","searchParams","useParams","navigateToDatasetList","Routes","Datasets","navigateToDataset","Dataset","navigateToHome","Home","navigateToProfile","ProfileSetting","navigateToChatList","Chats","navigateToChat","Chat","navigateToAgentList","Agents","navigateToAgent","Agent","navigateToAgentTemplates","AgentTemplates","navigateToSearchList","Searches","navigateToSearch","navigateToChunkParsedResult","knowledgeId","ParsedResult","getQueryString","queryStringKey","allQueryString","KnowledgeId","navigateToChunk","route","navigateToFiles","folderId","Files","useRowSelection","rowSelection","setRowSelection","clearRowSelection","selectedCount","useMemo","keys","rowSelectionIsEmpty","isEmpty","useSelectedIds","selectedIds","indexes","idx","some","y","Number","FileApiAction","debouncedSearchString","useDebounce","wait","parent_folder","CreateFolderForm","FormSchema","z","object","string","min","trim","form","useForm","resolver","zodResolver","defaultValues","_onSubmit","Form","onSubmit","handleSubmit","TagRenameId","FormField","control","render","field","FormItem","FormLabel","FormControl","autoComplete","FormMessage","CreateFolderDialog","Breadcrumb","_objectDestructuringEmpty","BreadcrumbList","BreadcrumbItem","BreadcrumbPage","role","BreadcrumbSeparator","ChevronRight","useNavigateToOtherFolder","useSelectBreadcrumbItems","parentFolderList","title","path","FileBreadcrumb","breadcrumbItems","isFolderType","ActionCell","row","showConnectToKnowledgeModal","showFileRenameModal","showMoveFileModal","record","original","isFolder","handleShowConnectToKnowledgeModal","onDownloadDocument","handleShowFileRenameModal","handleShowMoveFileModal","Link2","FolderInput","FolderPen","ArrowDownToLine","NewDocumentLink","Eye","Trash2","useRenameCurrentFile","_useState3","_useState4","setFile","_useSetModalState","useSetModalState","fileRenameVisible","visible","hideFileRenameModal","showModal","_useRenameFile","onFileRenameOk","fileRenameLoading","initialFileName","useHandleConnectToKnowledge","_useSetModalState2","connectToKnowledgeVisible","hideConnectToKnowledgeModal","_useConnectToKnowledg","connectToKnowledge","_useState5","_useState6","setRecord","initialValue","_record$kbs_info","isArray","kbs_info","kb_id","onConnectToKnowledgeOk","knowledgeIds","fileIds","kbIds","initialConnectedIds","connectToKnowledgeLoading","KnowledgeCell","renderBadges","kb_name","Ellipsis","FormId","array","LinkToDatasetForm","useSelectKnowledgeOptions","LinkToDatasetDialog","FilesTable","_table$getRowModel$ro","sorting","setSorting","columnFilters","setColumnFilters","columnVisibility","setColumnVisibility","keyPrefix","navigateToOtherFolder","_useHandleConnectToKn","_useRenameCurrentFile","columns","header","table","Checkbox","checked","getIsAllPageRowsSelected","getIsSomePageRowsSelected","onCheckedChange","toggleAllPageRowsSelected","cell","getIsSelected","toggleSelected","enableSorting","enableHiding","accessorKey","column","toggleSorting","getIsSorted","ArrowUpDown","meta","cellClassName","getValue","Tooltip","TooltipTrigger","FileIcon","TooltipContent","formatDate","_ref9","formatFileSize","_ref10","_ref11","currentPagination","pageIndex","useReactTable","onSortingChange","onColumnFiltersChange","getCoreRowModel","getSortedRowModel","getFilteredRowModel","onColumnVisibilityChange","onRowSelectionChange","manualPagination","state","rowCount","debugTable","getHeaderGroups","headerGroup","headers","isPlaceholder","flexRender","columnDef","getContext","getRowModel","rows","getVisibleCells","_cell$column$columnDe","RAGFlowPagination","pick","RenameDialog","initialName","AsyncTreeSelect","treeData","loadData","setOpen","expandedKeys","setExpandedKeys","loadingId","setLoadingId","selectedTitle","_treeData$find","isExpanded","indexOf","handleNodeClick","handleArrowClick","node","hasChild","renderNodes","currentLevelList","every","isLeaf","useEffect","MoveDialog","treeValue","setTreeValue","setTreeData","onLoadData","tree","has_child_folder","useHandleDeleteFile","_useDeleteFile","removeDocument","handleRemoveFile","useHandleCreateFolder","folderCreateModalVisible","hideFolderCreateModal","showFolderCreateModal","_useCreateFolder","onFolderCreateOk","folderCreateLoading","useHandleMoveFile","moveFileVisible","hideMoveFileModal","_useMoveFile","sourceFileIds","setSourceFileIds","isBulkRef","useRef","onMoveFileOk","targetFolderId","src_file_ids","dest_file_id","ids","isBulk","moveFileLoading","useHandleUploadFile","fileUploadVisible","hideFileUploadModal","showFileUploadModal","_useUploadFile","onFileUploadOk","fileUploadLoading","_useHandleUploadFile","_useHandleCreateFolde","_useFetchFileList","_useRowSelection","_useHandleMoveFile","_useBulkOperateFile","_onClick","useBulkOperateFile","leftPanel","ListFilterBar","onSearchChange","showFilter","DropdownMenu","DropdownMenuTrigger","DropdownMenuContent","DropdownMenuItem","DropdownMenuSeparator","DatasetBase","DatasetSetting","DatasetTesting","Chunk","ChunkResult","ResultView","api","get_document_file","methods","url","method","responseType","getDocumentFile","registerServer","request","transformFile2Base64","val","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","img","Image","result","canvas","document","createElement","ctx","drawImage","compressedBase64","toDataURL","onerror","normFile","getUploadFileListFromBase64","avatar","uid","thumbUrl","status","getBase64FromUploadFileList","originFileObj","base64","fetchDocumentBlob","_fetchDocumentBlob","mimeType","previewHtmlFile","_previewHtmlFile","FileMimeType","Html","click","window","a","download","downloadDocument","Units","l","n","parseInt","toFixed","downloadJsonFile","fileName","JSON","stringify","Json"],"sourceRoot":""}